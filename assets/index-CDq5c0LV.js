var g1=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var KL=g1((Sn,An)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Ap(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ff={exports:{}},cl={},pf={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function y1(){if(Vy)return Ne;Vy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,V={};function b(j,Y,ge){this.props=j,this.context=Y,this.refs=V,this.updater=ge||k}b.prototype.isReactComponent={},b.prototype.setState=function(j,Y){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Y,"setState")},b.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function x(){}x.prototype=b.prototype;function M(j,Y,ge){this.props=j,this.context=Y,this.refs=V,this.updater=ge||k}var q=M.prototype=new x;q.constructor=M,D(q,b.prototype),q.isPureReactComponent=!0;var Z=Array.isArray,W=Object.prototype.hasOwnProperty,X={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(j,Y,ge){var Oe,ke={},De=null,Me=null;if(Y!=null)for(Oe in Y.ref!==void 0&&(Me=Y.ref),Y.key!==void 0&&(De=""+Y.key),Y)W.call(Y,Oe)&&!A.hasOwnProperty(Oe)&&(ke[Oe]=Y[Oe]);var je=arguments.length-2;if(je===1)ke.children=ge;else if(1<je){for(var Ye=Array(je),yt=0;yt<je;yt++)Ye[yt]=arguments[yt+2];ke.children=Ye}if(j&&j.defaultProps)for(Oe in je=j.defaultProps,je)ke[Oe]===void 0&&(ke[Oe]=je[Oe]);return{$$typeof:n,type:j,key:De,ref:Me,props:ke,_owner:X.current}}function R(j,Y){return{$$typeof:n,type:j.type,key:Y,ref:j.ref,props:j.props,_owner:j._owner}}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function N(j){var Y={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ge){return Y[ge]})}var U=/\/+/g;function C(j,Y){return typeof j=="object"&&j!==null&&j.key!=null?N(""+j.key):Y.toString(36)}function qe(j,Y,ge,Oe,ke){var De=typeof j;(De==="undefined"||De==="boolean")&&(j=null);var Me=!1;if(j===null)Me=!0;else switch(De){case"string":case"number":Me=!0;break;case"object":switch(j.$$typeof){case n:case e:Me=!0}}if(Me)return Me=j,ke=ke(Me),j=Oe===""?"."+C(Me,0):Oe,Z(ke)?(ge="",j!=null&&(ge=j.replace(U,"$&/")+"/"),qe(ke,Y,ge,"",function(yt){return yt})):ke!=null&&(O(ke)&&(ke=R(ke,ge+(!ke.key||Me&&Me.key===ke.key?"":(""+ke.key).replace(U,"$&/")+"/")+j)),Y.push(ke)),1;if(Me=0,Oe=Oe===""?".":Oe+":",Z(j))for(var je=0;je<j.length;je++){De=j[je];var Ye=Oe+C(De,je);Me+=qe(De,Y,ge,Ye,ke)}else if(Ye=w(j),typeof Ye=="function")for(j=Ye.call(j),je=0;!(De=j.next()).done;)De=De.value,Ye=Oe+C(De,je++),Me+=qe(De,Y,ge,Ye,ke);else if(De==="object")throw Y=String(j),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Me}function ft(j,Y,ge){if(j==null)return j;var Oe=[],ke=0;return qe(j,Oe,"","",function(De){return Y.call(ge,De,ke++)}),Oe}function gt(j){if(j._status===-1){var Y=j._result;Y=Y(),Y.then(function(ge){(j._status===0||j._status===-1)&&(j._status=1,j._result=ge)},function(ge){(j._status===0||j._status===-1)&&(j._status=2,j._result=ge)}),j._status===-1&&(j._status=0,j._result=Y)}if(j._status===1)return j._result.default;throw j._result}var $e={current:null},se={transition:null},Ee={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:se,ReactCurrentOwner:X};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:ft,forEach:function(j,Y,ge){ft(j,function(){Y.apply(this,arguments)},ge)},count:function(j){var Y=0;return ft(j,function(){Y++}),Y},toArray:function(j){return ft(j,function(Y){return Y})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ne.Component=b,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=M,Ne.StrictMode=i,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ee,Ne.act=le,Ne.cloneElement=function(j,Y,ge){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Oe=D({},j.props),ke=j.key,De=j.ref,Me=j._owner;if(Y!=null){if(Y.ref!==void 0&&(De=Y.ref,Me=X.current),Y.key!==void 0&&(ke=""+Y.key),j.type&&j.type.defaultProps)var je=j.type.defaultProps;for(Ye in Y)W.call(Y,Ye)&&!A.hasOwnProperty(Ye)&&(Oe[Ye]=Y[Ye]===void 0&&je!==void 0?je[Ye]:Y[Ye])}var Ye=arguments.length-2;if(Ye===1)Oe.children=ge;else if(1<Ye){je=Array(Ye);for(var yt=0;yt<Ye;yt++)je[yt]=arguments[yt+2];Oe.children=je}return{$$typeof:n,type:j.type,key:ke,ref:De,props:Oe,_owner:Me}},Ne.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Ne.createElement=S,Ne.createFactory=function(j){var Y=S.bind(null,j);return Y.type=j,Y},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(j){return{$$typeof:d,render:j}},Ne.isValidElement=O,Ne.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:gt}},Ne.memo=function(j,Y){return{$$typeof:y,type:j,compare:Y===void 0?null:Y}},Ne.startTransition=function(j){var Y=se.transition;se.transition={};try{j()}finally{se.transition=Y}},Ne.unstable_act=le,Ne.useCallback=function(j,Y){return $e.current.useCallback(j,Y)},Ne.useContext=function(j){return $e.current.useContext(j)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(j){return $e.current.useDeferredValue(j)},Ne.useEffect=function(j,Y){return $e.current.useEffect(j,Y)},Ne.useId=function(){return $e.current.useId()},Ne.useImperativeHandle=function(j,Y,ge){return $e.current.useImperativeHandle(j,Y,ge)},Ne.useInsertionEffect=function(j,Y){return $e.current.useInsertionEffect(j,Y)},Ne.useLayoutEffect=function(j,Y){return $e.current.useLayoutEffect(j,Y)},Ne.useMemo=function(j,Y){return $e.current.useMemo(j,Y)},Ne.useReducer=function(j,Y,ge){return $e.current.useReducer(j,Y,ge)},Ne.useRef=function(j){return $e.current.useRef(j)},Ne.useState=function(j){return $e.current.useState(j)},Ne.useSyncExternalStore=function(j,Y,ge){return $e.current.useSyncExternalStore(j,Y,ge)},Ne.useTransition=function(){return $e.current.useTransition()},Ne.version="18.3.1",Ne}var My;function Rp(){return My||(My=1,pf.exports=y1()),pf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function v1(){if(Fy)return cl;Fy=1;var n=Rp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,y){var _,T={},w=null,k=null;y!==void 0&&(w=""+y),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(k=f.ref);for(_ in f)i.call(f,_)&&!a.hasOwnProperty(_)&&(T[_]=f[_]);if(d&&d.defaultProps)for(_ in f=d.defaultProps,f)T[_]===void 0&&(T[_]=f[_]);return{$$typeof:e,type:d,key:w,ref:k,props:T,_owner:o.current}}return cl.Fragment=t,cl.jsx=u,cl.jsxs=u,cl}var Uy;function _1(){return Uy||(Uy=1,ff.exports=v1()),ff.exports}var ye=_1(),$=Rp();const ot=Ap($);var Ec={},mf={exports:{}},hn={},gf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function E1(){return $y||($y=1,function(n){function e(se,Ee){var le=se.length;se.push(Ee);e:for(;0<le;){var j=le-1>>>1,Y=se[j];if(0<o(Y,Ee))se[j]=Ee,se[le]=Y,le=j;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var Ee=se[0],le=se.pop();if(le!==Ee){se[0]=le;e:for(var j=0,Y=se.length,ge=Y>>>1;j<ge;){var Oe=2*(j+1)-1,ke=se[Oe],De=Oe+1,Me=se[De];if(0>o(ke,le))De<Y&&0>o(Me,ke)?(se[j]=Me,se[De]=le,j=De):(se[j]=ke,se[Oe]=le,j=Oe);else if(De<Y&&0>o(Me,le))se[j]=Me,se[De]=le,j=De;else break e}}return Ee}function o(se,Ee){var le=se.sortIndex-Ee.sortIndex;return le!==0?le:se.id-Ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],y=[],_=1,T=null,w=3,k=!1,D=!1,V=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(se){for(var Ee=t(y);Ee!==null;){if(Ee.callback===null)i(y);else if(Ee.startTime<=se)i(y),Ee.sortIndex=Ee.expirationTime,e(f,Ee);else break;Ee=t(y)}}function Z(se){if(V=!1,q(se),!D)if(t(f)!==null)D=!0,gt(W);else{var Ee=t(y);Ee!==null&&$e(Z,Ee.startTime-se)}}function W(se,Ee){D=!1,V&&(V=!1,x(S),S=-1),k=!0;var le=w;try{for(q(Ee),T=t(f);T!==null&&(!(T.expirationTime>Ee)||se&&!N());){var j=T.callback;if(typeof j=="function"){T.callback=null,w=T.priorityLevel;var Y=j(T.expirationTime<=Ee);Ee=n.unstable_now(),typeof Y=="function"?T.callback=Y:T===t(f)&&i(f),q(Ee)}else i(f);T=t(f)}if(T!==null)var ge=!0;else{var Oe=t(y);Oe!==null&&$e(Z,Oe.startTime-Ee),ge=!1}return ge}finally{T=null,w=le,k=!1}}var X=!1,A=null,S=-1,R=5,O=-1;function N(){return!(n.unstable_now()-O<R)}function U(){if(A!==null){var se=n.unstable_now();O=se;var Ee=!0;try{Ee=A(!0,se)}finally{Ee?C():(X=!1,A=null)}}else X=!1}var C;if(typeof M=="function")C=function(){M(U)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,ft=qe.port2;qe.port1.onmessage=U,C=function(){ft.postMessage(null)}}else C=function(){b(U,0)};function gt(se){A=se,X||(X=!0,C())}function $e(se,Ee){S=b(function(){se(n.unstable_now())},Ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){D||k||(D=!0,gt(W))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(se){switch(w){case 1:case 2:case 3:var Ee=3;break;default:Ee=w}var le=w;w=Ee;try{return se()}finally{w=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,Ee){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=w;w=se;try{return Ee()}finally{w=le}},n.unstable_scheduleCallback=function(se,Ee,le){var j=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?j+le:j):le=j,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,se={id:_++,callback:Ee,priorityLevel:se,startTime:le,expirationTime:Y,sortIndex:-1},le>j?(se.sortIndex=le,e(y,se),t(f)===null&&se===t(y)&&(V?(x(S),S=-1):V=!0,$e(Z,le-j))):(se.sortIndex=Y,e(f,se),D||k||(D=!0,gt(W))),se},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(se){var Ee=w;return function(){var le=w;w=Ee;try{return se.apply(this,arguments)}finally{w=le}}}}(yf)),yf}var jy;function w1(){return jy||(jy=1,gf.exports=E1()),gf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function T1(){if(zy)return hn;zy=1;var n=Rp(),e=w1();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},T={};function w(r){return f.call(T,r)?!0:f.call(_,r)?!1:y.test(r)?T[r]=!0:(_[r]=!0,!1)}function k(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function D(r,s,l,h){if(s===null||typeof s>"u"||k(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function V(r,s,l,h,p,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new V(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];b[s]=new V(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new V(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new V(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new V(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new V(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new V(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new V(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new V(r,5,!1,r.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function M(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(x,M);b[s]=new V(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(x,M);b[s]=new V(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(x,M);b[s]=new V(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new V(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new V(r,1,!1,r.toLowerCase(),null,!0,!0)});function q(r,s,l,h){var p=b.hasOwnProperty(s)?b[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,l,p,h)&&(l=null),h||p===null?w(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var Z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),X=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),N=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),se=Symbol.iterator;function Ee(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,j;function Y(r){if(j===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+r}var ge=!1;function Oe(r,s){if(!r||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var h=K}Reflect.construct(r,[],s)}else{try{s.call()}catch(K){h=K}r.call(s.prototype)}else{try{throw Error()}catch(K){h=K}r()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var p=K.stack.split(`
`),g=h.stack.split(`
`),E=p.length-1,P=g.length-1;1<=E&&0<=P&&p[E]!==g[P];)P--;for(;1<=E&&0<=P;E--,P--)if(p[E]!==g[P]){if(E!==1||P!==1)do if(E--,P--,0>P||p[E]!==g[P]){var L=`
`+p[E].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=E&&0<=P);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function ke(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Oe(r.type,!1),r;case 11:return r=Oe(r.type.render,!1),r;case 1:return r=Oe(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case X:return"Portal";case R:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case qe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case O:return(r._context.displayName||"Context")+".Provider";case U:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ft:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case gt:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function Me(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function je(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ye(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yt(r){var s=Ye(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function mn(r){r._valueTracker||(r._valueTracker=yt(r))}function hi(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Ye(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function $n(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Nr(r,s){var l=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function di(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=je(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function os(r,s){s=s.checked,s!=null&&q(r,"checked",s,!1)}function as(r,s){os(r,s);var l=je(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ur(r,s.type,l):s.hasOwnProperty("defaultValue")&&ur(r,s.type,je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function so(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function ur(r,s,l){(s!=="number"||$n(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var jn=Array.isArray;function zn(r,s,l,h){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&h&&(r[l].defaultSelected=!0)}else{for(l=""+je(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function G(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ae(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(jn(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:je(l)}}function fe(r,s){var l=je(s.value),h=je(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function _e(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ve(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ae(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ve(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var nt,Xt=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(nt=nt||document.createElement("div"),nt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=nt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Rn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dr=["Webkit","ms","Moz","O"];Object.keys(Bn).forEach(function(r){Dr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Bn[s]=Bn[r]})});function fi(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Bn.hasOwnProperty(r)&&Bn[r]?(""+s).trim():s+"px"}function ls(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=fi(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,p):r[l]=p}}var Ia=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sa(r,s){if(s){if(Ia[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Aa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var us=null;function oo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ao=null,Cn=null,cr=null;function lo(r){if(r=Qa(r)){if(typeof ao!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Lu(s),ao(r.stateNode,r.type,s))}}function hr(r){Cn?cr?cr.push(r):cr=[r]:Cn=r}function Ra(){if(Cn){var r=Cn,s=cr;if(cr=Cn=null,lo(r),s)for(r=0;r<s.length;r++)lo(s[r])}}function cs(r,s){return r(s)}function Ca(){}var Lr=!1;function Pa(r,s,l){if(Lr)return r(s,l);Lr=!0;try{return cs(r,s,l)}finally{Lr=!1,(Cn!==null||cr!==null)&&(Ca(),Ra())}}function vt(r,s){var l=r.stateNode;if(l===null)return null;var h=Lu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var uo=!1;if(d)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){uo=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{uo=!1}function hs(r,s,l,h,p,g,E,P,L){var K=Array.prototype.slice.call(arguments,3);try{s.apply(l,K)}catch(te){this.onError(te)}}var ds=!1,co=null,qn=!1,ka=null,$h={onError:function(r){ds=!0,co=r}};function ho(r,s,l,h,p,g,E,P,L){ds=!1,co=null,hs.apply($h,arguments)}function ou(r,s,l,h,p,g,E,P,L){if(ho.apply(this,arguments),ds){if(ds){var K=co;ds=!1,co=null}else throw Error(t(198));qn||(qn=!0,ka=K)}}function Wn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function fs(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Kn(r){if(Wn(r)!==r)throw Error(t(188))}function au(r){var s=r.alternate;if(!s){if(s=Wn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return Kn(p),r;if(g===h)return Kn(p),s;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=g;else{for(var E=!1,P=p.child;P;){if(P===l){E=!0,l=p,h=g;break}if(P===h){E=!0,h=p,l=g;break}P=P.sibling}if(!E){for(P=g.child;P;){if(P===l){E=!0,l=g,h=p;break}if(P===h){E=!0,h=g,l=p;break}P=P.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function ba(r){return r=au(r),r!==null?fo(r):null}function fo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=fo(r);if(s!==null)return s;r=r.sibling}return null}var po=e.unstable_scheduleCallback,xa=e.unstable_cancelCallback,lu=e.unstable_shouldYield,jh=e.unstable_requestPaint,Ze=e.unstable_now,uu=e.unstable_getCurrentPriorityLevel,ps=e.unstable_ImmediatePriority,pi=e.unstable_UserBlockingPriority,Pn=e.unstable_NormalPriority,Oa=e.unstable_LowPriority,cu=e.unstable_IdlePriority,ms=null,gn=null;function hu(r){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(ms,r,void 0,(r.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:fu,Na=Math.log,du=Math.LN2;function fu(r){return r>>>=0,r===0?32:31-(Na(r)/du|0)|0}var mo=64,go=4194304;function mi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function gs(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,p=r.suspendedLanes,g=r.pingedLanes,E=l&268435455;if(E!==0){var P=E&~p;P!==0?h=mi(P):(g&=E,g!==0&&(h=mi(g)))}else E=l&~p,E!==0?h=mi(E):g!==0&&(h=mi(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&p)&&(p=h&-h,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if(h&4&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-Jt(s),p=1<<l,h|=r[l],s&=~p;return h}function zh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-Jt(g),P=1<<E,L=p[E];L===-1?(!(P&l)||P&h)&&(p[E]=zh(P,s)):L<=s&&(r.expiredLanes|=P),g&=~P}}function yn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ys(){var r=mo;return mo<<=1,!(mo&4194240)&&(mo=64),r}function gi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function yi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Jt(s),r[s]=l}function Je(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Jt(l),g=1<<p;s[p]=0,h[p]=-1,r[p]=-1,l&=~g}}function vi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-Jt(l),p=1<<h;p&s|r[h]&s&&(r[h]|=s),l&=~p}}var Fe=0;function _i(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var pu,yo,mu,gu,yu,Da=!1,dr=[],Vt=null,Gn=null,Qn=null,Ei=new Map,kn=new Map,fr=[],Bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vu(r,s){switch(r){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":Ei.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":kn.delete(s.pointerId)}}function rn(r,s,l,h,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Qa(s),s!==null&&yo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Hh(r,s,l,h,p){switch(s){case"focusin":return Vt=rn(Vt,r,s,l,h,p),!0;case"dragenter":return Gn=rn(Gn,r,s,l,h,p),!0;case"mouseover":return Qn=rn(Qn,r,s,l,h,p),!0;case"pointerover":var g=p.pointerId;return Ei.set(g,rn(Ei.get(g)||null,r,s,l,h,p)),!0;case"gotpointercapture":return g=p.pointerId,kn.set(g,rn(kn.get(g)||null,r,s,l,h,p)),!0}return!1}function _u(r){var s=Ts(r.target);if(s!==null){var l=Wn(s);if(l!==null){if(s=l.tag,s===13){if(s=fs(l),s!==null){r.blockedOn=s,yu(r.priority,function(){mu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Mr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=vo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);us=h,l.target.dispatchEvent(h),us=null}else return s=Qa(l),s!==null&&yo(s),r.blockedOn=l,!1;s.shift()}return!0}function vs(r,s,l){Mr(r)&&l.delete(s)}function Eu(){Da=!1,Vt!==null&&Mr(Vt)&&(Vt=null),Gn!==null&&Mr(Gn)&&(Gn=null),Qn!==null&&Mr(Qn)&&(Qn=null),Ei.forEach(vs),kn.forEach(vs)}function Yn(r,s){r.blockedOn===s&&(r.blockedOn=null,Da||(Da=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Eu)))}function Xn(r){function s(p){return Yn(p,r)}if(0<dr.length){Yn(dr[0],r);for(var l=1;l<dr.length;l++){var h=dr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Vt!==null&&Yn(Vt,r),Gn!==null&&Yn(Gn,r),Qn!==null&&Yn(Qn,r),Ei.forEach(s),kn.forEach(s),l=0;l<fr.length;l++)h=fr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<fr.length&&(l=fr[0],l.blockedOn===null);)_u(l),l.blockedOn===null&&fr.shift()}var Fr=Z.ReactCurrentBatchConfig,wi=!0;function at(r,s,l,h){var p=Fe,g=Fr.transition;Fr.transition=null;try{Fe=1,La(r,s,l,h)}finally{Fe=p,Fr.transition=g}}function qh(r,s,l,h){var p=Fe,g=Fr.transition;Fr.transition=null;try{Fe=4,La(r,s,l,h)}finally{Fe=p,Fr.transition=g}}function La(r,s,l,h){if(wi){var p=vo(r,s,l,h);if(p===null)nd(r,s,h,_s,l),vu(r,h);else if(Hh(p,r,s,l,h))h.stopPropagation();else if(vu(r,h),s&4&&-1<Bh.indexOf(r)){for(;p!==null;){var g=Qa(p);if(g!==null&&pu(g),g=vo(r,s,l,h),g===null&&nd(r,s,h,_s,l),g===p)break;p=g}p!==null&&h.stopPropagation()}else nd(r,s,h,null,l)}}var _s=null;function vo(r,s,l,h){if(_s=null,r=oo(h),r=Ts(r),r!==null)if(s=Wn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=fs(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return _s=r,null}function Va(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uu()){case ps:return 1;case pi:return 4;case Pn:case Oa:return 16;case cu:return 536870912;default:return 16}default:return 16}}var vn=null,_o=null,sn=null;function Ma(){if(sn)return sn;var r,s=_o,l=s.length,h,p="value"in vn?vn.value:vn.textContent,g=p.length;for(r=0;r<l&&s[r]===p[r];r++);var E=l-r;for(h=1;h<=E&&s[l-h]===p[g-h];h++);return sn=p.slice(r,1<h?1-h:void 0)}function Eo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function pr(){return!0}function Fa(){return!1}function Mt(r){function s(l,h,p,g,E){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(l=r[P],this[P]=l?l(g):g[P]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pr:Fa,this.isPropagationStopped=Fa,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),s}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=Mt(Jn),mr=le({},Jn,{view:0,detail:0}),Wh=Mt(mr),To,Ur,Ti,Es=le({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ti&&(Ti&&r.type==="mousemove"?(To=r.screenX-Ti.screenX,Ur=r.screenY-Ti.screenY):Ur=To=0,Ti=r),To)},movementY:function(r){return"movementY"in r?r.movementY:Ur}}),Io=Mt(Es),Ua=le({},Es,{dataTransfer:0}),wu=Mt(Ua),So=le({},mr,{relatedTarget:0}),Ao=Mt(So),Tu=le({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),$r=Mt(Tu),Iu=le({},Jn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Su=Mt(Iu),Au=le({},Jn,{data:0}),$a=Mt(Au),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Ru[r])?!!s[r]:!1}function gr(){return Cu}var c=le({},mr,{key:function(r){if(r.key){var s=Ro[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Eo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Zt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(r){return r.type==="keypress"?Eo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Eo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Mt(c),v=le({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Mt(v),z=le({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),Q=Mt(z),oe=le({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xe=Mt(oe),St=le({},Es,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Mt(St),bt=[9,13,27,32],wt=d&&"CompositionEvent"in window,bn=null;d&&"documentMode"in document&&(bn=document.documentMode);var _n=d&&"TextEvent"in window&&!bn,ws=d&&(!wt||bn&&8<bn&&11>=bn),Co=" ",bm=!1;function xm(r,s){switch(r){case"keyup":return bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Om(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Po=!1;function pT(r,s){switch(r){case"compositionend":return Om(s);case"keypress":return s.which!==32?null:(bm=!0,Co);case"textInput":return r=s.data,r===Co&&bm?null:r;default:return null}}function mT(r,s){if(Po)return r==="compositionend"||!wt&&xm(r,s)?(r=Ma(),sn=_o=vn=null,Po=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ws&&s.locale!=="ko"?null:s.data;default:return null}}var gT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!gT[r.type]:s==="textarea"}function Dm(r,s,l,h){hr(h),s=Ou(s,"onChange"),0<s.length&&(l=new wo("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var ja=null,za=null;function yT(r){Jm(r,0)}function Pu(r){var s=No(r);if(hi(s))return r}function vT(r,s){if(r==="change")return s}var Lm=!1;if(d){var Kh;if(d){var Gh="oninput"in document;if(!Gh){var Vm=document.createElement("div");Vm.setAttribute("oninput","return;"),Gh=typeof Vm.oninput=="function"}Kh=Gh}else Kh=!1;Lm=Kh&&(!document.documentMode||9<document.documentMode)}function Mm(){ja&&(ja.detachEvent("onpropertychange",Fm),za=ja=null)}function Fm(r){if(r.propertyName==="value"&&Pu(za)){var s=[];Dm(s,za,r,oo(r)),Pa(yT,s)}}function _T(r,s,l){r==="focusin"?(Mm(),ja=s,za=l,ja.attachEvent("onpropertychange",Fm)):r==="focusout"&&Mm()}function ET(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Pu(za)}function wT(r,s){if(r==="click")return Pu(s)}function TT(r,s){if(r==="input"||r==="change")return Pu(s)}function IT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Zn=typeof Object.is=="function"?Object.is:IT;function Ba(r,s){if(Zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(s,p)||!Zn(r[p],s[p]))return!1}return!0}function Um(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $m(r,s){var l=Um(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Um(l)}}function jm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?jm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function zm(){for(var r=window,s=$n();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=$n(r.document)}return s}function Qh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function ST(r){var s=zm(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&jm(l.ownerDocument.documentElement,l)){if(h!==null&&Qh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,g=Math.min(h.start,p);h=h.end===void 0?g:Math.min(h.end,p),!r.extend&&g>h&&(p=h,h=g,g=p),p=$m(l,g);var E=$m(l,h);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var AT=d&&"documentMode"in document&&11>=document.documentMode,ko=null,Yh=null,Ha=null,Xh=!1;function Bm(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xh||ko==null||ko!==$n(h)||(h=ko,"selectionStart"in h&&Qh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ha&&Ba(Ha,h)||(Ha=h,h=Ou(Yh,"onSelect"),0<h.length&&(s=new wo("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=ko)))}function ku(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var bo={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},Jh={},Hm={};d&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function bu(r){if(Jh[r])return Jh[r];if(!bo[r])return r;var s=bo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Hm)return Jh[r]=s[l];return r}var qm=bu("animationend"),Wm=bu("animationiteration"),Km=bu("animationstart"),Gm=bu("transitionend"),Qm=new Map,Ym="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(r,s){Qm.set(r,s),a(s,[r])}for(var Zh=0;Zh<Ym.length;Zh++){var ed=Ym[Zh],RT=ed.toLowerCase(),CT=ed[0].toUpperCase()+ed.slice(1);Ii(RT,"on"+CT)}Ii(qm,"onAnimationEnd"),Ii(Wm,"onAnimationIteration"),Ii(Km,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(Gm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PT=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function Xm(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,ou(h,s,void 0,r),r.currentTarget=null}function Jm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],p=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var E=h.length-1;0<=E;E--){var P=h[E],L=P.instance,K=P.currentTarget;if(P=P.listener,L!==g&&p.isPropagationStopped())break e;Xm(p,P,K),g=L}else for(E=0;E<h.length;E++){if(P=h[E],L=P.instance,K=P.currentTarget,P=P.listener,L!==g&&p.isPropagationStopped())break e;Xm(p,P,K),g=L}}}if(qn)throw r=ka,qn=!1,ka=null,r}function rt(r,s){var l=s[ld];l===void 0&&(l=s[ld]=new Set);var h=r+"__bubble";l.has(h)||(Zm(s,r,2,!1),l.add(h))}function td(r,s,l){var h=0;s&&(h|=4),Zm(l,r,h,s)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Wa(r){if(!r[xu]){r[xu]=!0,i.forEach(function(l){l!=="selectionchange"&&(PT.has(l)||td(l,!1,r),td(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[xu]||(s[xu]=!0,td("selectionchange",!1,s))}}function Zm(r,s,l,h){switch(Va(s)){case 1:var p=at;break;case 4:p=qh;break;default:p=La}l=p.bind(null,s,l,r),p=void 0,!uo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function nd(r,s,l,h,p){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var P=h.stateNode.containerInfo;if(P===p||P.nodeType===8&&P.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var L=E.tag;if((L===3||L===4)&&(L=E.stateNode.containerInfo,L===p||L.nodeType===8&&L.parentNode===p))return;E=E.return}for(;P!==null;){if(E=Ts(P),E===null)return;if(L=E.tag,L===5||L===6){h=g=E;continue e}P=P.parentNode}}h=h.return}Pa(function(){var K=g,te=oo(l),ne=[];e:{var ee=Qm.get(r);if(ee!==void 0){var ue=wo,de=r;switch(r){case"keypress":if(Eo(l)===0)break e;case"keydown":case"keyup":ue=m;break;case"focusin":de="focus",ue=Ao;break;case"focusout":de="blur",ue=Ao;break;case"beforeblur":case"afterblur":ue=Ao;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Q;break;case qm:case Wm:case Km:ue=$r;break;case Gm:ue=Xe;break;case"scroll":ue=Wh;break;case"wheel":ue=ze;break;case"copy":case"cut":case"paste":ue=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=I}var pe=(s&4)!==0,_t=!pe&&r==="scroll",B=pe?ee!==null?ee+"Capture":null:ee;pe=[];for(var F=K,H;F!==null;){H=F;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,B!==null&&(ie=vt(F,B),ie!=null&&pe.push(Ka(F,ie,H)))),_t)break;F=F.return}0<pe.length&&(ee=new ue(ee,de,null,l,te),ne.push({event:ee,listeners:pe}))}}if(!(s&7)){e:{if(ee=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",ee&&l!==us&&(de=l.relatedTarget||l.fromElement)&&(Ts(de)||de[jr]))break e;if((ue||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(de=l.relatedTarget||l.toElement,ue=K,de=de?Ts(de):null,de!==null&&(_t=Wn(de),de!==_t||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=K),ue!==de)){if(pe=Io,ie="onMouseLeave",B="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(pe=I,ie="onPointerLeave",B="onPointerEnter",F="pointer"),_t=ue==null?ee:No(ue),H=de==null?ee:No(de),ee=new pe(ie,F+"leave",ue,l,te),ee.target=_t,ee.relatedTarget=H,ie=null,Ts(te)===K&&(pe=new pe(B,F+"enter",de,l,te),pe.target=H,pe.relatedTarget=_t,ie=pe),_t=ie,ue&&de)t:{for(pe=ue,B=de,F=0,H=pe;H;H=xo(H))F++;for(H=0,ie=B;ie;ie=xo(ie))H++;for(;0<F-H;)pe=xo(pe),F--;for(;0<H-F;)B=xo(B),H--;for(;F--;){if(pe===B||B!==null&&pe===B.alternate)break t;pe=xo(pe),B=xo(B)}pe=null}else pe=null;ue!==null&&eg(ne,ee,ue,pe,!1),de!==null&&_t!==null&&eg(ne,_t,de,pe,!0)}}e:{if(ee=K?No(K):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var me=vT;else if(Nm(ee))if(Lm)me=TT;else{me=ET;var we=_T}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(me=wT);if(me&&(me=me(r,K))){Dm(ne,me,l,te);break e}we&&we(r,ee,K),r==="focusout"&&(we=ee._wrapperState)&&we.controlled&&ee.type==="number"&&ur(ee,"number",ee.value)}switch(we=K?No(K):window,r){case"focusin":(Nm(we)||we.contentEditable==="true")&&(ko=we,Yh=K,Ha=null);break;case"focusout":Ha=Yh=ko=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Bm(ne,l,te);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":Bm(ne,l,te)}var Te;if(wt)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Po?xm(r,l)&&(Ce="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(ws&&l.locale!=="ko"&&(Po||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Po&&(Te=Ma()):(vn=te,_o="value"in vn?vn.value:vn.textContent,Po=!0)),we=Ou(K,Ce),0<we.length&&(Ce=new $a(Ce,r,null,l,te),ne.push({event:Ce,listeners:we}),Te?Ce.data=Te:(Te=Om(l),Te!==null&&(Ce.data=Te)))),(Te=_n?pT(r,l):mT(r,l))&&(K=Ou(K,"onBeforeInput"),0<K.length&&(te=new $a("onBeforeInput","beforeinput",null,l,te),ne.push({event:te,listeners:K}),te.data=Te))}Jm(ne,s)})}function Ka(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Ou(r,s){for(var l=s+"Capture",h=[];r!==null;){var p=r,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=vt(r,l),g!=null&&h.unshift(Ka(r,g,p)),g=vt(r,s),g!=null&&h.push(Ka(r,g,p))),r=r.return}return h}function xo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function eg(r,s,l,h,p){for(var g=s._reactName,E=[];l!==null&&l!==h;){var P=l,L=P.alternate,K=P.stateNode;if(L!==null&&L===h)break;P.tag===5&&K!==null&&(P=K,p?(L=vt(l,g),L!=null&&E.unshift(Ka(l,L,P))):p||(L=vt(l,g),L!=null&&E.push(Ka(l,L,P)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var kT=/\r\n?/g,bT=/\u0000|\uFFFD/g;function tg(r){return(typeof r=="string"?r:""+r).replace(kT,`
`).replace(bT,"")}function Nu(r,s,l){if(s=tg(s),tg(r)!==s&&l)throw Error(t(425))}function Du(){}var rd=null,id=null;function sd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var od=typeof setTimeout=="function"?setTimeout:void 0,xT=typeof clearTimeout=="function"?clearTimeout:void 0,ng=typeof Promise=="function"?Promise:void 0,OT=typeof queueMicrotask=="function"?queueMicrotask:typeof ng<"u"?function(r){return ng.resolve(null).then(r).catch(NT)}:od;function NT(r){setTimeout(function(){throw r})}function ad(r,s){var l=s,h=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){r.removeChild(p),Xn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Xn(s)}function Si(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function rg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),yr="__reactFiber$"+Oo,Ga="__reactProps$"+Oo,jr="__reactContainer$"+Oo,ld="__reactEvents$"+Oo,DT="__reactListeners$"+Oo,LT="__reactHandles$"+Oo;function Ts(r){var s=r[yr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[jr]||l[yr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=rg(r);r!==null;){if(l=r[yr])return l;r=rg(r)}return s}r=l,l=r.parentNode}return null}function Qa(r){return r=r[yr]||r[jr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function No(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Lu(r){return r[Ga]||null}var ud=[],Do=-1;function Ai(r){return{current:r}}function it(r){0>Do||(r.current=ud[Do],ud[Do]=null,Do--)}function et(r,s){Do++,ud[Do]=r.current,r.current=s}var Ri={},Bt=Ai(Ri),on=Ai(!1),Is=Ri;function Lo(r,s){var l=r.type.contextTypes;if(!l)return Ri;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in l)p[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function an(r){return r=r.childContextTypes,r!=null}function Vu(){it(on),it(Bt)}function ig(r,s,l){if(Bt.current!==Ri)throw Error(t(168));et(Bt,s),et(on,l)}function sg(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Me(r)||"Unknown",p));return le({},l,h)}function Mu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ri,Is=Bt.current,et(Bt,r),et(on,on.current),!0}function og(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=sg(r,s,Is),h.__reactInternalMemoizedMergedChildContext=r,it(on),it(Bt),et(Bt,r)):it(on),et(on,l)}var zr=null,Fu=!1,cd=!1;function ag(r){zr===null?zr=[r]:zr.push(r)}function VT(r){Fu=!0,ag(r)}function Ci(){if(!cd&&zr!==null){cd=!0;var r=0,s=Fe;try{var l=zr;for(Fe=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}zr=null,Fu=!1}catch(p){throw zr!==null&&(zr=zr.slice(r+1)),po(ps,Ci),p}finally{Fe=s,cd=!1}}return null}var Vo=[],Mo=0,Uu=null,$u=0,xn=[],On=0,Ss=null,Br=1,Hr="";function As(r,s){Vo[Mo++]=$u,Vo[Mo++]=Uu,Uu=r,$u=s}function lg(r,s,l){xn[On++]=Br,xn[On++]=Hr,xn[On++]=Ss,Ss=r;var h=Br;r=Hr;var p=32-Jt(h)-1;h&=~(1<<p),l+=1;var g=32-Jt(s)+p;if(30<g){var E=p-p%5;g=(h&(1<<E)-1).toString(32),h>>=E,p-=E,Br=1<<32-Jt(s)+p|l<<p|h,Hr=g+r}else Br=1<<g|l<<p|h,Hr=r}function hd(r){r.return!==null&&(As(r,1),lg(r,1,0))}function dd(r){for(;r===Uu;)Uu=Vo[--Mo],Vo[Mo]=null,$u=Vo[--Mo],Vo[Mo]=null;for(;r===Ss;)Ss=xn[--On],xn[On]=null,Hr=xn[--On],xn[On]=null,Br=xn[--On],xn[On]=null}var En=null,wn=null,lt=!1,er=null;function ug(r,s){var l=Vn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function cg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,En=r,wn=Si(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,En=r,wn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ss!==null?{id:Br,overflow:Hr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Vn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,En=r,wn=null,!0):!1;default:return!1}}function fd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function pd(r){if(lt){var s=wn;if(s){var l=s;if(!cg(r,s)){if(fd(r))throw Error(t(418));s=Si(l.nextSibling);var h=En;s&&cg(r,s)?ug(h,l):(r.flags=r.flags&-4097|2,lt=!1,En=r)}}else{if(fd(r))throw Error(t(418));r.flags=r.flags&-4097|2,lt=!1,En=r}}}function hg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;En=r}function ju(r){if(r!==En)return!1;if(!lt)return hg(r),lt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!sd(r.type,r.memoizedProps)),s&&(s=wn)){if(fd(r))throw dg(),Error(t(418));for(;s;)ug(r,s),s=Si(s.nextSibling)}if(hg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){wn=Si(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}wn=null}}else wn=En?Si(r.stateNode.nextSibling):null;return!0}function dg(){for(var r=wn;r;)r=Si(r.nextSibling)}function Fo(){wn=En=null,lt=!1}function md(r){er===null?er=[r]:er.push(r)}var MT=Z.ReactCurrentBatchConfig;function Ya(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var p=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var P=p.refs;E===null?delete P[g]:P[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function zu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function fg(r){var s=r._init;return s(r._payload)}function pg(r){function s(B,F){if(r){var H=B.deletions;H===null?(B.deletions=[F],B.flags|=16):H.push(F)}}function l(B,F){if(!r)return null;for(;F!==null;)s(B,F),F=F.sibling;return null}function h(B,F){for(B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function p(B,F){return B=Li(B,F),B.index=0,B.sibling=null,B}function g(B,F,H){return B.index=H,r?(H=B.alternate,H!==null?(H=H.index,H<F?(B.flags|=2,F):H):(B.flags|=2,F)):(B.flags|=1048576,F)}function E(B){return r&&B.alternate===null&&(B.flags|=2),B}function P(B,F,H,ie){return F===null||F.tag!==6?(F=af(H,B.mode,ie),F.return=B,F):(F=p(F,H),F.return=B,F)}function L(B,F,H,ie){var me=H.type;return me===A?te(B,F,H.props.children,ie,H.key):F!==null&&(F.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===gt&&fg(me)===F.type)?(ie=p(F,H.props),ie.ref=Ya(B,F,H),ie.return=B,ie):(ie=dc(H.type,H.key,H.props,null,B.mode,ie),ie.ref=Ya(B,F,H),ie.return=B,ie)}function K(B,F,H,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=lf(H,B.mode,ie),F.return=B,F):(F=p(F,H.children||[]),F.return=B,F)}function te(B,F,H,ie,me){return F===null||F.tag!==7?(F=Ns(H,B.mode,ie,me),F.return=B,F):(F=p(F,H),F.return=B,F)}function ne(B,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=af(""+F,B.mode,H),F.return=B,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case W:return H=dc(F.type,F.key,F.props,null,B.mode,H),H.ref=Ya(B,null,F),H.return=B,H;case X:return F=lf(F,B.mode,H),F.return=B,F;case gt:var ie=F._init;return ne(B,ie(F._payload),H)}if(jn(F)||Ee(F))return F=Ns(F,B.mode,H,null),F.return=B,F;zu(B,F)}return null}function ee(B,F,H,ie){var me=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return me!==null?null:P(B,F,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case W:return H.key===me?L(B,F,H,ie):null;case X:return H.key===me?K(B,F,H,ie):null;case gt:return me=H._init,ee(B,F,me(H._payload),ie)}if(jn(H)||Ee(H))return me!==null?null:te(B,F,H,ie,null);zu(B,H)}return null}function ue(B,F,H,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return B=B.get(H)||null,P(F,B,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case W:return B=B.get(ie.key===null?H:ie.key)||null,L(F,B,ie,me);case X:return B=B.get(ie.key===null?H:ie.key)||null,K(F,B,ie,me);case gt:var we=ie._init;return ue(B,F,H,we(ie._payload),me)}if(jn(ie)||Ee(ie))return B=B.get(H)||null,te(F,B,ie,me,null);zu(F,ie)}return null}function de(B,F,H,ie){for(var me=null,we=null,Te=F,Ce=F=0,Nt=null;Te!==null&&Ce<H.length;Ce++){Te.index>Ce?(Nt=Te,Te=null):Nt=Te.sibling;var We=ee(B,Te,H[Ce],ie);if(We===null){Te===null&&(Te=Nt);break}r&&Te&&We.alternate===null&&s(B,Te),F=g(We,F,Ce),we===null?me=We:we.sibling=We,we=We,Te=Nt}if(Ce===H.length)return l(B,Te),lt&&As(B,Ce),me;if(Te===null){for(;Ce<H.length;Ce++)Te=ne(B,H[Ce],ie),Te!==null&&(F=g(Te,F,Ce),we===null?me=Te:we.sibling=Te,we=Te);return lt&&As(B,Ce),me}for(Te=h(B,Te);Ce<H.length;Ce++)Nt=ue(Te,B,Ce,H[Ce],ie),Nt!==null&&(r&&Nt.alternate!==null&&Te.delete(Nt.key===null?Ce:Nt.key),F=g(Nt,F,Ce),we===null?me=Nt:we.sibling=Nt,we=Nt);return r&&Te.forEach(function(Vi){return s(B,Vi)}),lt&&As(B,Ce),me}function pe(B,F,H,ie){var me=Ee(H);if(typeof me!="function")throw Error(t(150));if(H=me.call(H),H==null)throw Error(t(151));for(var we=me=null,Te=F,Ce=F=0,Nt=null,We=H.next();Te!==null&&!We.done;Ce++,We=H.next()){Te.index>Ce?(Nt=Te,Te=null):Nt=Te.sibling;var Vi=ee(B,Te,We.value,ie);if(Vi===null){Te===null&&(Te=Nt);break}r&&Te&&Vi.alternate===null&&s(B,Te),F=g(Vi,F,Ce),we===null?me=Vi:we.sibling=Vi,we=Vi,Te=Nt}if(We.done)return l(B,Te),lt&&As(B,Ce),me;if(Te===null){for(;!We.done;Ce++,We=H.next())We=ne(B,We.value,ie),We!==null&&(F=g(We,F,Ce),we===null?me=We:we.sibling=We,we=We);return lt&&As(B,Ce),me}for(Te=h(B,Te);!We.done;Ce++,We=H.next())We=ue(Te,B,Ce,We.value,ie),We!==null&&(r&&We.alternate!==null&&Te.delete(We.key===null?Ce:We.key),F=g(We,F,Ce),we===null?me=We:we.sibling=We,we=We);return r&&Te.forEach(function(m1){return s(B,m1)}),lt&&As(B,Ce),me}function _t(B,F,H,ie){if(typeof H=="object"&&H!==null&&H.type===A&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case W:e:{for(var me=H.key,we=F;we!==null;){if(we.key===me){if(me=H.type,me===A){if(we.tag===7){l(B,we.sibling),F=p(we,H.props.children),F.return=B,B=F;break e}}else if(we.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===gt&&fg(me)===we.type){l(B,we.sibling),F=p(we,H.props),F.ref=Ya(B,we,H),F.return=B,B=F;break e}l(B,we);break}else s(B,we);we=we.sibling}H.type===A?(F=Ns(H.props.children,B.mode,ie,H.key),F.return=B,B=F):(ie=dc(H.type,H.key,H.props,null,B.mode,ie),ie.ref=Ya(B,F,H),ie.return=B,B=ie)}return E(B);case X:e:{for(we=H.key;F!==null;){if(F.key===we)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){l(B,F.sibling),F=p(F,H.children||[]),F.return=B,B=F;break e}else{l(B,F);break}else s(B,F);F=F.sibling}F=lf(H,B.mode,ie),F.return=B,B=F}return E(B);case gt:return we=H._init,_t(B,F,we(H._payload),ie)}if(jn(H))return de(B,F,H,ie);if(Ee(H))return pe(B,F,H,ie);zu(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(l(B,F.sibling),F=p(F,H),F.return=B,B=F):(l(B,F),F=af(H,B.mode,ie),F.return=B,B=F),E(B)):l(B,F)}return _t}var Uo=pg(!0),mg=pg(!1),Bu=Ai(null),Hu=null,$o=null,gd=null;function yd(){gd=$o=Hu=null}function vd(r){var s=Bu.current;it(Bu),r._currentValue=s}function _d(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function jo(r,s){Hu=r,gd=$o=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(ln=!0),r.firstContext=null)}function Nn(r){var s=r._currentValue;if(gd!==r)if(r={context:r,memoizedValue:s,next:null},$o===null){if(Hu===null)throw Error(t(308));$o=r,Hu.dependencies={lanes:0,firstContext:r}}else $o=$o.next=r;return s}var Rs=null;function Ed(r){Rs===null?Rs=[r]:Rs.push(r)}function gg(r,s,l,h){var p=s.interleaved;return p===null?(l.next=l,Ed(s)):(l.next=p.next,p.next=l),s.interleaved=l,qr(r,h)}function qr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Pi=!1;function wd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Wr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ki(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,He&2){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,qr(r,l)}return p=h.interleaved,p===null?(s.next=s,Ed(h)):(s.next=p.next,p.next=s),h.interleaved=s,qr(r,l)}function qu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,vi(r,l)}}function vg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?p=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Wu(r,s,l,h){var p=r.updateQueue;Pi=!1;var g=p.firstBaseUpdate,E=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var L=P,K=L.next;L.next=null,E===null?g=K:E.next=K,E=L;var te=r.alternate;te!==null&&(te=te.updateQueue,P=te.lastBaseUpdate,P!==E&&(P===null?te.firstBaseUpdate=K:P.next=K,te.lastBaseUpdate=L))}if(g!==null){var ne=p.baseState;E=0,te=K=L=null,P=g;do{var ee=P.lane,ue=P.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:ue,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var de=r,pe=P;switch(ee=s,ue=l,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){ne=de.call(ue,ne,ee);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,ee=typeof de=="function"?de.call(ue,ne,ee):de,ee==null)break e;ne=le({},ne,ee);break e;case 2:Pi=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,ee=p.effects,ee===null?p.effects=[P]:ee.push(P))}else ue={eventTime:ue,lane:ee,tag:P.tag,payload:P.payload,callback:P.callback,next:null},te===null?(K=te=ue,L=ne):te=te.next=ue,E|=ee;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;ee=P,P=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(te===null&&(L=ne),p.baseState=L,p.firstBaseUpdate=K,p.lastBaseUpdate=te,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);ks|=E,r.lanes=E,r.memoizedState=ne}}function _g(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Xa={},vr=Ai(Xa),Ja=Ai(Xa),Za=Ai(Xa);function Cs(r){if(r===Xa)throw Error(t(174));return r}function Td(r,s){switch(et(Za,s),et(Ja,r),et(vr,Xa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ae(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ae(s,r)}it(vr),et(vr,s)}function zo(){it(vr),it(Ja),it(Za)}function Eg(r){Cs(Za.current);var s=Cs(vr.current),l=Ae(s,r.type);s!==l&&(et(Ja,r),et(vr,l))}function Id(r){Ja.current===r&&(it(vr),it(Ja))}var ut=Ai(0);function Ku(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Sd=[];function Ad(){for(var r=0;r<Sd.length;r++)Sd[r]._workInProgressVersionPrimary=null;Sd.length=0}var Gu=Z.ReactCurrentDispatcher,Rd=Z.ReactCurrentBatchConfig,Ps=0,ct=null,At=null,xt=null,Qu=!1,el=!1,tl=0,FT=0;function Ht(){throw Error(t(321))}function Cd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Zn(r[l],s[l]))return!1;return!0}function Pd(r,s,l,h,p,g){if(Ps=g,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Gu.current=r===null||r.memoizedState===null?zT:BT,r=l(h,p),el){g=0;do{if(el=!1,tl=0,25<=g)throw Error(t(301));g+=1,xt=At=null,s.updateQueue=null,Gu.current=HT,r=l(h,p)}while(el)}if(Gu.current=Ju,s=At!==null&&At.next!==null,Ps=0,xt=At=ct=null,Qu=!1,s)throw Error(t(300));return r}function kd(){var r=tl!==0;return tl=0,r}function _r(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?ct.memoizedState=xt=r:xt=xt.next=r,xt}function Dn(){if(At===null){var r=ct.alternate;r=r!==null?r.memoizedState:null}else r=At.next;var s=xt===null?ct.memoizedState:xt.next;if(s!==null)xt=s,At=r;else{if(r===null)throw Error(t(310));At=r,r={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},xt===null?ct.memoizedState=xt=r:xt=xt.next=r}return xt}function nl(r,s){return typeof s=="function"?s(r):s}function bd(r){var s=Dn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=At,p=h.baseQueue,g=l.pending;if(g!==null){if(p!==null){var E=p.next;p.next=g.next,g.next=E}h.baseQueue=p=g,l.pending=null}if(p!==null){g=p.next,h=h.baseState;var P=E=null,L=null,K=g;do{var te=K.lane;if((Ps&te)===te)L!==null&&(L=L.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:r(h,K.action);else{var ne={lane:te,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};L===null?(P=L=ne,E=h):L=L.next=ne,ct.lanes|=te,ks|=te}K=K.next}while(K!==null&&K!==g);L===null?E=h:L.next=P,Zn(h,s.memoizedState)||(ln=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=L,l.lastRenderedState=h}if(r=l.interleaved,r!==null){p=r;do g=p.lane,ct.lanes|=g,ks|=g,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function xd(r){var s=Dn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do g=r(g,E.action),E=E.next;while(E!==p);Zn(g,s.memoizedState)||(ln=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,h]}function wg(){}function Tg(r,s){var l=ct,h=Dn(),p=s(),g=!Zn(h.memoizedState,p);if(g&&(h.memoizedState=p,ln=!0),h=h.queue,Od(Ag.bind(null,l,h,r),[r]),h.getSnapshot!==s||g||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,rl(9,Sg.bind(null,l,h,p,s),void 0,null),Ot===null)throw Error(t(349));Ps&30||Ig(l,s,p)}return p}function Ig(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Sg(r,s,l,h){s.value=l,s.getSnapshot=h,Rg(s)&&Cg(r)}function Ag(r,s,l){return l(function(){Rg(s)&&Cg(r)})}function Rg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Zn(r,l)}catch{return!0}}function Cg(r){var s=qr(r,1);s!==null&&ir(s,r,1,-1)}function Pg(r){var s=_r();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:r},s.queue=r,r=r.dispatch=jT.bind(null,ct,r),[s.memoizedState,r]}function rl(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function kg(){return Dn().memoizedState}function Yu(r,s,l,h){var p=_r();ct.flags|=r,p.memoizedState=rl(1|s,l,void 0,h===void 0?null:h)}function Xu(r,s,l,h){var p=Dn();h=h===void 0?null:h;var g=void 0;if(At!==null){var E=At.memoizedState;if(g=E.destroy,h!==null&&Cd(h,E.deps)){p.memoizedState=rl(s,l,g,h);return}}ct.flags|=r,p.memoizedState=rl(1|s,l,g,h)}function bg(r,s){return Yu(8390656,8,r,s)}function Od(r,s){return Xu(2048,8,r,s)}function xg(r,s){return Xu(4,2,r,s)}function Og(r,s){return Xu(4,4,r,s)}function Ng(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Dg(r,s,l){return l=l!=null?l.concat([r]):null,Xu(4,4,Ng.bind(null,s,r),l)}function Nd(){}function Lg(r,s){var l=Dn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Cd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Vg(r,s){var l=Dn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Cd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Mg(r,s,l){return Ps&21?(Zn(l,s)||(l=ys(),ct.lanes|=l,ks|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,ln=!0),r.memoizedState=l)}function UT(r,s){var l=Fe;Fe=l!==0&&4>l?l:4,r(!0);var h=Rd.transition;Rd.transition={};try{r(!1),s()}finally{Fe=l,Rd.transition=h}}function Fg(){return Dn().memoizedState}function $T(r,s,l){var h=Ni(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Ug(r))$g(s,l);else if(l=gg(r,s,l,h),l!==null){var p=tn();ir(l,r,h,p),jg(l,s,h)}}function jT(r,s,l){var h=Ni(r),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ug(r))$g(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,P=g(E,l);if(p.hasEagerState=!0,p.eagerState=P,Zn(P,E)){var L=s.interleaved;L===null?(p.next=p,Ed(s)):(p.next=L.next,L.next=p),s.interleaved=p;return}}catch{}finally{}l=gg(r,s,p,h),l!==null&&(p=tn(),ir(l,r,h,p),jg(l,s,h))}}function Ug(r){var s=r.alternate;return r===ct||s!==null&&s===ct}function $g(r,s){el=Qu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function jg(r,s,l){if(l&4194240){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,vi(r,l)}}var Ju={readContext:Nn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},zT={readContext:Nn,useCallback:function(r,s){return _r().memoizedState=[r,s===void 0?null:s],r},useContext:Nn,useEffect:bg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Yu(4194308,4,Ng.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Yu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Yu(4,2,r,s)},useMemo:function(r,s){var l=_r();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=_r();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=$T.bind(null,ct,r),[h.memoizedState,r]},useRef:function(r){var s=_r();return r={current:r},s.memoizedState=r},useState:Pg,useDebugValue:Nd,useDeferredValue:function(r){return _r().memoizedState=r},useTransition:function(){var r=Pg(!1),s=r[0];return r=UT.bind(null,r[1]),_r().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=ct,p=_r();if(lt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ot===null)throw Error(t(349));Ps&30||Ig(h,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,bg(Ag.bind(null,h,g,r),[r]),h.flags|=2048,rl(9,Sg.bind(null,h,g,l,s),void 0,null),l},useId:function(){var r=_r(),s=Ot.identifierPrefix;if(lt){var l=Hr,h=Br;l=(h&~(1<<32-Jt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=tl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=FT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},BT={readContext:Nn,useCallback:Lg,useContext:Nn,useEffect:Od,useImperativeHandle:Dg,useInsertionEffect:xg,useLayoutEffect:Og,useMemo:Vg,useReducer:bd,useRef:kg,useState:function(){return bd(nl)},useDebugValue:Nd,useDeferredValue:function(r){var s=Dn();return Mg(s,At.memoizedState,r)},useTransition:function(){var r=bd(nl)[0],s=Dn().memoizedState;return[r,s]},useMutableSource:wg,useSyncExternalStore:Tg,useId:Fg,unstable_isNewReconciler:!1},HT={readContext:Nn,useCallback:Lg,useContext:Nn,useEffect:Od,useImperativeHandle:Dg,useInsertionEffect:xg,useLayoutEffect:Og,useMemo:Vg,useReducer:xd,useRef:kg,useState:function(){return xd(nl)},useDebugValue:Nd,useDeferredValue:function(r){var s=Dn();return At===null?s.memoizedState=r:Mg(s,At.memoizedState,r)},useTransition:function(){var r=xd(nl)[0],s=Dn().memoizedState;return[r,s]},useMutableSource:wg,useSyncExternalStore:Tg,useId:Fg,unstable_isNewReconciler:!1};function tr(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Dd(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:le({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Zu={isMounted:function(r){return(r=r._reactInternals)?Wn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=tn(),p=Ni(r),g=Wr(h,p);g.payload=s,l!=null&&(g.callback=l),s=ki(r,g,p),s!==null&&(ir(s,r,p,h),qu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=tn(),p=Ni(r),g=Wr(h,p);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=ki(r,g,p),s!==null&&(ir(s,r,p,h),qu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=tn(),h=Ni(r),p=Wr(l,h);p.tag=2,s!=null&&(p.callback=s),s=ki(r,p,h),s!==null&&(ir(s,r,h,l),qu(s,r,h))}};function zg(r,s,l,h,p,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,E):s.prototype&&s.prototype.isPureReactComponent?!Ba(l,h)||!Ba(p,g):!0}function Bg(r,s,l){var h=!1,p=Ri,g=s.contextType;return typeof g=="object"&&g!==null?g=Nn(g):(p=an(s)?Is:Bt.current,h=s.contextTypes,g=(h=h!=null)?Lo(r,p):Ri),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Zu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=g),s}function Hg(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Zu.enqueueReplaceState(s,s.state,null)}function Ld(r,s,l,h){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},wd(r);var g=s.contextType;typeof g=="object"&&g!==null?p.context=Nn(g):(g=an(s)?Is:Bt.current,p.context=Lo(r,g)),p.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Dd(r,s,g,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Zu.enqueueReplaceState(p,p.state,null),Wu(r,l,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Bo(r,s){try{var l="",h=s;do l+=ke(h),h=h.return;while(h);var p=l}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:p,digest:null}}function Vd(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Md(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var qT=typeof WeakMap=="function"?WeakMap:Map;function qg(r,s,l){l=Wr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){oc||(oc=!0,Jd=h),Md(r,s)},l}function Wg(r,s,l){l=Wr(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){Md(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){Md(r,s),typeof h!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Kg(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new qT;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),r=s1.bind(null,r,s,l),s.then(r,r))}function Gg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Qg(r,s,l,h,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Wr(-1,1),s.tag=2,ki(l,s,1))),l.lanes|=1),r)}var WT=Z.ReactCurrentOwner,ln=!1;function en(r,s,l,h){s.child=r===null?mg(s,null,l,h):Uo(s,r.child,l,h)}function Yg(r,s,l,h,p){l=l.render;var g=s.ref;return jo(s,p),h=Pd(r,s,l,h,g,p),l=kd(),r!==null&&!ln?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Kr(r,s,p)):(lt&&l&&hd(s),s.flags|=1,en(r,s,h,p),s.child)}function Xg(r,s,l,h,p){if(r===null){var g=l.type;return typeof g=="function"&&!of(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Jg(r,s,g,h,p)):(r=dc(l.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&p)){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ba,l(E,h)&&r.ref===s.ref)return Kr(r,s,p)}return s.flags|=1,r=Li(g,h),r.ref=s.ref,r.return=s,s.child=r}function Jg(r,s,l,h,p){if(r!==null){var g=r.memoizedProps;if(Ba(g,h)&&r.ref===s.ref)if(ln=!1,s.pendingProps=h=g,(r.lanes&p)!==0)r.flags&131072&&(ln=!0);else return s.lanes=r.lanes,Kr(r,s,p)}return Fd(r,s,l,h,p)}function Zg(r,s,l){var h=s.pendingProps,p=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(qo,Tn),Tn|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,et(qo,Tn),Tn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,et(qo,Tn),Tn|=h}else g!==null?(h=g.baseLanes|l,s.memoizedState=null):h=l,et(qo,Tn),Tn|=h;return en(r,s,p,l),s.child}function ey(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Fd(r,s,l,h,p){var g=an(l)?Is:Bt.current;return g=Lo(s,g),jo(s,p),l=Pd(r,s,l,h,g,p),h=kd(),r!==null&&!ln?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Kr(r,s,p)):(lt&&h&&hd(s),s.flags|=1,en(r,s,l,p),s.child)}function ty(r,s,l,h,p){if(an(l)){var g=!0;Mu(s)}else g=!1;if(jo(s,p),s.stateNode===null)tc(r,s),Bg(s,l,h),Ld(s,l,h,p),h=!0;else if(r===null){var E=s.stateNode,P=s.memoizedProps;E.props=P;var L=E.context,K=l.contextType;typeof K=="object"&&K!==null?K=Nn(K):(K=an(l)?Is:Bt.current,K=Lo(s,K));var te=l.getDerivedStateFromProps,ne=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==h||L!==K)&&Hg(s,E,h,K),Pi=!1;var ee=s.memoizedState;E.state=ee,Wu(s,h,E,p),L=s.memoizedState,P!==h||ee!==L||on.current||Pi?(typeof te=="function"&&(Dd(s,l,te,h),L=s.memoizedState),(P=Pi||zg(s,l,P,h,ee,L,K))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=L),E.props=h,E.state=L,E.context=K,h=P):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,yg(r,s),P=s.memoizedProps,K=s.type===s.elementType?P:tr(s.type,P),E.props=K,ne=s.pendingProps,ee=E.context,L=l.contextType,typeof L=="object"&&L!==null?L=Nn(L):(L=an(l)?Is:Bt.current,L=Lo(s,L));var ue=l.getDerivedStateFromProps;(te=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==ne||ee!==L)&&Hg(s,E,h,L),Pi=!1,ee=s.memoizedState,E.state=ee,Wu(s,h,E,p);var de=s.memoizedState;P!==ne||ee!==de||on.current||Pi?(typeof ue=="function"&&(Dd(s,l,ue,h),de=s.memoizedState),(K=Pi||zg(s,l,K,h,ee,de,L)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,de,L),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,de,L)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=de),E.props=h,E.state=de,E.context=L,h=K):(typeof E.componentDidUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),h=!1)}return Ud(r,s,l,h,g,p)}function Ud(r,s,l,h,p,g){ey(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return p&&og(s,l,!1),Kr(r,s,g);h=s.stateNode,WT.current=s;var P=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=Uo(s,r.child,null,g),s.child=Uo(s,null,P,g)):en(r,s,P,g),s.memoizedState=h.state,p&&og(s,l,!0),s.child}function ny(r){var s=r.stateNode;s.pendingContext?ig(r,s.pendingContext,s.pendingContext!==s.context):s.context&&ig(r,s.context,!1),Td(r,s.containerInfo)}function ry(r,s,l,h,p){return Fo(),md(p),s.flags|=256,en(r,s,l,h),s.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function jd(r){return{baseLanes:r,cachePool:null,transitions:null}}function iy(r,s,l){var h=s.pendingProps,p=ut.current,g=!1,E=(s.flags&128)!==0,P;if((P=E)||(P=r!==null&&r.memoizedState===null?!1:(p&2)!==0),P?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),et(ut,p&1),r===null)return pd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=h.children,r=h.fallback,g?(h=s.mode,g=s.child,E={mode:"hidden",children:E},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=fc(E,h,0,null),r=Ns(r,h,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=jd(l),s.memoizedState=$d,r):zd(s,E));if(p=r.memoizedState,p!==null&&(P=p.dehydrated,P!==null))return KT(r,s,E,h,P,p,l);if(g){g=h.fallback,E=s.mode,p=r.child,P=p.sibling;var L={mode:"hidden",children:h.children};return!(E&1)&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=L,s.deletions=null):(h=Li(p,L),h.subtreeFlags=p.subtreeFlags&14680064),P!==null?g=Li(P,g):(g=Ns(g,E,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,E=r.child.memoizedState,E=E===null?jd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~l,s.memoizedState=$d,h}return g=r.child,r=g.sibling,h=Li(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function zd(r,s){return s=fc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ec(r,s,l,h){return h!==null&&md(h),Uo(s,r.child,null,l),r=zd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function KT(r,s,l,h,p,g,E){if(l)return s.flags&256?(s.flags&=-257,h=Vd(Error(t(422))),ec(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,p=s.mode,h=fc({mode:"visible",children:h.children},p,0,null),g=Ns(g,p,E,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&Uo(s,r.child,null,E),s.child.memoizedState=jd(E),s.memoizedState=$d,g);if(!(s.mode&1))return ec(r,s,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var P=h.dgst;return h=P,g=Error(t(419)),h=Vd(g,h,void 0),ec(r,s,E,h)}if(P=(E&r.childLanes)!==0,ln||P){if(h=Ot,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(h.suspendedLanes|E)?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,qr(r,p),ir(h,r,p,-1))}return sf(),h=Vd(Error(t(421))),ec(r,s,E,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=o1.bind(null,r),p._reactRetry=s,null):(r=g.treeContext,wn=Si(p.nextSibling),En=s,lt=!0,er=null,r!==null&&(xn[On++]=Br,xn[On++]=Hr,xn[On++]=Ss,Br=r.id,Hr=r.overflow,Ss=s),s=zd(s,h.children),s.flags|=4096,s)}function sy(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),_d(r.return,s,l)}function Bd(r,s,l,h,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=p)}function oy(r,s,l){var h=s.pendingProps,p=h.revealOrder,g=h.tail;if(en(r,s,h.children,l),h=ut.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&sy(r,l,s);else if(r.tag===19)sy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(et(ut,h),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Ku(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Bd(s,!1,p,l,g);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Ku(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Bd(s,!0,l,null,g);break;case"together":Bd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tc(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Kr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ks|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Li(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Li(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function GT(r,s,l){switch(s.tag){case 3:ny(s),Fo();break;case 5:Eg(s);break;case 1:an(s.type)&&Mu(s);break;case 4:Td(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;et(Bu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(et(ut,ut.current&1),s.flags|=128,null):l&s.child.childLanes?iy(r,s,l):(et(ut,ut.current&1),r=Kr(r,s,l),r!==null?r.sibling:null);et(ut,ut.current&1);break;case 19:if(h=(l&s.childLanes)!==0,r.flags&128){if(h)return oy(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),et(ut,ut.current),h)break;return null;case 22:case 23:return s.lanes=0,Zg(r,s,l)}return Kr(r,s,l)}var ay,Hd,ly,uy;ay=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Hd=function(){},ly=function(r,s,l,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,Cs(vr.current);var g=null;switch(l){case"input":p=Nr(r,p),h=Nr(r,h),g=[];break;case"select":p=le({},p,{value:void 0}),h=le({},h,{value:void 0}),g=[];break;case"textarea":p=G(r,p),h=G(r,h),g=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Du)}Sa(l,h);var E;l=null;for(K in p)if(!h.hasOwnProperty(K)&&p.hasOwnProperty(K)&&p[K]!=null)if(K==="style"){var P=p[K];for(E in P)P.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?g||(g=[]):(g=g||[]).push(K,null));for(K in h){var L=h[K];if(P=p!=null?p[K]:void 0,h.hasOwnProperty(K)&&L!==P&&(L!=null||P!=null))if(K==="style")if(P){for(E in P)!P.hasOwnProperty(E)||L&&L.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in L)L.hasOwnProperty(E)&&P[E]!==L[E]&&(l||(l={}),l[E]=L[E])}else l||(g||(g=[]),g.push(K,l)),l=L;else K==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,P=P?P.__html:void 0,L!=null&&P!==L&&(g=g||[]).push(K,L)):K==="children"?typeof L!="string"&&typeof L!="number"||(g=g||[]).push(K,""+L):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(L!=null&&K==="onScroll"&&rt("scroll",r),g||P===L||(g=[])):(g=g||[]).push(K,L))}l&&(g=g||[]).push("style",l);var K=g;(s.updateQueue=K)&&(s.flags|=4)}},uy=function(r,s,l,h){l!==h&&(s.flags|=4)};function il(r,s){if(!lt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function qt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function QT(r,s,l){var h=s.pendingProps;switch(dd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(s),null;case 1:return an(s.type)&&Vu(),qt(s),null;case 3:return h=s.stateNode,zo(),it(on),it(Bt),Ad(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(ju(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,er!==null&&(tf(er),er=null))),Hd(r,s),qt(s),null;case 5:Id(s);var p=Cs(Za.current);if(l=s.type,r!==null&&s.stateNode!=null)ly(r,s,l,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return qt(s),null}if(r=Cs(vr.current),ju(s)){h=s.stateNode,l=s.type;var g=s.memoizedProps;switch(h[yr]=s,h[Ga]=g,r=(s.mode&1)!==0,l){case"dialog":rt("cancel",h),rt("close",h);break;case"iframe":case"object":case"embed":rt("load",h);break;case"video":case"audio":for(p=0;p<qa.length;p++)rt(qa[p],h);break;case"source":rt("error",h);break;case"img":case"image":case"link":rt("error",h),rt("load",h);break;case"details":rt("toggle",h);break;case"input":di(h,g),rt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},rt("invalid",h);break;case"textarea":ae(h,g),rt("invalid",h)}Sa(l,g),p=null;for(var E in g)if(g.hasOwnProperty(E)){var P=g[E];E==="children"?typeof P=="string"?h.textContent!==P&&(g.suppressHydrationWarning!==!0&&Nu(h.textContent,P,r),p=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(g.suppressHydrationWarning!==!0&&Nu(h.textContent,P,r),p=["children",""+P]):o.hasOwnProperty(E)&&P!=null&&E==="onScroll"&&rt("scroll",h)}switch(l){case"input":mn(h),so(h,g,!0);break;case"textarea":mn(h),_e(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Du)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ve(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(l,{is:h.is}):(r=E.createElement(l),l==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,l),r[yr]=s,r[Ga]=h,ay(r,s,!1,!1),s.stateNode=r;e:{switch(E=Aa(l,h),l){case"dialog":rt("cancel",r),rt("close",r),p=h;break;case"iframe":case"object":case"embed":rt("load",r),p=h;break;case"video":case"audio":for(p=0;p<qa.length;p++)rt(qa[p],r);p=h;break;case"source":rt("error",r),p=h;break;case"img":case"image":case"link":rt("error",r),rt("load",r),p=h;break;case"details":rt("toggle",r),p=h;break;case"input":di(r,h),p=Nr(r,h),rt("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=le({},h,{value:void 0}),rt("invalid",r);break;case"textarea":ae(r,h),p=G(r,h),rt("invalid",r);break;default:p=h}Sa(l,p),P=p;for(g in P)if(P.hasOwnProperty(g)){var L=P[g];g==="style"?ls(r,L):g==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Xt(r,L)):g==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&Rn(r,L):typeof L=="number"&&Rn(r,""+L):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?L!=null&&g==="onScroll"&&rt("scroll",r):L!=null&&q(r,g,L,E))}switch(l){case"input":mn(r),so(r,h,!1);break;case"textarea":mn(r),_e(r);break;case"option":h.value!=null&&r.setAttribute("value",""+je(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?zn(r,!!h.multiple,g,!1):h.defaultValue!=null&&zn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Du)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return qt(s),null;case 6:if(r&&s.stateNode!=null)uy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=Cs(Za.current),Cs(vr.current),ju(s)){if(h=s.stateNode,l=s.memoizedProps,h[yr]=s,(g=h.nodeValue!==l)&&(r=En,r!==null))switch(r.tag){case 3:Nu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Nu(h.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[yr]=s,s.stateNode=h}return qt(s),null;case 13:if(it(ut),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(lt&&wn!==null&&s.mode&1&&!(s.flags&128))dg(),Fo(),s.flags|=98560,g=!1;else if(g=ju(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[yr]=s}else Fo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;qt(s),g=!1}else er!==null&&(tf(er),er=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||ut.current&1?Rt===0&&(Rt=3):sf())),s.updateQueue!==null&&(s.flags|=4),qt(s),null);case 4:return zo(),Hd(r,s),r===null&&Wa(s.stateNode.containerInfo),qt(s),null;case 10:return vd(s.type._context),qt(s),null;case 17:return an(s.type)&&Vu(),qt(s),null;case 19:if(it(ut),g=s.memoizedState,g===null)return qt(s),null;if(h=(s.flags&128)!==0,E=g.rendering,E===null)if(h)il(g,!1);else{if(Rt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=Ku(r),E!==null){for(s.flags|=128,il(g,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)g=l,r=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return et(ut,ut.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ze()>Wo&&(s.flags|=128,h=!0,il(g,!1),s.lanes=4194304)}else{if(!h)if(r=Ku(E),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),il(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!lt)return qt(s),null}else 2*Ze()-g.renderingStartTime>Wo&&l!==1073741824&&(s.flags|=128,h=!0,il(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(l=g.last,l!==null?l.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ze(),s.sibling=null,l=ut.current,et(ut,h?l&1|2:l&1),s):(qt(s),null);case 22:case 23:return rf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?Tn&1073741824&&(qt(s),s.subtreeFlags&6&&(s.flags|=8192)):qt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function YT(r,s){switch(dd(s),s.tag){case 1:return an(s.type)&&Vu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return zo(),it(on),it(Bt),Ad(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Id(s),null;case 13:if(it(ut),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return it(ut),null;case 4:return zo(),null;case 10:return vd(s.type._context),null;case 22:case 23:return rf(),null;case 24:return null;default:return null}}var nc=!1,Wt=!1,XT=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ho(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){pt(r,s,h)}else l.current=null}function qd(r,s,l){try{l()}catch(h){pt(r,s,h)}}var cy=!1;function JT(r,s){if(rd=wi,r=zm(),Qh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,P=-1,L=-1,K=0,te=0,ne=r,ee=null;t:for(;;){for(var ue;ne!==l||p!==0&&ne.nodeType!==3||(P=E+p),ne!==g||h!==0&&ne.nodeType!==3||(L=E+h),ne.nodeType===3&&(E+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)ee=ne,ne=ue;for(;;){if(ne===r)break t;if(ee===l&&++K===p&&(P=E),ee===g&&++te===h&&(L=E),(ue=ne.nextSibling)!==null)break;ne=ee,ee=ne.parentNode}ne=ue}l=P===-1||L===-1?null:{start:P,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(id={focusedElem:r,selectionRange:l},wi=!1,he=s;he!==null;)if(s=he,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,he=r;else for(;he!==null;){s=he;try{var de=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,_t=de.memoizedState,B=s.stateNode,F=B.getSnapshotBeforeUpdate(s.elementType===s.type?pe:tr(s.type,pe),_t);B.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){pt(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,he=r;break}he=s.return}return de=cy,cy=!1,de}function sl(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var g=p.destroy;p.destroy=void 0,g!==void 0&&qd(s,l,g)}p=p.next}while(p!==h)}}function rc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Wd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function hy(r){var s=r.alternate;s!==null&&(r.alternate=null,hy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[yr],delete s[Ga],delete s[ld],delete s[DT],delete s[LT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function dy(r){return r.tag===5||r.tag===3||r.tag===4}function fy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||dy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Kd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Du));else if(h!==4&&(r=r.child,r!==null))for(Kd(r,s,l),r=r.sibling;r!==null;)Kd(r,s,l),r=r.sibling}function Gd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Gd(r,s,l),r=r.sibling;r!==null;)Gd(r,s,l),r=r.sibling}var Ft=null,nr=!1;function bi(r,s,l){for(l=l.child;l!==null;)py(r,s,l),l=l.sibling}function py(r,s,l){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(ms,l)}catch{}switch(l.tag){case 5:Wt||Ho(l,s);case 6:var h=Ft,p=nr;Ft=null,bi(r,s,l),Ft=h,nr=p,Ft!==null&&(nr?(r=Ft,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ft.removeChild(l.stateNode));break;case 18:Ft!==null&&(nr?(r=Ft,l=l.stateNode,r.nodeType===8?ad(r.parentNode,l):r.nodeType===1&&ad(r,l),Xn(r)):ad(Ft,l.stateNode));break;case 4:h=Ft,p=nr,Ft=l.stateNode.containerInfo,nr=!0,bi(r,s,l),Ft=h,nr=p;break;case 0:case 11:case 14:case 15:if(!Wt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var g=p,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&qd(l,s,E),p=p.next}while(p!==h)}bi(r,s,l);break;case 1:if(!Wt&&(Ho(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(P){pt(l,s,P)}bi(r,s,l);break;case 21:bi(r,s,l);break;case 22:l.mode&1?(Wt=(h=Wt)||l.memoizedState!==null,bi(r,s,l),Wt=h):bi(r,s,l);break;default:bi(r,s,l)}}function my(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new XT),s.forEach(function(h){var p=a1.bind(null,r,h);l.has(h)||(l.add(h),h.then(p,p))})}}function rr(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var g=r,E=s,P=E;e:for(;P!==null;){switch(P.tag){case 5:Ft=P.stateNode,nr=!1;break e;case 3:Ft=P.stateNode.containerInfo,nr=!0;break e;case 4:Ft=P.stateNode.containerInfo,nr=!0;break e}P=P.return}if(Ft===null)throw Error(t(160));py(g,E,p),Ft=null,nr=!1;var L=p.alternate;L!==null&&(L.return=null),p.return=null}catch(K){pt(p,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)gy(s,r),s=s.sibling}function gy(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(rr(s,r),Er(r),h&4){try{sl(3,r,r.return),rc(3,r)}catch(pe){pt(r,r.return,pe)}try{sl(5,r,r.return)}catch(pe){pt(r,r.return,pe)}}break;case 1:rr(s,r),Er(r),h&512&&l!==null&&Ho(l,l.return);break;case 5:if(rr(s,r),Er(r),h&512&&l!==null&&Ho(l,l.return),r.flags&32){var p=r.stateNode;try{Rn(p,"")}catch(pe){pt(r,r.return,pe)}}if(h&4&&(p=r.stateNode,p!=null)){var g=r.memoizedProps,E=l!==null?l.memoizedProps:g,P=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{P==="input"&&g.type==="radio"&&g.name!=null&&os(p,g),Aa(P,E);var K=Aa(P,g);for(E=0;E<L.length;E+=2){var te=L[E],ne=L[E+1];te==="style"?ls(p,ne):te==="dangerouslySetInnerHTML"?Xt(p,ne):te==="children"?Rn(p,ne):q(p,te,ne,K)}switch(P){case"input":as(p,g);break;case"textarea":fe(p,g);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var ue=g.value;ue!=null?zn(p,!!g.multiple,ue,!1):ee!==!!g.multiple&&(g.defaultValue!=null?zn(p,!!g.multiple,g.defaultValue,!0):zn(p,!!g.multiple,g.multiple?[]:"",!1))}p[Ga]=g}catch(pe){pt(r,r.return,pe)}}break;case 6:if(rr(s,r),Er(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,g=r.memoizedProps;try{p.nodeValue=g}catch(pe){pt(r,r.return,pe)}}break;case 3:if(rr(s,r),Er(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Xn(s.containerInfo)}catch(pe){pt(r,r.return,pe)}break;case 4:rr(s,r),Er(r);break;case 13:rr(s,r),Er(r),p=r.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Xd=Ze())),h&4&&my(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(Wt=(K=Wt)||te,rr(s,r),Wt=K):rr(s,r),Er(r),h&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!te&&r.mode&1)for(he=r,te=r.child;te!==null;){for(ne=he=te;he!==null;){switch(ee=he,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:sl(4,ee,ee.return);break;case 1:Ho(ee,ee.return);var de=ee.stateNode;if(typeof de.componentWillUnmount=="function"){h=ee,l=ee.return;try{s=h,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(pe){pt(h,l,pe)}}break;case 5:Ho(ee,ee.return);break;case 22:if(ee.memoizedState!==null){_y(ne);continue}}ue!==null?(ue.return=ee,he=ue):_y(ne)}te=te.sibling}e:for(te=null,ne=r;;){if(ne.tag===5){if(te===null){te=ne;try{p=ne.stateNode,K?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(P=ne.stateNode,L=ne.memoizedProps.style,E=L!=null&&L.hasOwnProperty("display")?L.display:null,P.style.display=fi("display",E))}catch(pe){pt(r,r.return,pe)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=K?"":ne.memoizedProps}catch(pe){pt(r,r.return,pe)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:rr(s,r),Er(r),h&4&&my(r);break;case 21:break;default:rr(s,r),Er(r)}}function Er(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(dy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Rn(p,""),h.flags&=-33);var g=fy(r);Gd(r,g,p);break;case 3:case 4:var E=h.stateNode.containerInfo,P=fy(r);Kd(r,P,E);break;default:throw Error(t(161))}}catch(L){pt(r,r.return,L)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ZT(r,s,l){he=r,yy(r)}function yy(r,s,l){for(var h=(r.mode&1)!==0;he!==null;){var p=he,g=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||nc;if(!E){var P=p.alternate,L=P!==null&&P.memoizedState!==null||Wt;P=nc;var K=Wt;if(nc=E,(Wt=L)&&!K)for(he=p;he!==null;)E=he,L=E.child,E.tag===22&&E.memoizedState!==null?Ey(p):L!==null?(L.return=E,he=L):Ey(p);for(;g!==null;)he=g,yy(g),g=g.sibling;he=p,nc=P,Wt=K}vy(r)}else p.subtreeFlags&8772&&g!==null?(g.return=p,he=g):vy(r)}}function vy(r){for(;he!==null;){var s=he;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Wt||rc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Wt)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:tr(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&_g(s,g,h);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}_g(s,E,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&Xn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||s.flags&512&&Wd(s)}catch(ee){pt(s,s.return,ee)}}if(s===r){he=null;break}if(l=s.sibling,l!==null){l.return=s.return,he=l;break}he=s.return}}function _y(r){for(;he!==null;){var s=he;if(s===r){he=null;break}var l=s.sibling;if(l!==null){l.return=s.return,he=l;break}he=s.return}}function Ey(r){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{rc(4,s)}catch(L){pt(s,l,L)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(L){pt(s,p,L)}}var g=s.return;try{Wd(s)}catch(L){pt(s,g,L)}break;case 5:var E=s.return;try{Wd(s)}catch(L){pt(s,E,L)}}}catch(L){pt(s,s.return,L)}if(s===r){he=null;break}var P=s.sibling;if(P!==null){P.return=s.return,he=P;break}he=s.return}}var e1=Math.ceil,ic=Z.ReactCurrentDispatcher,Qd=Z.ReactCurrentOwner,Ln=Z.ReactCurrentBatchConfig,He=0,Ot=null,Tt=null,Ut=0,Tn=0,qo=Ai(0),Rt=0,ol=null,ks=0,sc=0,Yd=0,al=null,un=null,Xd=0,Wo=1/0,Gr=null,oc=!1,Jd=null,xi=null,ac=!1,Oi=null,lc=0,ll=0,Zd=null,uc=-1,cc=0;function tn(){return He&6?Ze():uc!==-1?uc:uc=Ze()}function Ni(r){return r.mode&1?He&2&&Ut!==0?Ut&-Ut:MT.transition!==null?(cc===0&&(cc=ys()),cc):(r=Fe,r!==0||(r=window.event,r=r===void 0?16:Va(r.type)),r):1}function ir(r,s,l,h){if(50<ll)throw ll=0,Zd=null,Error(t(185));yi(r,l,h),(!(He&2)||r!==Ot)&&(r===Ot&&(!(He&2)&&(sc|=l),Rt===4&&Di(r,Ut)),cn(r,h),l===1&&He===0&&!(s.mode&1)&&(Wo=Ze()+500,Fu&&Ci()))}function cn(r,s){var l=r.callbackNode;Vr(r,s);var h=gs(r,r===Ot?Ut:0);if(h===0)l!==null&&xa(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&xa(l),s===1)r.tag===0?VT(Ty.bind(null,r)):ag(Ty.bind(null,r)),OT(function(){!(He&6)&&Ci()}),l=null;else{switch(_i(h)){case 1:l=ps;break;case 4:l=pi;break;case 16:l=Pn;break;case 536870912:l=cu;break;default:l=Pn}l=by(l,wy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function wy(r,s){if(uc=-1,cc=0,He&6)throw Error(t(327));var l=r.callbackNode;if(Ko()&&r.callbackNode!==l)return null;var h=gs(r,r===Ot?Ut:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=hc(r,h);else{s=h;var p=He;He|=2;var g=Sy();(Ot!==r||Ut!==s)&&(Gr=null,Wo=Ze()+500,xs(r,s));do try{r1();break}catch(P){Iy(r,P)}while(!0);yd(),ic.current=g,He=p,Tt!==null?s=0:(Ot=null,Ut=0,s=Rt)}if(s!==0){if(s===2&&(p=yn(r),p!==0&&(h=p,s=ef(r,p))),s===1)throw l=ol,xs(r,0),Di(r,h),cn(r,Ze()),l;if(s===6)Di(r,h);else{if(p=r.current.alternate,!(h&30)&&!t1(p)&&(s=hc(r,h),s===2&&(g=yn(r),g!==0&&(h=g,s=ef(r,g))),s===1))throw l=ol,xs(r,0),Di(r,h),cn(r,Ze()),l;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Os(r,un,Gr);break;case 3:if(Di(r,h),(h&130023424)===h&&(s=Xd+500-Ze(),10<s)){if(gs(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){tn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=od(Os.bind(null,r,un,Gr),s);break}Os(r,un,Gr);break;case 4:if(Di(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var E=31-Jt(h);g=1<<E,E=s[E],E>p&&(p=E),h&=~g}if(h=p,h=Ze()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*e1(h/1960))-h,10<h){r.timeoutHandle=od(Os.bind(null,r,un,Gr),h);break}Os(r,un,Gr);break;case 5:Os(r,un,Gr);break;default:throw Error(t(329))}}}return cn(r,Ze()),r.callbackNode===l?wy.bind(null,r):null}function ef(r,s){var l=al;return r.current.memoizedState.isDehydrated&&(xs(r,s).flags|=256),r=hc(r,s),r!==2&&(s=un,un=l,s!==null&&tf(s)),r}function tf(r){un===null?un=r:un.push.apply(un,r)}function t1(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],g=p.getSnapshot;p=p.value;try{if(!Zn(g(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Di(r,s){for(s&=~Yd,s&=~sc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Jt(s),h=1<<l;r[l]=-1,s&=~h}}function Ty(r){if(He&6)throw Error(t(327));Ko();var s=gs(r,0);if(!(s&1))return cn(r,Ze()),null;var l=hc(r,s);if(r.tag!==0&&l===2){var h=yn(r);h!==0&&(s=h,l=ef(r,h))}if(l===1)throw l=ol,xs(r,0),Di(r,s),cn(r,Ze()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Os(r,un,Gr),cn(r,Ze()),null}function nf(r,s){var l=He;He|=1;try{return r(s)}finally{He=l,He===0&&(Wo=Ze()+500,Fu&&Ci())}}function bs(r){Oi!==null&&Oi.tag===0&&!(He&6)&&Ko();var s=He;He|=1;var l=Ln.transition,h=Fe;try{if(Ln.transition=null,Fe=1,r)return r()}finally{Fe=h,Ln.transition=l,He=s,!(He&6)&&Ci()}}function rf(){Tn=qo.current,it(qo)}function xs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,xT(l)),Tt!==null)for(l=Tt.return;l!==null;){var h=l;switch(dd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Vu();break;case 3:zo(),it(on),it(Bt),Ad();break;case 5:Id(h);break;case 4:zo();break;case 13:it(ut);break;case 19:it(ut);break;case 10:vd(h.type._context);break;case 22:case 23:rf()}l=l.return}if(Ot=r,Tt=r=Li(r.current,null),Ut=Tn=s,Rt=0,ol=null,Yd=sc=ks=0,un=al=null,Rs!==null){for(s=0;s<Rs.length;s++)if(l=Rs[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,g=l.pending;if(g!==null){var E=g.next;g.next=p,h.next=E}l.pending=h}Rs=null}return r}function Iy(r,s){do{var l=Tt;try{if(yd(),Gu.current=Ju,Qu){for(var h=ct.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Qu=!1}if(Ps=0,xt=At=ct=null,el=!1,tl=0,Qd.current=null,l===null||l.return===null){Rt=1,ol=s,Tt=null;break}e:{var g=r,E=l.return,P=l,L=s;if(s=Ut,P.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var K=L,te=P,ne=te.tag;if(!(te.mode&1)&&(ne===0||ne===11||ne===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ue=Gg(E);if(ue!==null){ue.flags&=-257,Qg(ue,E,P,g,s),ue.mode&1&&Kg(g,K,s),s=ue,L=K;var de=s.updateQueue;if(de===null){var pe=new Set;pe.add(L),s.updateQueue=pe}else de.add(L);break e}else{if(!(s&1)){Kg(g,K,s),sf();break e}L=Error(t(426))}}else if(lt&&P.mode&1){var _t=Gg(E);if(_t!==null){!(_t.flags&65536)&&(_t.flags|=256),Qg(_t,E,P,g,s),md(Bo(L,P));break e}}g=L=Bo(L,P),Rt!==4&&(Rt=2),al===null?al=[g]:al.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=qg(g,L,s);vg(g,B);break e;case 1:P=L;var F=g.type,H=g.stateNode;if(!(g.flags&128)&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(xi===null||!xi.has(H)))){g.flags|=65536,s&=-s,g.lanes|=s;var ie=Wg(g,P,s);vg(g,ie);break e}}g=g.return}while(g!==null)}Ry(l)}catch(me){s=me,Tt===l&&l!==null&&(Tt=l=l.return);continue}break}while(!0)}function Sy(){var r=ic.current;return ic.current=Ju,r===null?Ju:r}function sf(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Ot===null||!(ks&268435455)&&!(sc&268435455)||Di(Ot,Ut)}function hc(r,s){var l=He;He|=2;var h=Sy();(Ot!==r||Ut!==s)&&(Gr=null,xs(r,s));do try{n1();break}catch(p){Iy(r,p)}while(!0);if(yd(),He=l,ic.current=h,Tt!==null)throw Error(t(261));return Ot=null,Ut=0,Rt}function n1(){for(;Tt!==null;)Ay(Tt)}function r1(){for(;Tt!==null&&!lu();)Ay(Tt)}function Ay(r){var s=ky(r.alternate,r,Tn);r.memoizedProps=r.pendingProps,s===null?Ry(r):Tt=s,Qd.current=null}function Ry(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=YT(l,s),l!==null){l.flags&=32767,Tt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Rt=6,Tt=null;return}}else if(l=QT(l,s,Tn),l!==null){Tt=l;return}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=r}while(s!==null);Rt===0&&(Rt=5)}function Os(r,s,l){var h=Fe,p=Ln.transition;try{Ln.transition=null,Fe=1,i1(r,s,l,h)}finally{Ln.transition=p,Fe=h}return null}function i1(r,s,l,h){do Ko();while(Oi!==null);if(He&6)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(Je(r,g),r===Ot&&(Tt=Ot=null,Ut=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||ac||(ac=!0,by(Pn,function(){return Ko(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=Ln.transition,Ln.transition=null;var E=Fe;Fe=1;var P=He;He|=4,Qd.current=null,JT(r,l),gy(l,r),ST(id),wi=!!rd,id=rd=null,r.current=l,ZT(l),jh(),He=P,Fe=E,Ln.transition=g}else r.current=l;if(ac&&(ac=!1,Oi=r,lc=p),g=r.pendingLanes,g===0&&(xi=null),hu(l.stateNode),cn(r,Ze()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(oc)throw oc=!1,r=Jd,Jd=null,r;return lc&1&&r.tag!==0&&Ko(),g=r.pendingLanes,g&1?r===Zd?ll++:(ll=0,Zd=r):ll=0,Ci(),null}function Ko(){if(Oi!==null){var r=_i(lc),s=Ln.transition,l=Fe;try{if(Ln.transition=null,Fe=16>r?16:r,Oi===null)var h=!1;else{if(r=Oi,Oi=null,lc=0,He&6)throw Error(t(331));var p=He;for(He|=4,he=r.current;he!==null;){var g=he,E=g.child;if(he.flags&16){var P=g.deletions;if(P!==null){for(var L=0;L<P.length;L++){var K=P[L];for(he=K;he!==null;){var te=he;switch(te.tag){case 0:case 11:case 15:sl(8,te,g)}var ne=te.child;if(ne!==null)ne.return=te,he=ne;else for(;he!==null;){te=he;var ee=te.sibling,ue=te.return;if(hy(te),te===K){he=null;break}if(ee!==null){ee.return=ue,he=ee;break}he=ue}}}var de=g.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var _t=pe.sibling;pe.sibling=null,pe=_t}while(pe!==null)}}he=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,he=E;else e:for(;he!==null;){if(g=he,g.flags&2048)switch(g.tag){case 0:case 11:case 15:sl(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,he=B;break e}he=g.return}}var F=r.current;for(he=F;he!==null;){E=he;var H=E.child;if(E.subtreeFlags&2064&&H!==null)H.return=E,he=H;else e:for(E=F;he!==null;){if(P=he,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:rc(9,P)}}catch(me){pt(P,P.return,me)}if(P===E){he=null;break e}var ie=P.sibling;if(ie!==null){ie.return=P.return,he=ie;break e}he=P.return}}if(He=p,Ci(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(ms,r)}catch{}h=!0}return h}finally{Fe=l,Ln.transition=s}}return!1}function Cy(r,s,l){s=Bo(l,s),s=qg(r,s,1),r=ki(r,s,1),s=tn(),r!==null&&(yi(r,1,s),cn(r,s))}function pt(r,s,l){if(r.tag===3)Cy(r,r,l);else for(;s!==null;){if(s.tag===3){Cy(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(xi===null||!xi.has(h))){r=Bo(l,r),r=Wg(s,r,1),s=ki(s,r,1),r=tn(),s!==null&&(yi(s,1,r),cn(s,r));break}}s=s.return}}function s1(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=tn(),r.pingedLanes|=r.suspendedLanes&l,Ot===r&&(Ut&l)===l&&(Rt===4||Rt===3&&(Ut&130023424)===Ut&&500>Ze()-Xd?xs(r,0):Yd|=l),cn(r,s)}function Py(r,s){s===0&&(r.mode&1?(s=go,go<<=1,!(go&130023424)&&(go=4194304)):s=1);var l=tn();r=qr(r,s),r!==null&&(yi(r,s,l),cn(r,l))}function o1(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Py(r,l)}function a1(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Py(r,l)}var ky;ky=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||on.current)ln=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return ln=!1,GT(r,s,l);ln=!!(r.flags&131072)}else ln=!1,lt&&s.flags&1048576&&lg(s,$u,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;tc(r,s),r=s.pendingProps;var p=Lo(s,Bt.current);jo(s,l),p=Pd(null,s,h,r,p,l);var g=kd();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,an(h)?(g=!0,Mu(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,wd(s),p.updater=Zu,s.stateNode=p,p._reactInternals=s,Ld(s,h,r,l),s=Ud(null,s,h,!0,g,l)):(s.tag=0,lt&&g&&hd(s),en(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(tc(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=u1(h),r=tr(h,r),p){case 0:s=Fd(null,s,h,r,l);break e;case 1:s=ty(null,s,h,r,l);break e;case 11:s=Yg(null,s,h,r,l);break e;case 14:s=Xg(null,s,h,tr(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:tr(h,p),Fd(r,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:tr(h,p),ty(r,s,h,p,l);case 3:e:{if(ny(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,p=g.element,yg(r,s),Wu(s,h,null,l);var E=s.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=Bo(Error(t(423)),s),s=ry(r,s,h,l,p);break e}else if(h!==p){p=Bo(Error(t(424)),s),s=ry(r,s,h,l,p);break e}else for(wn=Si(s.stateNode.containerInfo.firstChild),En=s,lt=!0,er=null,l=mg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Fo(),h===p){s=Kr(r,s,l);break e}en(r,s,h,l)}s=s.child}return s;case 5:return Eg(s),r===null&&pd(s),h=s.type,p=s.pendingProps,g=r!==null?r.memoizedProps:null,E=p.children,sd(h,p)?E=null:g!==null&&sd(h,g)&&(s.flags|=32),ey(r,s),en(r,s,E,l),s.child;case 6:return r===null&&pd(s),null;case 13:return iy(r,s,l);case 4:return Td(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Uo(s,null,h,l):en(r,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:tr(h,p),Yg(r,s,h,p,l);case 7:return en(r,s,s.pendingProps,l),s.child;case 8:return en(r,s,s.pendingProps.children,l),s.child;case 12:return en(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,g=s.memoizedProps,E=p.value,et(Bu,h._currentValue),h._currentValue=E,g!==null)if(Zn(g.value,E)){if(g.children===p.children&&!on.current){s=Kr(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var P=g.dependencies;if(P!==null){E=g.child;for(var L=P.firstContext;L!==null;){if(L.context===h){if(g.tag===1){L=Wr(-1,l&-l),L.tag=2;var K=g.updateQueue;if(K!==null){K=K.shared;var te=K.pending;te===null?L.next=L:(L.next=te.next,te.next=L),K.pending=L}}g.lanes|=l,L=g.alternate,L!==null&&(L.lanes|=l),_d(g.return,l,s),P.lanes|=l;break}L=L.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=l,P=E.alternate,P!==null&&(P.lanes|=l),_d(E,l,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}en(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,jo(s,l),p=Nn(p),h=h(p),s.flags|=1,en(r,s,h,l),s.child;case 14:return h=s.type,p=tr(h,s.pendingProps),p=tr(h.type,p),Xg(r,s,h,p,l);case 15:return Jg(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:tr(h,p),tc(r,s),s.tag=1,an(h)?(r=!0,Mu(s)):r=!1,jo(s,l),Bg(s,h,p),Ld(s,h,p,l),Ud(null,s,h,!0,r,l);case 19:return oy(r,s,l);case 22:return Zg(r,s,l)}throw Error(t(156,s.tag))};function by(r,s){return po(r,s)}function l1(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,s,l,h){return new l1(r,s,l,h)}function of(r){return r=r.prototype,!(!r||!r.isReactComponent)}function u1(r){if(typeof r=="function")return of(r)?1:0;if(r!=null){if(r=r.$$typeof,r===U)return 11;if(r===ft)return 14}return 2}function Li(r,s){var l=r.alternate;return l===null?(l=Vn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function dc(r,s,l,h,p,g){var E=2;if(h=r,typeof r=="function")of(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case A:return Ns(l.children,p,g,s);case S:E=8,p|=8;break;case R:return r=Vn(12,l,s,p|2),r.elementType=R,r.lanes=g,r;case C:return r=Vn(13,l,s,p),r.elementType=C,r.lanes=g,r;case qe:return r=Vn(19,l,s,p),r.elementType=qe,r.lanes=g,r;case $e:return fc(l,p,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:E=10;break e;case N:E=9;break e;case U:E=11;break e;case ft:E=14;break e;case gt:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Vn(E,l,s,p),s.elementType=r,s.type=h,s.lanes=g,s}function Ns(r,s,l,h){return r=Vn(7,r,h,s),r.lanes=l,r}function fc(r,s,l,h){return r=Vn(22,r,h,s),r.elementType=$e,r.lanes=l,r.stateNode={isHidden:!1},r}function af(r,s,l){return r=Vn(6,r,null,s),r.lanes=l,r}function lf(r,s,l){return s=Vn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function c1(r,s,l,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gi(0),this.expirationTimes=gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function uf(r,s,l,h,p,g,E,P,L){return r=new c1(r,s,l,P,L),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Vn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},wd(g),r}function h1(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function xy(r){if(!r)return Ri;r=r._reactInternals;e:{if(Wn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(an(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(an(l))return sg(r,l,s)}return s}function Oy(r,s,l,h,p,g,E,P,L){return r=uf(l,h,!0,r,p,g,E,P,L),r.context=xy(null),l=r.current,h=tn(),p=Ni(l),g=Wr(h,p),g.callback=s??null,ki(l,g,p),r.current.lanes=p,yi(r,p,h),cn(r,h),r}function pc(r,s,l,h){var p=s.current,g=tn(),E=Ni(p);return l=xy(l),s.context===null?s.context=l:s.pendingContext=l,s=Wr(g,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=ki(p,s,E),r!==null&&(ir(r,p,E,g),qu(r,p,E)),E}function mc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ny(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function cf(r,s){Ny(r,s),(r=r.alternate)&&Ny(r,s)}var Dy=typeof reportError=="function"?reportError:function(r){console.error(r)};function hf(r){this._internalRoot=r}gc.prototype.render=hf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));pc(r,s,null,null)},gc.prototype.unmount=hf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;bs(function(){pc(null,r,null,null)}),s[jr]=null}};function gc(r){this._internalRoot=r}gc.prototype.unstable_scheduleHydration=function(r){if(r){var s=gu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<fr.length&&s!==0&&s<fr[l].priority;l++);fr.splice(l,0,r),l===0&&_u(r)}};function df(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function yc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ly(){}function d1(r,s,l,h,p){if(p){if(typeof h=="function"){var g=h;h=function(){var K=mc(E);g.call(K)}}var E=Oy(s,h,r,0,null,!1,!1,"",Ly);return r._reactRootContainer=E,r[jr]=E.current,Wa(r.nodeType===8?r.parentNode:r),bs(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var P=h;h=function(){var K=mc(L);P.call(K)}}var L=uf(r,0,!1,null,null,!1,!1,"",Ly);return r._reactRootContainer=L,r[jr]=L.current,Wa(r.nodeType===8?r.parentNode:r),bs(function(){pc(s,L,l,h)}),L}function vc(r,s,l,h,p){var g=l._reactRootContainer;if(g){var E=g;if(typeof p=="function"){var P=p;p=function(){var L=mc(E);P.call(L)}}pc(s,E,r,p)}else E=d1(l,s,r,p,h);return mc(E)}pu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=mi(s.pendingLanes);l!==0&&(vi(s,l|1),cn(s,Ze()),!(He&6)&&(Wo=Ze()+500,Ci()))}break;case 13:bs(function(){var h=qr(r,1);if(h!==null){var p=tn();ir(h,r,1,p)}}),cf(r,1)}},yo=function(r){if(r.tag===13){var s=qr(r,134217728);if(s!==null){var l=tn();ir(s,r,134217728,l)}cf(r,134217728)}},mu=function(r){if(r.tag===13){var s=Ni(r),l=qr(r,s);if(l!==null){var h=tn();ir(l,r,s,h)}cf(r,s)}},gu=function(){return Fe},yu=function(r,s){var l=Fe;try{return Fe=r,s()}finally{Fe=l}},ao=function(r,s,l){switch(s){case"input":if(as(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var p=Lu(h);if(!p)throw Error(t(90));hi(h),as(h,p)}}}break;case"textarea":fe(r,l);break;case"select":s=l.value,s!=null&&zn(r,!!l.multiple,s,!1)}},cs=nf,Ca=bs;var f1={usingClientEntryPoint:!1,Events:[Qa,No,Lu,hr,Ra,nf]},ul={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p1={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ba(r),r===null?null:r.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{ms=_c.inject(p1),gn=_c}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f1,hn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!df(s))throw Error(t(200));return h1(r,s,null,l)},hn.createRoot=function(r,s){if(!df(r))throw Error(t(299));var l=!1,h="",p=Dy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=uf(r,1,!1,null,null,l,!1,h,p),r[jr]=s.current,Wa(r.nodeType===8?r.parentNode:r),new hf(s)},hn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ba(s),r=r===null?null:r.stateNode,r},hn.flushSync=function(r){return bs(r)},hn.hydrate=function(r,s,l){if(!yc(s))throw Error(t(200));return vc(null,r,s,!0,l)},hn.hydrateRoot=function(r,s,l){if(!df(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,g="",E=Dy;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=Oy(s,null,r,1,l??null,p,!1,g,E),r[jr]=s.current,Wa(r),h)for(r=0;r<h.length;r++)l=h[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new gc(s)},hn.render=function(r,s,l){if(!yc(s))throw Error(t(200));return vc(null,r,s,!1,l)},hn.unmountComponentAtNode=function(r){if(!yc(r))throw Error(t(40));return r._reactRootContainer?(bs(function(){vc(null,null,r,!1,function(){r._reactRootContainer=null,r[jr]=null})}),!0):!1},hn.unstable_batchedUpdates=nf,hn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!yc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return vc(r,s,l,!1,h)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var By;function I1(){if(By)return mf.exports;By=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mf.exports=T1(),mf.exports}var Hy;function S1(){if(Hy)return Ec;Hy=1;var n=I1();return Ec.createRoot=n.createRoot,Ec.hydrateRoot=n.hydrateRoot,Ec}var A1=S1(),R1=function(e){return C1(e)&&!P1(e)};function C1(n){return!!n&&typeof n=="object"}function P1(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||x1(n)}var k1=typeof Symbol=="function"&&Symbol.for,b1=k1?Symbol.for("react.element"):60103;function x1(n){return n.$$typeof===b1}function O1(n){return Array.isArray(n)?[]:{}}function qc(n,e){return e.clone!==!1&&e.isMergeableObject(n)?Rl(O1(n),n,e):n}function N1(n,e,t){return n.concat(e).map(function(i){return qc(i,t)})}function D1(n,e,t){var i={};return t.isMergeableObject(n)&&Object.keys(n).forEach(function(o){i[o]=qc(n[o],t)}),Object.keys(e).forEach(function(o){!t.isMergeableObject(e[o])||!n[o]?i[o]=qc(e[o],t):i[o]=Rl(n[o],e[o],t)}),i}function Rl(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||N1,t.isMergeableObject=t.isMergeableObject||R1;var i=Array.isArray(e),o=Array.isArray(n),a=i===o;return a?i?t.arrayMerge(n,e,t):D1(n,e,t):qc(e,t)}Rl.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,o){return Rl(i,o,t)},{})};var jf=Rl,Q_=typeof global=="object"&&global&&global.Object===Object&&global,L1=typeof self=="object"&&self&&self.Object===Object&&self,xr=Q_||L1||Function("return this")(),Qi=xr.Symbol,Y_=Object.prototype,V1=Y_.hasOwnProperty,M1=Y_.toString,hl=Qi?Qi.toStringTag:void 0;function F1(n){var e=V1.call(n,hl),t=n[hl];try{n[hl]=void 0;var i=!0}catch{}var o=M1.call(n);return i&&(e?n[hl]=t:delete n[hl]),o}var U1=Object.prototype,$1=U1.toString;function j1(n){return $1.call(n)}var z1="[object Null]",B1="[object Undefined]",qy=Qi?Qi.toStringTag:void 0;function Qs(n){return n==null?n===void 0?B1:z1:qy&&qy in Object(n)?F1(n):j1(n)}function X_(n,e){return function(t){return n(e(t))}}var Cp=X_(Object.getPrototypeOf,Object);function Ys(n){return n!=null&&typeof n=="object"}var H1="[object Object]",q1=Function.prototype,W1=Object.prototype,J_=q1.toString,K1=W1.hasOwnProperty,G1=J_.call(Object);function Wy(n){if(!Ys(n)||Qs(n)!=H1)return!1;var e=Cp(n);if(e===null)return!0;var t=K1.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&J_.call(t)==G1}function Q1(){this.__data__=[],this.size=0}function Z_(n,e){return n===e||n!==n&&e!==e}function fh(n,e){for(var t=n.length;t--;)if(Z_(n[t][0],e))return t;return-1}var Y1=Array.prototype,X1=Y1.splice;function J1(n){var e=this.__data__,t=fh(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():X1.call(e,t,1),--this.size,!0}function Z1(n){var e=this.__data__,t=fh(e,n);return t<0?void 0:e[t][1]}function eI(n){return fh(this.__data__,n)>-1}function tI(n,e){var t=this.__data__,i=fh(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function li(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}li.prototype.clear=Q1;li.prototype.delete=J1;li.prototype.get=Z1;li.prototype.has=eI;li.prototype.set=tI;function nI(){this.__data__=new li,this.size=0}function rI(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function iI(n){return this.__data__.get(n)}function sI(n){return this.__data__.has(n)}function Bl(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var oI="[object AsyncFunction]",aI="[object Function]",lI="[object GeneratorFunction]",uI="[object Proxy]";function e0(n){if(!Bl(n))return!1;var e=Qs(n);return e==aI||e==lI||e==oI||e==uI}var vf=xr["__core-js_shared__"],Ky=function(){var n=/[^.]+$/.exec(vf&&vf.keys&&vf.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function cI(n){return!!Ky&&Ky in n}var hI=Function.prototype,dI=hI.toString;function Xs(n){if(n!=null){try{return dI.call(n)}catch{}try{return n+""}catch{}}return""}var fI=/[\\^$.*+?()[\]{}|]/g,pI=/^\[object .+?Constructor\]$/,mI=Function.prototype,gI=Object.prototype,yI=mI.toString,vI=gI.hasOwnProperty,_I=RegExp("^"+yI.call(vI).replace(fI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function EI(n){if(!Bl(n)||cI(n))return!1;var e=e0(n)?_I:pI;return e.test(Xs(n))}function wI(n,e){return n==null?void 0:n[e]}function Js(n,e){var t=wI(n,e);return EI(t)?t:void 0}var Cl=Js(xr,"Map"),Pl=Js(Object,"create");function TI(){this.__data__=Pl?Pl(null):{},this.size=0}function II(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var SI="__lodash_hash_undefined__",AI=Object.prototype,RI=AI.hasOwnProperty;function CI(n){var e=this.__data__;if(Pl){var t=e[n];return t===SI?void 0:t}return RI.call(e,n)?e[n]:void 0}var PI=Object.prototype,kI=PI.hasOwnProperty;function bI(n){var e=this.__data__;return Pl?e[n]!==void 0:kI.call(e,n)}var xI="__lodash_hash_undefined__";function OI(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Pl&&e===void 0?xI:e,this}function Bs(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Bs.prototype.clear=TI;Bs.prototype.delete=II;Bs.prototype.get=CI;Bs.prototype.has=bI;Bs.prototype.set=OI;function NI(){this.size=0,this.__data__={hash:new Bs,map:new(Cl||li),string:new Bs}}function DI(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function ph(n,e){var t=n.__data__;return DI(e)?t[typeof e=="string"?"string":"hash"]:t.map}function LI(n){var e=ph(this,n).delete(n);return this.size-=e?1:0,e}function VI(n){return ph(this,n).get(n)}function MI(n){return ph(this,n).has(n)}function FI(n,e){var t=ph(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function ns(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}ns.prototype.clear=NI;ns.prototype.delete=LI;ns.prototype.get=VI;ns.prototype.has=MI;ns.prototype.set=FI;var UI=200;function $I(n,e){var t=this.__data__;if(t instanceof li){var i=t.__data__;if(!Cl||i.length<UI-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new ns(i)}return t.set(n,e),this.size=t.size,this}function pa(n){var e=this.__data__=new li(n);this.size=e.size}pa.prototype.clear=nI;pa.prototype.delete=rI;pa.prototype.get=iI;pa.prototype.has=sI;pa.prototype.set=$I;function jI(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var Gy=function(){try{var n=Js(Object,"defineProperty");return n({},"",{}),n}catch{}}();function t0(n,e,t){e=="__proto__"&&Gy?Gy(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var zI=Object.prototype,BI=zI.hasOwnProperty;function n0(n,e,t){var i=n[e];(!(BI.call(n,e)&&Z_(i,t))||t===void 0&&!(e in n))&&t0(n,e,t)}function mh(n,e,t,i){var o=!t;t||(t={});for(var a=-1,u=e.length;++a<u;){var d=e[a],f=void 0;f===void 0&&(f=n[d]),o?t0(t,d,f):n0(t,d,f)}return t}function HI(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var qI="[object Arguments]";function Qy(n){return Ys(n)&&Qs(n)==qI}var r0=Object.prototype,WI=r0.hasOwnProperty,KI=r0.propertyIsEnumerable,GI=Qy(function(){return arguments}())?Qy:function(n){return Ys(n)&&WI.call(n,"callee")&&!KI.call(n,"callee")},Hl=Array.isArray;function QI(){return!1}var i0=typeof Sn=="object"&&Sn&&!Sn.nodeType&&Sn,Yy=i0&&typeof An=="object"&&An&&!An.nodeType&&An,YI=Yy&&Yy.exports===i0,Xy=YI?xr.Buffer:void 0,XI=Xy?Xy.isBuffer:void 0,s0=XI||QI,JI=9007199254740991,ZI=/^(?:0|[1-9]\d*)$/;function eS(n,e){var t=typeof n;return e=e??JI,!!e&&(t=="number"||t!="symbol"&&ZI.test(n))&&n>-1&&n%1==0&&n<e}var tS=9007199254740991;function o0(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=tS}var nS="[object Arguments]",rS="[object Array]",iS="[object Boolean]",sS="[object Date]",oS="[object Error]",aS="[object Function]",lS="[object Map]",uS="[object Number]",cS="[object Object]",hS="[object RegExp]",dS="[object Set]",fS="[object String]",pS="[object WeakMap]",mS="[object ArrayBuffer]",gS="[object DataView]",yS="[object Float32Array]",vS="[object Float64Array]",_S="[object Int8Array]",ES="[object Int16Array]",wS="[object Int32Array]",TS="[object Uint8Array]",IS="[object Uint8ClampedArray]",SS="[object Uint16Array]",AS="[object Uint32Array]",st={};st[yS]=st[vS]=st[_S]=st[ES]=st[wS]=st[TS]=st[IS]=st[SS]=st[AS]=!0;st[nS]=st[rS]=st[mS]=st[iS]=st[gS]=st[sS]=st[oS]=st[aS]=st[lS]=st[uS]=st[cS]=st[hS]=st[dS]=st[fS]=st[pS]=!1;function RS(n){return Ys(n)&&o0(n.length)&&!!st[Qs(n)]}function Pp(n){return function(e){return n(e)}}var a0=typeof Sn=="object"&&Sn&&!Sn.nodeType&&Sn,_l=a0&&typeof An=="object"&&An&&!An.nodeType&&An,CS=_l&&_l.exports===a0,_f=CS&&Q_.process,sa=function(){try{var n=_l&&_l.require&&_l.require("util").types;return n||_f&&_f.binding&&_f.binding("util")}catch{}}(),Jy=sa&&sa.isTypedArray,PS=Jy?Pp(Jy):RS,kS=Object.prototype,bS=kS.hasOwnProperty;function l0(n,e){var t=Hl(n),i=!t&&GI(n),o=!t&&!i&&s0(n),a=!t&&!i&&!o&&PS(n),u=t||i||o||a,d=u?HI(n.length,String):[],f=d.length;for(var y in n)(e||bS.call(n,y))&&!(u&&(y=="length"||o&&(y=="offset"||y=="parent")||a&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||eS(y,f)))&&d.push(y);return d}var xS=Object.prototype;function kp(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||xS;return n===t}var OS=X_(Object.keys,Object),NS=Object.prototype,DS=NS.hasOwnProperty;function LS(n){if(!kp(n))return OS(n);var e=[];for(var t in Object(n))DS.call(n,t)&&t!="constructor"&&e.push(t);return e}function u0(n){return n!=null&&o0(n.length)&&!e0(n)}function bp(n){return u0(n)?l0(n):LS(n)}function VS(n,e){return n&&mh(e,bp(e),n)}function MS(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var FS=Object.prototype,US=FS.hasOwnProperty;function $S(n){if(!Bl(n))return MS(n);var e=kp(n),t=[];for(var i in n)i=="constructor"&&(e||!US.call(n,i))||t.push(i);return t}function xp(n){return u0(n)?l0(n,!0):$S(n)}function jS(n,e){return n&&mh(e,xp(e),n)}var c0=typeof Sn=="object"&&Sn&&!Sn.nodeType&&Sn,Zy=c0&&typeof An=="object"&&An&&!An.nodeType&&An,zS=Zy&&Zy.exports===c0,ev=zS?xr.Buffer:void 0,tv=ev?ev.allocUnsafe:void 0;function BS(n,e){if(e)return n.slice();var t=n.length,i=tv?tv(t):new n.constructor(t);return n.copy(i),i}function h0(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}function HS(n,e){for(var t=-1,i=n==null?0:n.length,o=0,a=[];++t<i;){var u=n[t];e(u,t,n)&&(a[o++]=u)}return a}function d0(){return[]}var qS=Object.prototype,WS=qS.propertyIsEnumerable,nv=Object.getOwnPropertySymbols,Op=nv?function(n){return n==null?[]:(n=Object(n),HS(nv(n),function(e){return WS.call(n,e)}))}:d0;function KS(n,e){return mh(n,Op(n),e)}function f0(n,e){for(var t=-1,i=e.length,o=n.length;++t<i;)n[o+t]=e[t];return n}var GS=Object.getOwnPropertySymbols,p0=GS?function(n){for(var e=[];n;)f0(e,Op(n)),n=Cp(n);return e}:d0;function QS(n,e){return mh(n,p0(n),e)}function m0(n,e,t){var i=e(n);return Hl(n)?i:f0(i,t(n))}function YS(n){return m0(n,bp,Op)}function XS(n){return m0(n,xp,p0)}var zf=Js(xr,"DataView"),Bf=Js(xr,"Promise"),Hf=Js(xr,"Set"),qf=Js(xr,"WeakMap"),rv="[object Map]",JS="[object Object]",iv="[object Promise]",sv="[object Set]",ov="[object WeakMap]",av="[object DataView]",ZS=Xs(zf),eA=Xs(Cl),tA=Xs(Bf),nA=Xs(Hf),rA=Xs(qf),Yr=Qs;(zf&&Yr(new zf(new ArrayBuffer(1)))!=av||Cl&&Yr(new Cl)!=rv||Bf&&Yr(Bf.resolve())!=iv||Hf&&Yr(new Hf)!=sv||qf&&Yr(new qf)!=ov)&&(Yr=function(n){var e=Qs(n),t=e==JS?n.constructor:void 0,i=t?Xs(t):"";if(i)switch(i){case ZS:return av;case eA:return rv;case tA:return iv;case nA:return sv;case rA:return ov}return e});var iA=Object.prototype,sA=iA.hasOwnProperty;function oA(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&sA.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var lv=xr.Uint8Array;function Np(n){var e=new n.constructor(n.byteLength);return new lv(e).set(new lv(n)),e}function aA(n,e){var t=e?Np(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var lA=/\w*$/;function uA(n){var e=new n.constructor(n.source,lA.exec(n));return e.lastIndex=n.lastIndex,e}var uv=Qi?Qi.prototype:void 0,cv=uv?uv.valueOf:void 0;function cA(n){return cv?Object(cv.call(n)):{}}function hA(n,e){var t=e?Np(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var dA="[object Boolean]",fA="[object Date]",pA="[object Map]",mA="[object Number]",gA="[object RegExp]",yA="[object Set]",vA="[object String]",_A="[object Symbol]",EA="[object ArrayBuffer]",wA="[object DataView]",TA="[object Float32Array]",IA="[object Float64Array]",SA="[object Int8Array]",AA="[object Int16Array]",RA="[object Int32Array]",CA="[object Uint8Array]",PA="[object Uint8ClampedArray]",kA="[object Uint16Array]",bA="[object Uint32Array]";function xA(n,e,t){var i=n.constructor;switch(e){case EA:return Np(n);case dA:case fA:return new i(+n);case wA:return aA(n,t);case TA:case IA:case SA:case AA:case RA:case CA:case PA:case kA:case bA:return hA(n,t);case pA:return new i;case mA:case vA:return new i(n);case gA:return uA(n);case yA:return new i;case _A:return cA(n)}}var hv=Object.create,OA=function(){function n(){}return function(e){if(!Bl(e))return{};if(hv)return hv(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function NA(n){return typeof n.constructor=="function"&&!kp(n)?OA(Cp(n)):{}}var DA="[object Map]";function LA(n){return Ys(n)&&Yr(n)==DA}var dv=sa&&sa.isMap,VA=dv?Pp(dv):LA,MA="[object Set]";function FA(n){return Ys(n)&&Yr(n)==MA}var fv=sa&&sa.isSet,UA=fv?Pp(fv):FA,$A=1,jA=2,zA=4,g0="[object Arguments]",BA="[object Array]",HA="[object Boolean]",qA="[object Date]",WA="[object Error]",y0="[object Function]",KA="[object GeneratorFunction]",GA="[object Map]",QA="[object Number]",v0="[object Object]",YA="[object RegExp]",XA="[object Set]",JA="[object String]",ZA="[object Symbol]",eR="[object WeakMap]",tR="[object ArrayBuffer]",nR="[object DataView]",rR="[object Float32Array]",iR="[object Float64Array]",sR="[object Int8Array]",oR="[object Int16Array]",aR="[object Int32Array]",lR="[object Uint8Array]",uR="[object Uint8ClampedArray]",cR="[object Uint16Array]",hR="[object Uint32Array]",tt={};tt[g0]=tt[BA]=tt[tR]=tt[nR]=tt[HA]=tt[qA]=tt[rR]=tt[iR]=tt[sR]=tt[oR]=tt[aR]=tt[GA]=tt[QA]=tt[v0]=tt[YA]=tt[XA]=tt[JA]=tt[ZA]=tt[lR]=tt[uR]=tt[cR]=tt[hR]=!0;tt[WA]=tt[y0]=tt[eR]=!1;function El(n,e,t,i,o,a){var u,d=e&$A,f=e&jA,y=e&zA;if(u!==void 0)return u;if(!Bl(n))return n;var _=Hl(n);if(_){if(u=oA(n),!d)return h0(n,u)}else{var T=Yr(n),w=T==y0||T==KA;if(s0(n))return BS(n,d);if(T==v0||T==g0||w&&!o){if(u=f||w?{}:NA(n),!d)return f?QS(n,jS(u,n)):KS(n,VS(u,n))}else{if(!tt[T])return o?n:{};u=xA(n,T,d)}}a||(a=new pa);var k=a.get(n);if(k)return k;a.set(n,u),UA(n)?n.forEach(function(b){u.add(El(b,e,t,b,n,a))}):VA(n)&&n.forEach(function(b,x){u.set(x,El(b,e,t,x,n,a))});var D=y?f?XS:YS:f?xp:bp,V=_?void 0:D(n);return jI(V||n,function(b,x){V&&(x=b,b=n[x]),n0(u,x,El(b,e,t,x,n,a))}),u}var dR=1,fR=4;function wc(n){return El(n,dR|fR)}var Ef,pv;function pR(){if(pv)return Ef;pv=1;var n=Array.isArray,e=Object.keys,t=Object.prototype.hasOwnProperty,i=typeof Element<"u";function o(a,u){if(a===u)return!0;if(a&&u&&typeof a=="object"&&typeof u=="object"){var d=n(a),f=n(u),y,_,T;if(d&&f){if(_=a.length,_!=u.length)return!1;for(y=_;y--!==0;)if(!o(a[y],u[y]))return!1;return!0}if(d!=f)return!1;var w=a instanceof Date,k=u instanceof Date;if(w!=k)return!1;if(w&&k)return a.getTime()==u.getTime();var D=a instanceof RegExp,V=u instanceof RegExp;if(D!=V)return!1;if(D&&V)return a.toString()==u.toString();var b=e(a);if(_=b.length,_!==e(u).length)return!1;for(y=_;y--!==0;)if(!t.call(u,b[y]))return!1;if(i&&a instanceof Element&&u instanceof Element)return a===u;for(y=_;y--!==0;)if(T=b[y],!(T==="_owner"&&a.$$typeof)&&!o(a[T],u[T]))return!1;return!0}return a!==a&&u!==u}return Ef=function(u,d){try{return o(u,d)}catch(f){if(f.message&&f.message.match(/stack|recursion/i)||f.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",f.name,f.message),!1;throw f}},Ef}var mR=pR();const Ls=Ap(mR);var gR=4;function mv(n){return El(n,gR)}function _0(n,e){for(var t=-1,i=n==null?0:n.length,o=Array(i);++t<i;)o[t]=e(n[t],t,n);return o}var yR="[object Symbol]";function Dp(n){return typeof n=="symbol"||Ys(n)&&Qs(n)==yR}var vR="Expected a function";function Lp(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(vR);var t=function(){var i=arguments,o=e?e.apply(this,i):i[0],a=t.cache;if(a.has(o))return a.get(o);var u=n.apply(this,i);return t.cache=a.set(o,u)||a,u};return t.cache=new(Lp.Cache||ns),t}Lp.Cache=ns;var _R=500;function ER(n){var e=Lp(n,function(i){return t.size===_R&&t.clear(),i}),t=e.cache;return e}var wR=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,TR=/\\(\\)?/g,IR=ER(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(wR,function(t,i,o,a){e.push(o?a.replace(TR,"$1"):i||t)}),e}),SR=1/0;function AR(n){if(typeof n=="string"||Dp(n))return n;var e=n+"";return e=="0"&&1/n==-SR?"-0":e}var RR=1/0,gv=Qi?Qi.prototype:void 0,yv=gv?gv.toString:void 0;function E0(n){if(typeof n=="string")return n;if(Hl(n))return _0(n,E0)+"";if(Dp(n))return yv?yv.call(n):"";var e=n+"";return e=="0"&&1/n==-RR?"-0":e}function CR(n){return n==null?"":E0(n)}function w0(n){return Hl(n)?_0(n,AR):Dp(n)?[n]:h0(IR(CR(n)))}var wf={exports:{}},Ge={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function PR(){if(vv)return Ge;vv=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,y=n?Symbol.for("react.concurrent_mode"):60111,_=n?Symbol.for("react.forward_ref"):60112,T=n?Symbol.for("react.suspense"):60113,w=n?Symbol.for("react.suspense_list"):60120,k=n?Symbol.for("react.memo"):60115,D=n?Symbol.for("react.lazy"):60116,V=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,M=n?Symbol.for("react.scope"):60119;function q(W){if(typeof W=="object"&&W!==null){var X=W.$$typeof;switch(X){case e:switch(W=W.type,W){case f:case y:case i:case a:case o:case T:return W;default:switch(W=W&&W.$$typeof,W){case d:case _:case D:case k:case u:return W;default:return X}}case t:return X}}}function Z(W){return q(W)===y}return Ge.AsyncMode=f,Ge.ConcurrentMode=y,Ge.ContextConsumer=d,Ge.ContextProvider=u,Ge.Element=e,Ge.ForwardRef=_,Ge.Fragment=i,Ge.Lazy=D,Ge.Memo=k,Ge.Portal=t,Ge.Profiler=a,Ge.StrictMode=o,Ge.Suspense=T,Ge.isAsyncMode=function(W){return Z(W)||q(W)===f},Ge.isConcurrentMode=Z,Ge.isContextConsumer=function(W){return q(W)===d},Ge.isContextProvider=function(W){return q(W)===u},Ge.isElement=function(W){return typeof W=="object"&&W!==null&&W.$$typeof===e},Ge.isForwardRef=function(W){return q(W)===_},Ge.isFragment=function(W){return q(W)===i},Ge.isLazy=function(W){return q(W)===D},Ge.isMemo=function(W){return q(W)===k},Ge.isPortal=function(W){return q(W)===t},Ge.isProfiler=function(W){return q(W)===a},Ge.isStrictMode=function(W){return q(W)===o},Ge.isSuspense=function(W){return q(W)===T},Ge.isValidElementType=function(W){return typeof W=="string"||typeof W=="function"||W===i||W===y||W===a||W===o||W===T||W===w||typeof W=="object"&&W!==null&&(W.$$typeof===D||W.$$typeof===k||W.$$typeof===u||W.$$typeof===d||W.$$typeof===_||W.$$typeof===b||W.$$typeof===x||W.$$typeof===M||W.$$typeof===V)},Ge.typeOf=q,Ge}var _v;function kR(){return _v||(_v=1,wf.exports=PR()),wf.exports}var Tf,Ev;function bR(){if(Ev)return Tf;Ev=1;var n=kR(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=i,a[n.Memo]=o;function u(D){return n.isMemo(D)?o:a[D.$$typeof]||e}var d=Object.defineProperty,f=Object.getOwnPropertyNames,y=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,T=Object.getPrototypeOf,w=Object.prototype;function k(D,V,b){if(typeof V!="string"){if(w){var x=T(V);x&&x!==w&&k(D,x,b)}var M=f(V);y&&(M=M.concat(y(V)));for(var q=u(D),Z=u(V),W=0;W<M.length;++W){var X=M[W];if(!t[X]&&!(b&&b[X])&&!(Z&&Z[X])&&!(q&&q[X])){var A=_(V,X);try{d(D,X,A)}catch{}}}}return D}return Tf=k,Tf}bR();function Dt(){return Dt=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Dt.apply(this,arguments)}function T0(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}var gh=$.createContext(void 0);gh.displayName="FormikContext";gh.Provider;gh.Consumer;function xR(){var n=$.useContext(gh);return n}var sr=function(e){return typeof e=="function"},yh=function(e){return e!==null&&typeof e=="object"},OR=function(e){return String(Math.floor(Number(e)))===e},If=function(e){return Object.prototype.toString.call(e)==="[object String]"},Sf=function(e){return yh(e)&&sr(e.then)};function In(n,e,t,i){i===void 0&&(i=0);for(var o=w0(e);n&&i<o.length;)n=n[o[i++]];return i!==o.length&&!n||n===void 0?t:n}function Us(n,e,t){for(var i=mv(n),o=i,a=0,u=w0(e);a<u.length-1;a++){var d=u[a],f=In(n,u.slice(0,a+1));if(f&&(yh(f)||Array.isArray(f)))o=o[d]=mv(f);else{var y=u[a+1];o=o[d]=OR(y)&&Number(y)>=0?[]:{}}}return(a===0?n:o)[u[a]]===t?n:(t===void 0?delete o[u[a]]:o[u[a]]=t,a===0&&t===void 0&&delete i[u[a]],i)}function I0(n,e,t,i){t===void 0&&(t=new WeakMap),i===void 0&&(i={});for(var o=0,a=Object.keys(n);o<a.length;o++){var u=a[o],d=n[u];yh(d)?t.get(d)||(t.set(d,!0),i[u]=Array.isArray(d)?[]:{},I0(d,e,t,i[u])):i[u]=e}return i}function NR(n,e){switch(e.type){case"SET_VALUES":return Dt({},n,{values:e.payload});case"SET_TOUCHED":return Dt({},n,{touched:e.payload});case"SET_ERRORS":return Ls(n.errors,e.payload)?n:Dt({},n,{errors:e.payload});case"SET_STATUS":return Dt({},n,{status:e.payload});case"SET_ISSUBMITTING":return Dt({},n,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Dt({},n,{isValidating:e.payload});case"SET_FIELD_VALUE":return Dt({},n,{values:Us(n.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Dt({},n,{touched:Us(n.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Dt({},n,{errors:Us(n.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Dt({},n,e.payload);case"SET_FORMIK_STATE":return e.payload(n);case"SUBMIT_ATTEMPT":return Dt({},n,{touched:I0(n.values,!0),isSubmitting:!0,submitCount:n.submitCount+1});case"SUBMIT_FAILURE":return Dt({},n,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Dt({},n,{isSubmitting:!1});default:return n}}var Ds={},Tc={};function S0(n){var e=n.validateOnChange,t=e===void 0?!0:e,i=n.validateOnBlur,o=i===void 0?!0:i,a=n.validateOnMount,u=a===void 0?!1:a,d=n.isInitialValid,f=n.enableReinitialize,y=f===void 0?!1:f,_=n.onSubmit,T=T0(n,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),w=Dt({validateOnChange:t,validateOnBlur:o,validateOnMount:u,onSubmit:_},T),k=$.useRef(w.initialValues),D=$.useRef(w.initialErrors||Ds),V=$.useRef(w.initialTouched||Tc),b=$.useRef(w.initialStatus),x=$.useRef(!1),M=$.useRef({});$.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var q=$.useState(0),Z=q[1],W=$.useRef({values:wc(w.initialValues),errors:wc(w.initialErrors)||Ds,touched:wc(w.initialTouched)||Tc,status:wc(w.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),X=W.current,A=$.useCallback(function(G){var ae=W.current;W.current=NR(ae,G),ae!==W.current&&Z(function(fe){return fe+1})},[]),S=$.useCallback(function(G,ae){return new Promise(function(fe,_e){var ve=w.validate(G,ae);ve==null?fe(Ds):Sf(ve)?ve.then(function(Ae){fe(Ae||Ds)},function(Ae){_e(Ae)}):fe(ve)})},[w.validate]),R=$.useCallback(function(G,ae){var fe=w.validationSchema,_e=sr(fe)?fe(ae):fe,ve=ae&&_e.validateAt?_e.validateAt(ae,G):LR(G,_e);return new Promise(function(Ae,nt){ve.then(function(){Ae(Ds)},function(Xt){Xt.name==="ValidationError"?Ae(DR(Xt)):nt(Xt)})})},[w.validationSchema]),O=$.useCallback(function(G,ae){return new Promise(function(fe){return fe(M.current[G].validate(ae))})},[]),N=$.useCallback(function(G){var ae=Object.keys(M.current).filter(function(_e){return sr(M.current[_e].validate)}),fe=ae.length>0?ae.map(function(_e){return O(_e,In(G,_e))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(fe).then(function(_e){return _e.reduce(function(ve,Ae,nt){return Ae==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ae&&(ve=Us(ve,ae[nt],Ae)),ve},{})})},[O]),U=$.useCallback(function(G){return Promise.all([N(G),w.validationSchema?R(G):{},w.validate?S(G):{}]).then(function(ae){var fe=ae[0],_e=ae[1],ve=ae[2],Ae=jf.all([fe,_e,ve],{arrayMerge:VR});return Ae})},[w.validate,w.validationSchema,N,S,R]),C=Mn(function(G){return G===void 0&&(G=X.values),A({type:"SET_ISVALIDATING",payload:!0}),U(G).then(function(ae){return x.current&&(A({type:"SET_ISVALIDATING",payload:!1}),A({type:"SET_ERRORS",payload:ae})),ae})});$.useEffect(function(){u&&x.current===!0&&Ls(k.current,w.initialValues)&&C(k.current)},[u,C]);var qe=$.useCallback(function(G){var ae=G&&G.values?G.values:k.current,fe=G&&G.errors?G.errors:D.current?D.current:w.initialErrors||{},_e=G&&G.touched?G.touched:V.current?V.current:w.initialTouched||{},ve=G&&G.status?G.status:b.current?b.current:w.initialStatus;k.current=ae,D.current=fe,V.current=_e,b.current=ve;var Ae=function(){A({type:"RESET_FORM",payload:{isSubmitting:!!G&&!!G.isSubmitting,errors:fe,touched:_e,status:ve,values:ae,isValidating:!!G&&!!G.isValidating,submitCount:G&&G.submitCount&&typeof G.submitCount=="number"?G.submitCount:0}})};if(w.onReset){var nt=w.onReset(X.values,$n);Sf(nt)?nt.then(Ae):Ae()}else Ae()},[w.initialErrors,w.initialStatus,w.initialTouched,w.onReset]);$.useEffect(function(){x.current===!0&&!Ls(k.current,w.initialValues)&&y&&(k.current=w.initialValues,qe(),u&&C(k.current))},[y,w.initialValues,qe,u,C]),$.useEffect(function(){y&&x.current===!0&&!Ls(D.current,w.initialErrors)&&(D.current=w.initialErrors||Ds,A({type:"SET_ERRORS",payload:w.initialErrors||Ds}))},[y,w.initialErrors]),$.useEffect(function(){y&&x.current===!0&&!Ls(V.current,w.initialTouched)&&(V.current=w.initialTouched||Tc,A({type:"SET_TOUCHED",payload:w.initialTouched||Tc}))},[y,w.initialTouched]),$.useEffect(function(){y&&x.current===!0&&!Ls(b.current,w.initialStatus)&&(b.current=w.initialStatus,A({type:"SET_STATUS",payload:w.initialStatus}))},[y,w.initialStatus,w.initialTouched]);var ft=Mn(function(G){if(M.current[G]&&sr(M.current[G].validate)){var ae=In(X.values,G),fe=M.current[G].validate(ae);return Sf(fe)?(A({type:"SET_ISVALIDATING",payload:!0}),fe.then(function(_e){return _e}).then(function(_e){A({type:"SET_FIELD_ERROR",payload:{field:G,value:_e}}),A({type:"SET_ISVALIDATING",payload:!1})})):(A({type:"SET_FIELD_ERROR",payload:{field:G,value:fe}}),Promise.resolve(fe))}else if(w.validationSchema)return A({type:"SET_ISVALIDATING",payload:!0}),R(X.values,G).then(function(_e){return _e}).then(function(_e){A({type:"SET_FIELD_ERROR",payload:{field:G,value:In(_e,G)}}),A({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),gt=$.useCallback(function(G,ae){var fe=ae.validate;M.current[G]={validate:fe}},[]),$e=$.useCallback(function(G){delete M.current[G]},[]),se=Mn(function(G,ae){A({type:"SET_TOUCHED",payload:G});var fe=ae===void 0?o:ae;return fe?C(X.values):Promise.resolve()}),Ee=$.useCallback(function(G){A({type:"SET_ERRORS",payload:G})},[]),le=Mn(function(G,ae){var fe=sr(G)?G(X.values):G;A({type:"SET_VALUES",payload:fe});var _e=ae===void 0?t:ae;return _e?C(fe):Promise.resolve()}),j=$.useCallback(function(G,ae){A({type:"SET_FIELD_ERROR",payload:{field:G,value:ae}})},[]),Y=Mn(function(G,ae,fe){A({type:"SET_FIELD_VALUE",payload:{field:G,value:ae}});var _e=fe===void 0?t:fe;return _e?C(Us(X.values,G,ae)):Promise.resolve()}),ge=$.useCallback(function(G,ae){var fe=ae,_e=G,ve;if(!If(G)){G.persist&&G.persist();var Ae=G.target?G.target:G.currentTarget,nt=Ae.type,Xt=Ae.name,Rn=Ae.id,Bn=Ae.value,Dr=Ae.checked;Ae.outerHTML;var fi=Ae.options,ls=Ae.multiple;fe=ae||Xt||Rn,_e=/number|range/.test(nt)?(ve=parseFloat(Bn),isNaN(ve)?"":ve):/checkbox/.test(nt)?FR(In(X.values,fe),Dr,Bn):fi&&ls?MR(fi):Bn}fe&&Y(fe,_e)},[Y,X.values]),Oe=Mn(function(G){if(If(G))return function(ae){return ge(ae,G)};ge(G)}),ke=Mn(function(G,ae,fe){ae===void 0&&(ae=!0),A({type:"SET_FIELD_TOUCHED",payload:{field:G,value:ae}});var _e=fe===void 0?o:fe;return _e?C(X.values):Promise.resolve()}),De=$.useCallback(function(G,ae){G.persist&&G.persist();var fe=G.target,_e=fe.name,ve=fe.id;fe.outerHTML;var Ae=ae||_e||ve;ke(Ae,!0)},[ke]),Me=Mn(function(G){if(If(G))return function(ae){return De(ae,G)};De(G)}),je=$.useCallback(function(G){sr(G)?A({type:"SET_FORMIK_STATE",payload:G}):A({type:"SET_FORMIK_STATE",payload:function(){return G}})},[]),Ye=$.useCallback(function(G){A({type:"SET_STATUS",payload:G})},[]),yt=$.useCallback(function(G){A({type:"SET_ISSUBMITTING",payload:G})},[]),mn=Mn(function(){return A({type:"SUBMIT_ATTEMPT"}),C().then(function(G){var ae=G instanceof Error,fe=!ae&&Object.keys(G).length===0;if(fe){var _e;try{if(_e=Nr(),_e===void 0)return}catch(ve){throw ve}return Promise.resolve(_e).then(function(ve){return x.current&&A({type:"SUBMIT_SUCCESS"}),ve}).catch(function(ve){if(x.current)throw A({type:"SUBMIT_FAILURE"}),ve})}else if(x.current&&(A({type:"SUBMIT_FAILURE"}),ae))throw G})}),hi=Mn(function(G){G&&G.preventDefault&&sr(G.preventDefault)&&G.preventDefault(),G&&G.stopPropagation&&sr(G.stopPropagation)&&G.stopPropagation(),mn().catch(function(ae){console.warn("Warning: An unhandled error was caught from submitForm()",ae)})}),$n={resetForm:qe,validateForm:C,validateField:ft,setErrors:Ee,setFieldError:j,setFieldTouched:ke,setFieldValue:Y,setStatus:Ye,setSubmitting:yt,setTouched:se,setValues:le,setFormikState:je,submitForm:mn},Nr=Mn(function(){return _(X.values,$n)}),di=Mn(function(G){G&&G.preventDefault&&sr(G.preventDefault)&&G.preventDefault(),G&&G.stopPropagation&&sr(G.stopPropagation)&&G.stopPropagation(),qe()}),os=$.useCallback(function(G){return{value:In(X.values,G),error:In(X.errors,G),touched:!!In(X.touched,G),initialValue:In(k.current,G),initialTouched:!!In(V.current,G),initialError:In(D.current,G)}},[X.errors,X.touched,X.values]),as=$.useCallback(function(G){return{setValue:function(fe,_e){return Y(G,fe,_e)},setTouched:function(fe,_e){return ke(G,fe,_e)},setError:function(fe){return j(G,fe)}}},[Y,ke,j]),so=$.useCallback(function(G){var ae=yh(G),fe=ae?G.name:G,_e=In(X.values,fe),ve={name:fe,value:_e,onChange:Oe,onBlur:Me};if(ae){var Ae=G.type,nt=G.value,Xt=G.as,Rn=G.multiple;Ae==="checkbox"?nt===void 0?ve.checked=!!_e:(ve.checked=!!(Array.isArray(_e)&&~_e.indexOf(nt)),ve.value=nt):Ae==="radio"?(ve.checked=_e===nt,ve.value=nt):Xt==="select"&&Rn&&(ve.value=ve.value||[],ve.multiple=!0)}return ve},[Me,Oe,X.values]),ur=$.useMemo(function(){return!Ls(k.current,X.values)},[k.current,X.values]),jn=$.useMemo(function(){return typeof d<"u"?ur?X.errors&&Object.keys(X.errors).length===0:d!==!1&&sr(d)?d(w):d:X.errors&&Object.keys(X.errors).length===0},[d,ur,X.errors,w]),zn=Dt({},X,{initialValues:k.current,initialErrors:D.current,initialTouched:V.current,initialStatus:b.current,handleBlur:Me,handleChange:Oe,handleReset:di,handleSubmit:hi,resetForm:qe,setErrors:Ee,setFormikState:je,setFieldTouched:ke,setFieldValue:Y,setFieldError:j,setStatus:Ye,setSubmitting:yt,setTouched:se,setValues:le,submitForm:mn,validateForm:C,validateField:ft,isValid:jn,dirty:ur,unregisterField:$e,registerField:gt,getFieldProps:so,getFieldMeta:os,getFieldHelpers:as,validateOnBlur:o,validateOnChange:t,validateOnMount:u});return zn}function DR(n){var e={};if(n.inner){if(n.inner.length===0)return Us(e,n.path,n.message);for(var o=n.inner,t=Array.isArray(o),i=0,o=t?o:o[Symbol.iterator]();;){var a;if(t){if(i>=o.length)break;a=o[i++]}else{if(i=o.next(),i.done)break;a=i.value}var u=a;In(e,u.path)||(e=Us(e,u.path,u.message))}}return e}function LR(n,e,t,i){t===void 0&&(t=!1);var o=Wf(n);return e[t?"validateSync":"validate"](o,{abortEarly:!1,context:o})}function Wf(n){var e=Array.isArray(n)?[]:{};for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var i=String(t);Array.isArray(n[i])===!0?e[i]=n[i].map(function(o){return Array.isArray(o)===!0||Wy(o)?Wf(o):o!==""?o:void 0}):Wy(n[i])?e[i]=Wf(n[i]):e[i]=n[i]!==""?n[i]:void 0}return e}function VR(n,e,t){var i=n.slice();return e.forEach(function(a,u){if(typeof i[u]>"u"){var d=t.clone!==!1,f=d&&t.isMergeableObject(a);i[u]=f?jf(Array.isArray(a)?[]:{},a,t):a}else t.isMergeableObject(a)?i[u]=jf(n[u],a,t):n.indexOf(a)===-1&&i.push(a)}),i}function MR(n){return Array.from(n).filter(function(e){return e.selected}).map(function(e){return e.value})}function FR(n,e,t){if(typeof n=="boolean")return!!e;var i=[],o=!1,a=-1;if(Array.isArray(n))i=n,a=n.indexOf(t),o=a>=0;else if(!t||t=="true"||t=="false")return!!e;return e&&t&&!o?i.concat(t):o?i.slice(0,a).concat(i.slice(a+1)):i}var UR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?$.useLayoutEffect:$.useEffect;function Mn(n){var e=$.useRef(n);return UR(function(){e.current=n}),$.useCallback(function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e.current.apply(void 0,i)},[])}var $R=$.forwardRef(function(n,e){var t=n.action,i=T0(n,["action"]),o=t??"#",a=xR(),u=a.handleReset,d=a.handleSubmit;return $.createElement("form",Dt({onSubmit:d,ref:e,onReset:u,action:o},i))});$R.displayName="Form";var Af,wv;function jR(){if(wv)return Af;wv=1;function n(x){this._maxSize=x,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(x){return this._values[x]},n.prototype.set=function(x,M){return this._size>=this._maxSize&&this.clear(),x in this._values||this._size++,this._values[x]=M};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,i=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,u=512,d=new n(u),f=new n(u),y=new n(u);Af={Cache:n,split:T,normalizePath:_,setter:function(x){var M=_(x);return f.get(x)||f.set(x,function(Z,W){for(var X=0,A=M.length,S=Z;X<A-1;){var R=M[X];if(R==="__proto__"||R==="constructor"||R==="prototype")return Z;S=S[M[X++]]}S[M[X]]=W})},getter:function(x,M){var q=_(x);return y.get(x)||y.set(x,function(W){for(var X=0,A=q.length;X<A;)if(W!=null||!M)W=W[q[X++]];else return;return W})},join:function(x){return x.reduce(function(M,q){return M+(k(q)||t.test(q)?"["+q+"]":(M?".":"")+q)},"")},forEach:function(x,M,q){w(Array.isArray(x)?x:T(x),M,q)}};function _(x){return d.get(x)||d.set(x,T(x).map(function(M){return M.replace(a,"$2")}))}function T(x){return x.match(e)||[""]}function w(x,M,q){var Z=x.length,W,X,A,S;for(X=0;X<Z;X++)W=x[X],W&&(b(W)&&(W='"'+W+'"'),S=k(W),A=!S&&/^\d+$/.test(W),M.call(q,W,S,A,X,x))}function k(x){return typeof x=="string"&&x&&["'",'"'].indexOf(x.charAt(0))!==-1}function D(x){return x.match(i)&&!x.match(t)}function V(x){return o.test(x)}function b(x){return!k(x)&&(D(x)||V(x))}return Af}var $s=jR(),Rf,Tv;function zR(){if(Tv)return Rf;Tv=1;const n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=_=>_.match(n)||[],t=_=>_[0].toUpperCase()+_.slice(1),i=(_,T)=>e(_).join(T).toLowerCase(),o=_=>e(_).reduce((T,w)=>`${T}${T?w[0].toUpperCase()+w.slice(1).toLowerCase():w.toLowerCase()}`,"");return Rf={words:e,upperFirst:t,camelCase:o,pascalCase:_=>t(o(_)),snakeCase:_=>i(_,"_"),kebabCase:_=>i(_,"-"),sentenceCase:_=>t(i(_," ")),titleCase:_=>e(_).map(t).join(" ")},Rf}var Cf=zR(),Ic={exports:{}},Iv;function BR(){if(Iv)return Ic.exports;Iv=1,Ic.exports=function(o){return n(e(o),o)},Ic.exports.array=n;function n(o,a){var u=o.length,d=new Array(u),f={},y=u,_=t(a),T=i(o);for(a.forEach(function(k){if(!T.has(k[0])||!T.has(k[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});y--;)f[y]||w(o[y],y,new Set);return d;function w(k,D,V){if(V.has(k)){var b;try{b=", node was:"+JSON.stringify(k)}catch{b=""}throw new Error("Cyclic dependency"+b)}if(!T.has(k))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(k));if(!f[D]){f[D]=!0;var x=_.get(k)||new Set;if(x=Array.from(x),D=x.length){V.add(k);do{var M=x[--D];w(M,T.get(M),V)}while(D);V.delete(k)}d[--u]=k}}}function e(o){for(var a=new Set,u=0,d=o.length;u<d;u++){var f=o[u];a.add(f[0]),a.add(f[1])}return Array.from(a)}function t(o){for(var a=new Map,u=0,d=o.length;u<d;u++){var f=o[u];a.has(f[0])||a.set(f[0],new Set),a.has(f[1])||a.set(f[1],new Set),a.get(f[0]).add(f[1])}return a}function i(o){for(var a=new Map,u=0,d=o.length;u<d;u++)a.set(o[u],u);return a}return Ic.exports}var HR=BR();const qR=Ap(HR),WR=Object.prototype.toString,KR=Error.prototype.toString,GR=RegExp.prototype.toString,QR=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",YR=/^Symbol\((.*)\)(.*)$/;function XR(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function Sv(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return XR(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return QR.call(n).replace(YR,"Symbol($1)");const i=WR.call(n).slice(8,-1);return i==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):i==="Error"||n instanceof Error?"["+KR.call(n)+"]":i==="RegExp"?GR.call(n):null}function Hi(n,e){let t=Sv(n,e);return t!==null?t:JSON.stringify(n,function(i,o){let a=Sv(this[i],e);return a!==null?a:o},2)}function A0(n){return n==null?[]:[].concat(n)}let R0,C0,P0,JR=/\$\{\s*(\w+)\s*\}/g;R0=Symbol.toStringTag;class Av{constructor(e,t,i,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[R0]="Error",this.name="ValidationError",this.value=t,this.path=i,this.type=o,this.errors=[],this.inner=[],A0(e).forEach(a=>{if(pn.isError(a)){this.errors.push(...a.errors);const u=a.inner.length?a.inner:[a];this.inner.push(...u)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}C0=Symbol.hasInstance;P0=Symbol.toStringTag;class pn extends Error{static formatError(e,t){const i=t.label||t.path||"this";return t=Object.assign({},t,{path:i,originalPath:t.path}),typeof e=="string"?e.replace(JR,(o,a)=>Hi(t[a])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,i,o,a){const u=new Av(e,t,i,o);if(a)return u;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[P0]="Error",this.name=u.name,this.message=u.message,this.type=u.type,this.value=u.value,this.path=u.path,this.errors=u.errors,this.inner=u.inner,Error.captureStackTrace&&Error.captureStackTrace(this,pn)}static[C0](e){return Av[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let wr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:i})=>{const o=i!=null&&i!==t?` (cast from the value \`${Hi(i,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${Hi(t,!0)}\``+o:`${n} must match the configured type. The validated value was: \`${Hi(t,!0)}\``+o}},dn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},ZR={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Kf={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},eC={isValue:"${path} field must be ${value}"},Oc={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},tC={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},nC={notType:n=>{const{path:e,value:t,spec:i}=n,o=i.types.length;if(Array.isArray(t)){if(t.length<o)return`${e} tuple value has too few items, expected a length of ${o} but got ${t.length} for value: \`${Hi(t,!0)}\``;if(t.length>o)return`${e} tuple value has too many items, expected a length of ${o} but got ${t.length} for value: \`${Hi(t,!0)}\``}return pn.formatError(wr.notType,n)}};Object.assign(Object.create(null),{mixed:wr,string:dn,number:ZR,date:Kf,object:Oc,array:tC,boolean:eC,tuple:nC});const Vp=n=>n&&n.__isYupSchema__;class Wc{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:o,otherwise:a}=t,u=typeof i=="function"?i:(...d)=>d.every(f=>f===i);return new Wc(e,(d,f)=>{var y;let _=u(...d)?o:a;return(y=_==null?void 0:_(f))!=null?y:f})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let i=this.refs.map(a=>a.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),o=this.fn(i,e,t);if(o===void 0||o===e)return e;if(!Vp(o))throw new TypeError("conditions must return a schema object");return o.resolve(t)}}const Sc={context:"$",value:"."};function rC(n,e){return new rs(n,e)}class rs{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Sc.context,this.isValue=this.key[0]===Sc.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?Sc.context:this.isValue?Sc.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&$s.getter(this.path,!0),this.map=t.map}getValue(e,t,i){let o=this.isContext?i:this.isValue?e:t;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}rs.prototype.__isYupRef=!0;const Ms=n=>n==null;function Go(n){function e({value:t,path:i="",options:o,originalValue:a,schema:u},d,f){const{name:y,test:_,params:T,message:w,skipAbsent:k}=n;let{parent:D,context:V,abortEarly:b=u.spec.abortEarly,disableStackTrace:x=u.spec.disableStackTrace}=o;function M(N){return rs.isRef(N)?N.getValue(t,D,V):N}function q(N={}){const U=Object.assign({value:t,originalValue:a,label:u.spec.label,path:N.path||i,spec:u.spec,disableStackTrace:N.disableStackTrace||x},T,N.params);for(const qe of Object.keys(U))U[qe]=M(U[qe]);const C=new pn(pn.formatError(N.message||w,U),t,U.path,N.type||y,U.disableStackTrace);return C.params=U,C}const Z=b?d:f;let W={path:i,parent:D,type:y,from:o.from,createError:q,resolve:M,options:o,originalValue:a,schema:u};const X=N=>{pn.isError(N)?Z(N):N?f(null):Z(q())},A=N=>{pn.isError(N)?Z(N):d(N)};if(k&&Ms(t))return X(!0);let R;try{var O;if(R=_.call(W,t,W),typeof((O=R)==null?void 0:O.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${W.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(R).then(X,A)}}catch(N){A(N);return}X(R)}return e.OPTIONS=n,e}function iC(n,e,t,i=t){let o,a,u;return e?($s.forEach(e,(d,f,y)=>{let _=f?d.slice(1,d.length-1):d;n=n.resolve({context:i,parent:o,value:t});let T=n.type==="tuple",w=y?parseInt(_,10):0;if(n.innerType||T){if(T&&!y)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${u}" must contain an index to the tuple element, e.g. "${u}[0]"`);if(t&&w>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${d}, in the path: ${e}. because there is no value at that index. `);o=t,t=t&&t[w],n=T?n.spec.types[w]:n.innerType}if(!y){if(!n.fields||!n.fields[_])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${u} which is a type: "${n.type}")`);o=t,t=t&&t[_],n=n.fields[_]}a=_,u=f?"["+d+"]":"."+d}),{schema:n,parent:o,parentPath:a}):{parent:o,parentPath:e,schema:n}}class Kc extends Set{describe(){const e=[];for(const t of this.values())e.push(rs.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const i of this.values())t.push(e(i));return t}clone(){return new Kc(this.values())}merge(e,t){const i=this.clone();return e.forEach(o=>i.add(o)),t.forEach(o=>i.delete(o)),i}}function Zo(n,e=new Map){if(Vp(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let i=0;i<n.length;i++)t[i]=Zo(n[i],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[i,o]of n.entries())t.set(i,Zo(o,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const i of n)t.add(Zo(i,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[i,o]of Object.entries(n))t[i]=Zo(o,e)}else throw Error(`Unable to clone ${n}`);return t}class Cr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Kc,this._blacklist=new Kc,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(wr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Zo(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=t,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,i=e.clone();const o=Object.assign({},t.spec,i.spec);return i.spec=o,i.internalTests=Object.assign({},t.internalTests,i.internalTests),i._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),i.tests=t.tests,i.exclusiveTests=t.exclusiveTests,i.withMutation(a=>{e.tests.forEach(u=>{a.test(u.OPTIONS)})}),i.transforms=[...t.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let i=t.conditions;t=t.clone(),t.conditions=[],t=i.reduce((o,a)=>a.resolve(o,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,i,o,a;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(o=e.recursive)!=null?o:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,t={}){let i=this.resolve(Object.assign({value:e},t)),o=t.assert==="ignore-optionality",a=i._cast(e,t);if(t.assert!==!1&&!i.isType(a)){if(o&&Ms(a))return a;let u=Hi(e),d=Hi(a);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${u} 
`+(d!==u?`result of cast: ${d}`:""))}return a}_cast(e,t){let i=e===void 0?e:this.transforms.reduce((o,a)=>a.call(this,o,e,this),e);return i===void 0&&(i=this.getDefault(t)),i}_validate(e,t={},i,o){let{path:a,originalValue:u=e,strict:d=this.spec.strict}=t,f=e;d||(f=this._cast(f,Object.assign({assert:!1},t)));let y=[];for(let _ of Object.values(this.internalTests))_&&y.push(_);this.runTests({path:a,value:f,originalValue:u,options:t,tests:y},i,_=>{if(_.length)return o(_,f);this.runTests({path:a,value:f,originalValue:u,options:t,tests:this.tests},i,o)})}runTests(e,t,i){let o=!1,{tests:a,value:u,originalValue:d,path:f,options:y}=e,_=V=>{o||(o=!0,t(V,u))},T=V=>{o||(o=!0,i(V,u))},w=a.length,k=[];if(!w)return T([]);let D={value:u,originalValue:d,path:f,options:y,schema:this};for(let V=0;V<a.length;V++){const b=a[V];b(D,_,function(M){M&&(Array.isArray(M)?k.push(...M):k.push(M)),--w<=0&&T(k)})}}asNestedTest({key:e,index:t,parent:i,parentPath:o,originalParent:a,options:u}){const d=e??t;if(d==null)throw TypeError("Must include `key` or `index` for nested validations");const f=typeof d=="number";let y=i[d];const _=Object.assign({},u,{strict:!0,parent:i,value:y,originalValue:a[d],key:void 0,[f?"index":"key"]:d,path:f||d.includes(".")?`${o||""}[${f?d:`"${d}"`}]`:(o?`${o}.`:"")+e});return(T,w,k)=>this.resolve(_)._validate(y,_,w,k)}validate(e,t){var i;let o=this.resolve(Object.assign({},t,{value:e})),a=(i=t==null?void 0:t.disableStackTrace)!=null?i:o.spec.disableStackTrace;return new Promise((u,d)=>o._validate(e,t,(f,y)=>{pn.isError(f)&&(f.value=y),d(f)},(f,y)=>{f.length?d(new pn(f,y,void 0,void 0,a)):u(y)}))}validateSync(e,t){var i;let o=this.resolve(Object.assign({},t,{value:e})),a,u=(i=t==null?void 0:t.disableStackTrace)!=null?i:o.spec.disableStackTrace;return o._validate(e,Object.assign({},t,{sync:!0}),(d,f)=>{throw pn.isError(d)&&(d.value=f),d},(d,f)=>{if(d.length)throw new pn(d,e,void 0,void 0,u);a=f}),a}isValid(e,t){return this.validate(e,t).then(()=>!0,i=>{if(pn.isError(i))return!1;throw i})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(i){if(pn.isError(i))return!1;throw i}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Zo(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const i=this.clone({nullable:e});return i.internalTests.nullable=Go({message:t,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),i}optionality(e,t){const i=this.clone({optional:e});return i.internalTests.optionality=Go({message:t,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=wr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=wr.notNull){return this.nullability(!1,e)}required(e=wr.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=wr.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),o=Go(t),a=t.exclusive||t.name&&i.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(i.exclusiveTests[t.name]=!!t.exclusive),i.tests=i.tests.filter(u=>!(u.OPTIONS.name===t.name&&(a||u.OPTIONS.test===o.OPTIONS.test))),i.tests.push(o),i}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let i=this.clone(),o=A0(e).map(a=>new rs(a));return o.forEach(a=>{a.isSibling&&i.deps.push(a.key)}),i.conditions.push(typeof t=="function"?new Wc(o,t):Wc.fromOptions(o,t)),i}typeError(e){let t=this.clone();return t.internalTests.typeError=Go({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=wr.oneOf){let i=this.clone();return e.forEach(o=>{i._whitelist.add(o),i._blacklist.delete(o)}),i.internalTests.whiteList=Go({message:t,name:"oneOf",skipAbsent:!0,test(o){let a=this.schema._whitelist,u=a.resolveAll(this.resolve);return u.includes(o)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:u}})}}),i}notOneOf(e,t=wr.notOneOf){let i=this.clone();return e.forEach(o=>{i._blacklist.add(o),i._whitelist.delete(o)}),i.internalTests.blacklist=Go({message:t,name:"notOneOf",test(o){let a=this.schema._blacklist,u=a.resolveAll(this.resolve);return u.includes(o)?this.createError({params:{values:Array.from(a).join(", "),resolved:u}}):!0}}),i}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:i,meta:o,optional:a,nullable:u}=t.spec;return{meta:o,label:i,optional:a,nullable:u,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(f=>({name:f.OPTIONS.name,params:f.OPTIONS.params})).filter((f,y,_)=>_.findIndex(T=>T.name===f.name)===y)}}}Cr.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])Cr.prototype[`${n}At`]=function(e,t,i={}){const{parent:o,parentPath:a,schema:u}=iC(this,e,t,i.context);return u[n](o&&o[a],Object.assign({},i,{parent:o,path:e}))};for(const n of["equals","is"])Cr.prototype[n]=Cr.prototype.oneOf;for(const n of["not","nope"])Cr.prototype[n]=Cr.prototype.notOneOf;const sC=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function oC(n){const e=Gf(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Gf(n){var e,t;const i=sC.exec(n);return i?{year:Qr(i[1]),month:Qr(i[2],1)-1,day:Qr(i[3],1),hour:Qr(i[4]),minute:Qr(i[5]),second:Qr(i[6]),millisecond:i[7]?Qr(i[7].substring(0,3)):0,precision:(e=(t=i[7])==null?void 0:t.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Qr(i[10]),minuteOffset:Qr(i[11])}:null}function Qr(n,e=0){return Number(n)||e}let aC=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,lC=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,uC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,cC="^\\d{4}-\\d{2}-\\d{2}",hC="\\d{2}:\\d{2}:\\d{2}",dC="(([+-]\\d{2}(:?\\d{2})?)|Z)",fC=new RegExp(`${cC}T${hC}(\\.\\d+)?${dC}$`),pC=n=>Ms(n)||n===n.trim(),mC={}.toString();function Fi(){return new k0}class k0 extends Cr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const o=e!=null&&e.toString?e.toString():e;return o===mC?e:o})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||wr.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=dn.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,t=dn.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,t=dn.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,t){let i=!1,o,a;return t&&(typeof t=="object"?{excludeEmptyString:i=!1,message:o,name:a}=t:o=t),this.test({name:a||"matches",message:o||dn.matches,params:{regex:e},skipAbsent:!0,test:u=>u===""&&i||u.search(e)!==-1})}email(e=dn.email){return this.matches(aC,{name:"email",message:e,excludeEmptyString:!0})}url(e=dn.url){return this.matches(lC,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=dn.uuid){return this.matches(uC,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",i,o;return e&&(typeof e=="object"?{message:t="",allowOffset:i=!1,precision:o=void 0}=e:t=e),this.matches(fC,{name:"datetime",message:t||dn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||dn.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:a=>{if(!a||i)return!0;const u=Gf(a);return u?!!u.z:!1}}).test({name:"datetime_precision",message:t||dn.datetime_precision,params:{precision:o},skipAbsent:!0,test:a=>{if(!a||o==null)return!0;const u=Gf(a);return u?u.precision===o:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=dn.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:pC})}lowercase(e=dn.lowercase){return this.transform(t=>Ms(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Ms(t)||t===t.toLowerCase()})}uppercase(e=dn.uppercase){return this.transform(t=>Ms(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Ms(t)||t===t.toUpperCase()})}}Fi.prototype=k0.prototype;let gC=new Date(""),yC=n=>Object.prototype.toString.call(n)==="[object Date]";class vh extends Cr{constructor(){super({type:"date",check(e){return yC(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=oC(e),isNaN(e)?vh.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let i;if(rs.isRef(e))i=e;else{let o=this.cast(e);if(!this._typeCheck(o))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);i=o}return i}min(e,t=Kf.min){let i=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o>=this.resolve(i)}})}max(e,t=Kf.max){let i=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(o){return o<=this.resolve(i)}})}}vh.INVALID_DATE=gC;vh.prototype;function vC(n,e=[]){let t=[],i=new Set,o=new Set(e.map(([u,d])=>`${u}-${d}`));function a(u,d){let f=$s.split(u)[0];i.add(f),o.has(`${d}-${f}`)||t.push([d,f])}for(const u of Object.keys(n)){let d=n[u];i.add(u),rs.isRef(d)&&d.isSibling?a(d.path,u):Vp(d)&&"deps"in d&&d.deps.forEach(f=>a(f,u))}return qR.array(Array.from(i),t).reverse()}function Rv(n,e){let t=1/0;return n.some((i,o)=>{var a;if((a=e.path)!=null&&a.includes(i))return t=o,!0}),t}function b0(n){return(e,t)=>Rv(n,e)-Rv(n,t)}const _C=(n,e,t)=>{if(typeof n!="string")return n;let i=n;try{i=JSON.parse(n)}catch{}return t.isType(i)?i:n};function Nc(n){if("fields"in n){const e={};for(const[t,i]of Object.entries(n.fields))e[t]=Nc(i);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=Nc(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(Nc)}):"optional"in n?n.optional():n}const EC=(n,e)=>{const t=[...$s.normalizePath(e)];if(t.length===1)return t[0]in n;let i=t.pop(),o=$s.getter($s.join(t),!0)(n);return!!(o&&i in o)};let Cv=n=>Object.prototype.toString.call(n)==="[object Object]";function Pv(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(i=>t.indexOf(i)===-1)}const wC=b0([]);function Mp(n){return new x0(n)}class x0 extends Cr{constructor(e){super({type:"object",check(t){return Cv(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=wC,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var i;let o=super._cast(e,t);if(o===void 0)return this.getDefault(t);if(!this._typeCheck(o))return o;let a=this.fields,u=(i=t.stripUnknown)!=null?i:this.spec.noUnknown,d=[].concat(this._nodes,Object.keys(o).filter(T=>!this._nodes.includes(T))),f={},y=Object.assign({},t,{parent:f,__validating:t.__validating||!1}),_=!1;for(const T of d){let w=a[T],k=T in o;if(w){let D,V=o[T];y.path=(t.path?`${t.path}.`:"")+T,w=w.resolve({value:V,context:t.context,parent:f});let b=w instanceof Cr?w.spec:void 0,x=b==null?void 0:b.strict;if(b!=null&&b.strip){_=_||T in o;continue}D=!t.__validating||!x?w.cast(o[T],y):o[T],D!==void 0&&(f[T]=D)}else k&&!u&&(f[T]=o[T]);(k!==T in f||f[T]!==o[T])&&(_=!0)}return _?f:o}_validate(e,t={},i,o){let{from:a=[],originalValue:u=e,recursive:d=this.spec.recursive}=t;t.from=[{schema:this,value:u},...a],t.__validating=!0,t.originalValue=u,super._validate(e,t,i,(f,y)=>{if(!d||!Cv(y)){o(f,y);return}u=u||y;let _=[];for(let T of this._nodes){let w=this.fields[T];!w||rs.isRef(w)||_.push(w.asNestedTest({options:t,key:T,parent:y,parentPath:t.path,originalParent:u}))}this.runTests({tests:_,value:y,originalValue:u,options:t},i,T=>{o(T.sort(this._sortErrors).concat(f),y)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),i=t.fields;for(let[o,a]of Object.entries(this.fields)){const u=i[o];i[o]=u===void 0?a:u}return t.withMutation(o=>o.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(i=>{var o;const a=this.fields[i];let u=e;(o=u)!=null&&o.value&&(u=Object.assign({},u,{parent:u.value,value:u.value[i]})),t[i]=a&&"getDefault"in a?a.getDefault(u):void 0}),t}setFields(e,t){let i=this.clone();return i.fields=e,i._nodes=vC(e,t),i._sortErrors=b0(Object.keys(e)),t&&(i._excludedEdges=t),i}shape(e,t=[]){return this.clone().withMutation(i=>{let o=i._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),o=[...i._excludedEdges,...t]),i.setFields(Object.assign(i.fields,e),o)})}partial(){const e={};for(const[t,i]of Object.entries(this.fields))e[t]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return Nc(this)}pick(e){const t={};for(const i of e)this.fields[i]&&(t[i]=this.fields[i]);return this.setFields(t,this._excludedEdges.filter(([i,o])=>e.includes(i)&&e.includes(o)))}omit(e){const t=[];for(const i of Object.keys(this.fields))e.includes(i)||t.push(i);return this.pick(t)}from(e,t,i){let o=$s.getter(e,!0);return this.transform(a=>{if(!a)return a;let u=a;return EC(a,e)&&(u=Object.assign({},a),i||delete u[e],u[t]=o(a)),u})}json(){return this.transform(_C)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Oc.exact,test(t){if(t==null)return!0;const i=Pv(this.schema,t);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=Oc.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:t,test(o){if(o==null)return!0;const a=Pv(this.schema,o);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,t=Oc.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const i={};for(const o of Object.keys(t))i[e(o)]=t[o];return i})}camelCase(){return this.transformKeys(Cf.camelCase)}snakeCase(){return this.transformKeys(Cf.snakeCase)}constantCase(){return this.transformKeys(e=>Cf.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[a,u]of Object.entries(t.fields)){var o;let d=e;(o=d)!=null&&o.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[a]})),i.fields[a]=u.describe(d)}return i}}Mp.prototype=x0.prototype;const TC=Mp().shape({email:Fi().email().required("Required"),password:Fi().min(6,"Minimum 6 characer required").required("Required")});var kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},IC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},N0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,y=f?n[o+2]:0,_=a>>2,T=(a&3)<<4|d>>4;let w=(d&15)<<2|y>>6,k=y&63;f||(k=64,u||(w=64)),i.push(t[_],t[T],t[w],t[k])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(O0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):IC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||y==null||T==null)throw new SC;const w=a<<2|d>>4;if(i.push(w),y!==64){const k=d<<4&240|y>>2;if(i.push(k),T!==64){const D=y<<6&192|T;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class SC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AC=function(n){const e=O0(n);return N0.encodeByteArray(e,!0)},Gc=function(n){return AC(n).replace(/\./g,"")},D0=function(n){try{return N0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=()=>RC().__FIREBASE_DEFAULTS__,PC=()=>{if(typeof process>"u"||typeof kv>"u")return;const n=kv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&D0(n[1]);return e&&JSON.parse(e)},_h=()=>{try{return CC()||PC()||kC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},L0=n=>{var e,t;return(t=(e=_h())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},bC=n=>{const e=L0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},V0=()=>{var n;return(n=_h())===null||n===void 0?void 0:n.config},M0=n=>{var e;return(e=_h())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Gc(JSON.stringify(t)),Gc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function DC(){var n;const e=(n=_h())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function MC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FC(){const n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function UC(){return!DC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $C(){try{return typeof indexedDB=="object"}catch{return!1}}function jC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="FirebaseError";class ui extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=zC,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?BC(a,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new ui(o,d,i)}}function BC(n,e){return n.replace(HC,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const HC=/\{\$([^}]+)}/g;function qC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(bv(a)&&bv(u)){if(!Qc(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function bv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function pl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function ml(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function WC(n,e){const t=new KC(n,e);return t.subscribe.bind(t)}class KC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");GC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Pf),o.error===void 0&&(o.error=Pf),o.complete===void 0&&(o.complete=Pf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(n){return n&&n._delegate?n._delegate:n}class Hs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new xC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XC(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YC(n){return n===Vs?void 0:n}function XC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const ZC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},eP=Le.INFO,tP={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},nP=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=tP[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fp{constructor(e){this.name=e,this._logLevel=eP,this._logHandler=nP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const rP=(n,e)=>e.some(t=>n instanceof t);let xv,Ov;function iP(){return xv||(xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sP(){return Ov||(Ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F0=new WeakMap,Qf=new WeakMap,U0=new WeakMap,kf=new WeakMap,Up=new WeakMap;function oP(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(qi(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&F0.set(t,n)}).catch(()=>{}),Up.set(e,n),e}function aP(n){if(Qf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Qf.set(n,e)}let Yf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Qf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||U0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function lP(n){Yf=n(Yf)}function uP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(bf(this),e,...t);return U0.set(i,e.sort?e.sort():[e]),qi(i)}:sP().includes(n)?function(...e){return n.apply(bf(this),e),qi(F0.get(this))}:function(...e){return qi(n.apply(bf(this),e))}}function cP(n){return typeof n=="function"?uP(n):(n instanceof IDBTransaction&&aP(n),rP(n,iP())?new Proxy(n,Yf):n)}function qi(n){if(n instanceof IDBRequest)return oP(n);if(kf.has(n))return kf.get(n);const e=cP(n);return e!==n&&(kf.set(n,e),Up.set(e,n)),e}const bf=n=>Up.get(n);function hP(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=qi(u);return i&&u.addEventListener("upgradeneeded",f=>{i(qi(u.result),f.oldVersion,f.newVersion,qi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const dP=["get","getKey","getAll","getAllKeys","count"],fP=["put","add","delete","clear"],xf=new Map;function Nv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=fP.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||dP.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let y=f.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&f.done]))[0]};return xf.set(e,a),a}lP(n=>({...n,get:(e,t,i)=>Nv(e,t)||n.get(e,t,i),has:(e,t)=>!!Nv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mP(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function mP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xf="@firebase/app",Dv="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new Fp("@firebase/app"),gP="@firebase/app-compat",yP="@firebase/analytics-compat",vP="@firebase/analytics",_P="@firebase/app-check-compat",EP="@firebase/app-check",wP="@firebase/auth",TP="@firebase/auth-compat",IP="@firebase/database",SP="@firebase/data-connect",AP="@firebase/database-compat",RP="@firebase/functions",CP="@firebase/functions-compat",PP="@firebase/installations",kP="@firebase/installations-compat",bP="@firebase/messaging",xP="@firebase/messaging-compat",OP="@firebase/performance",NP="@firebase/performance-compat",DP="@firebase/remote-config",LP="@firebase/remote-config-compat",VP="@firebase/storage",MP="@firebase/storage-compat",FP="@firebase/firestore",UP="@firebase/vertexai",$P="@firebase/firestore-compat",jP="firebase",zP="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]",BP={[Xf]:"fire-core",[gP]:"fire-core-compat",[vP]:"fire-analytics",[yP]:"fire-analytics-compat",[EP]:"fire-app-check",[_P]:"fire-app-check-compat",[wP]:"fire-auth",[TP]:"fire-auth-compat",[IP]:"fire-rtdb",[SP]:"fire-data-connect",[AP]:"fire-rtdb-compat",[RP]:"fire-fn",[CP]:"fire-fn-compat",[PP]:"fire-iid",[kP]:"fire-iid-compat",[bP]:"fire-fcm",[xP]:"fire-fcm-compat",[OP]:"fire-perf",[NP]:"fire-perf-compat",[DP]:"fire-rc",[LP]:"fire-rc-compat",[VP]:"fire-gcs",[MP]:"fire-gcs-compat",[FP]:"fire-fst",[$P]:"fire-fst-compat",[UP]:"fire-vertex","fire-js":"fire-js",[jP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,HP=new Map,Zf=new Map;function Lv(n,e){try{n.container.addComponent(e)}catch(t){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function oa(n){const e=n.name;if(Zf.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,n);for(const t of Yc.values())Lv(t,n);for(const t of HP.values())Lv(t,n);return!0}function $p(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Tr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new ql("app","Firebase",qP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=zP;function $0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Jf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Wi.create("bad-app-name",{appName:String(o)});if(t||(t=V0()),!t)throw Wi.create("no-options");const a=Yc.get(o);if(a){if(Qc(t,a.options)&&Qc(i,a.config))return a;throw Wi.create("duplicate-app",{appName:o})}const u=new JC(o);for(const f of Zf.values())u.addComponent(f);const d=new WP(t,i,u);return Yc.set(o,d),d}function j0(n=Jf){const e=Yc.get(n);if(!e&&n===Jf&&V0())return $0();if(!e)throw Wi.create("no-app",{appName:n});return e}function Ki(n,e,t){var i;let o=(i=BP[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(d.join(" "));return}oa(new Hs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="firebase-heartbeat-database",GP=1,kl="firebase-heartbeat-store";let Of=null;function z0(){return Of||(Of=hP(KP,GP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(kl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wi.create("idb-open",{originalErrorMessage:n.message})})),Of}async function QP(n){try{const t=(await z0()).transaction(kl),i=await t.objectStore(kl).get(B0(n));return await t.done,i}catch(e){if(e instanceof ui)ri.warn(e.message);else{const t=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ri.warn(t.message)}}}async function Vv(n,e){try{const i=(await z0()).transaction(kl,"readwrite");await i.objectStore(kl).put(e,B0(n)),await i.done}catch(t){if(t instanceof ui)ri.warn(t.message);else{const i=Wi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ri.warn(i.message)}}}function B0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=1024,XP=30*24*60*60*1e3;class JP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ek(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Mv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=XP}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ri.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Mv(),{heartbeatsToSend:i,unsentEntries:o}=ZP(this._heartbeatsCache.heartbeats),a=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ri.warn(t),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function ZP(n,e=YP){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Fv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Fv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class ek{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $C()?jC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Fv(n){return Gc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(n){oa(new Hs("platform-logger",e=>new pP(e),"PRIVATE")),oa(new Hs("heartbeat",e=>new JP(e),"PRIVATE")),Ki(Xf,Dv,n),Ki(Xf,Dv,"esm2017"),Ki("fire-js","")}tk("");function jp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function H0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nk=H0,q0=new ql("auth","Firebase",H0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Fp("@firebase/auth");function rk(n,...e){Xc.logLevel<=Le.WARN&&Xc.warn(`Auth (${ma}): ${n}`,...e)}function Dc(n,...e){Xc.logLevel<=Le.ERROR&&Xc.error(`Auth (${ma}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(n,...e){throw zp(n,...e)}function Ir(n,...e){return zp(n,...e)}function W0(n,e,t){const i=Object.assign(Object.assign({},nk()),{[e]:t});return new ql("auth","Firebase",i).create(e,{appName:n.name})}function ei(n){return W0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return q0.create(n,...e)}function Re(n,e,...t){if(!n)throw zp(e,...t)}function Xr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Dc(e),new Error(e)}function ii(n,e){n||Xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ik(){return Uv()==="http:"||Uv()==="https:"}function Uv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ik()||VC()||"connection"in navigator)?navigator.onLine:!0}function ok(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,t){this.shortDelay=e,this.longDelay=t,ii(t>e,"Short delay should be less than long delay!"),this.isMobile=NC()||MC()}get(){return sk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(n,e){ii(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new Kl(3e4,6e4);function is(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ss(n,e,t,i,o={}){return G0(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const d=Wl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:f},a);return LC()||(y.referrerPolicy="no-referrer"),K0.fetch()(Q0(n,n.config.apiHost,t,d),y)})}async function G0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},ak),e);try{const o=new ck(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Ac(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,y]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Ac(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Ac(n,"user-disabled",u);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw W0(n,_,y);lr(n,_)}}catch(o){if(o instanceof ui)throw o;lr(n,"network-request-failed",{message:String(o)})}}async function Gl(n,e,t,i,o={}){const a=await ss(n,e,t,i,o);return"mfaPendingCredential"in a&&lr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Q0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Bp(n.config,o):`${n.config.apiScheme}://${o}`}function uk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ck{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ir(this.auth,"network-request-failed")),lk.get())})}}function Ac(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Ir(n,e,i);return o.customData._tokenResponse=t,o}function $v(n){return n!==void 0&&n.enterprise!==void 0}class hk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dk(n,e){return ss(n,"GET","/v2/recaptchaConfig",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(n,e){return ss(n,"POST","/v1/accounts:delete",e)}async function Y0(n,e){return ss(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pk(n,e=!1){const t=ar(n),i=await t.getIdToken(e),o=Hp(i);Re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:wl(Nf(o.auth_time)),issuedAtTime:wl(Nf(o.iat)),expirationTime:wl(Nf(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Nf(n){return Number(n)*1e3}function Hp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=D0(t);return o?JSON.parse(o):(Dc("Failed to decode base64 JWT payload"),null)}catch(o){return Dc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function jv(n){const e=Hp(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ui&&mk(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function mk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await bl(n,Y0(t,{idToken:i}));Re(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?X0(a.providerUserInfo):[],d=vk(n.providerData,u),f=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=f?y:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new tp(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function yk(n){const e=ar(n);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vk(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function X0(n){return n.map(e=>{var{providerId:t}=e,i=jp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(n,e){const t=await G0(n,{},async()=>{const i=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=Q0(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",K0.fetch()(u,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ek(n,e){return ss(n,"POST","/v2/accounts:revokeToken",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=jv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await _k(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new ta;return i&&(Re(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Re(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Re(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new tp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await bl(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pk(this,e)}reload(){return yk(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Jc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(ei(this.auth));const e=await this.getIdToken();return await bl(this,fk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,d,f,y,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,k=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,D=(u=t.photoURL)!==null&&u!==void 0?u:void 0,V=(d=t.tenantId)!==null&&d!==void 0?d:void 0,b=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,x=(y=t.createdAt)!==null&&y!==void 0?y:void 0,M=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:q,emailVerified:Z,isAnonymous:W,providerData:X,stsTokenManager:A}=t;Re(q&&A,e,"internal-error");const S=ta.fromJSON(this.name,A);Re(typeof q=="string",e,"internal-error"),Mi(T,e.name),Mi(w,e.name),Re(typeof Z=="boolean",e,"internal-error"),Re(typeof W=="boolean",e,"internal-error"),Mi(k,e.name),Mi(D,e.name),Mi(V,e.name),Mi(b,e.name),Mi(x,e.name),Mi(M,e.name);const R=new Jr({uid:q,auth:e,email:w,emailVerified:Z,displayName:T,isAnonymous:W,photoURL:D,phoneNumber:k,tenantId:V,stsTokenManager:S,createdAt:x,lastLoginAt:M});return X&&Array.isArray(X)&&(R.providerData=X.map(O=>Object.assign({},O))),b&&(R._redirectEventId=b),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new ta;o.updateFromServerResponse(t);const a=new Jr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Jc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Re(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?X0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new ta;d.updateFromIdToken(i);const f=new Jr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,y),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;function Zr(n){ii(n instanceof Function,"Expected a class definition");let e=zv.get(n);return e?(ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}J0.type="NONE";const Bv=J0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(n,e,t){return`firebase:${n}:${e}:${t}`}class na{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Lc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Lc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new na(Zr(Bv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||Zr(Bv);const u=Lc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(u);if(_){const T=Jr._fromJSON(e,_);y!==a&&(d=T),a=y;break}}catch{}const f=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new na(a,e,i):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(u)}catch{}})),new na(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iE(e))return"Blackberry";if(sE(e))return"Webos";if(eE(e))return"Safari";if((e.includes("chrome/")||tE(e))&&!e.includes("edge/"))return"Chrome";if(rE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Z0(n=Yt()){return/firefox\//i.test(n)}function eE(n=Yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tE(n=Yt()){return/crios\//i.test(n)}function nE(n=Yt()){return/iemobile/i.test(n)}function rE(n=Yt()){return/android/i.test(n)}function iE(n=Yt()){return/blackberry/i.test(n)}function sE(n=Yt()){return/webos/i.test(n)}function qp(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wk(n=Yt()){var e;return qp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Tk(){return FC()&&document.documentMode===10}function oE(n=Yt()){return qp(n)||rE(n)||sE(n)||iE(n)||/windows phone/i.test(n)||nE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(n,e=[]){let t;switch(n){case"Browser":t=Hv(Yt());break;case"Worker":t=`${Hv(Yt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ma}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(n,e={}){return ss(n,"GET","/v2/passwordPolicy",is(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=6;class Rk{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Ak,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qv(this),this.idTokenSubscription=new qv(this),this.beforeStateQueue=new Ik(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Y0(this,{idToken:e}),i=await Jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ok()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(ei(this));const t=e?ar(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Sk(this),t=new Rk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Ek(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zr(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[Zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&rk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Zs(n){return ar(n)}class qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=WC(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pk(n){Eh=n}function lE(n){return Eh.loadJS(n)}function kk(){return Eh.recaptchaEnterpriseScript}function bk(){return Eh.gapiScript}function xk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Ok{constructor(){this.enterprise=new Nk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Nk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Dk="recaptcha-enterprise",uE="NO_RECAPTCHA";class Lk{constructor(e){this.type=Dk,this.auth=Zs(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{dk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new hk(f);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,u(y.siteKey)}}).catch(f=>{d(f)})})}function o(a,u,d){const f=window.grecaptcha;$v(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(y=>{u(y)}).catch(()=>{u(uE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ok().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(d=>{if(!t&&$v(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=kk();f.length!==0&&(f+=d),lE(f).then(()=>{o(d,a,u)}).catch(y=>{u(y)})}}).catch(d=>{u(d)})})}}async function Wv(n,e,t,i=!1,o=!1){const a=new Lk(n);let u;if(o)u=uE;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function np(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Wv(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Wv(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(n,e){const t=$p(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Qc(a,e??{}))return o;lr(o,"already-initialized")}return t.initialize({options:e})}function Mk(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Zr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Fk(n,e,t){const i=Zs(n);Re(i._canInitEmulator,i,"emulator-config-failed"),Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=cE(e),{host:u,port:d}=Uk(e),f=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${u}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),$k()}function cE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Uk(n){const e=cE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Kv(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:Kv(u)}}}function Kv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function $k(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,t){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}}async function jk(n,e){return ss(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e){return Gl(n,"POST","/v1/accounts:signInWithPassword",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(n,e){return Gl(n,"POST","/v1/accounts:signInWithEmailLink",is(n,e))}async function Hk(n,e){return Gl(n,"POST","/v1/accounts:signInWithEmailLink",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends Wp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new xl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new xl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,t,"signInWithPassword",zk);case"emailLink":return Bk(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,i,"signUpPassword",jk);case"emailLink":return Hk(e,{idToken:t,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(n,e){return Gl(n,"POST","/v1/accounts:signInWithIdp",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="http://localhost";class qs extends Wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=jp(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new qs(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ra(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ra(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ra(e,t)}buildRequest(){const e={requestUri:qk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Kk(n){const e=pl(ml(n)).link,t=e?pl(ml(e)).deep_link_id:null,i=pl(ml(n)).deep_link_id;return(i?pl(ml(i)).link:null)||i||t||e||n}class Kp{constructor(e){var t,i,o,a,u,d;const f=pl(ml(e)),y=(t=f.apiKey)!==null&&t!==void 0?t:null,_=(i=f.oobCode)!==null&&i!==void 0?i:null,T=Wk((o=f.mode)!==null&&o!==void 0?o:null);Re(y&&_&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=_,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=Kk(e);try{return new Kp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.providerId=ga.PROVIDER_ID}static credential(e,t){return xl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Kp.parseLink(t);return Re(i,"argument-error"),xl._fromEmailAndCode(e,i.code,i.tenantId)}}ga.PROVIDER_ID="password";ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends hE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Ql{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return $i.credential(t,i)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Ql{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Ql{constructor(){super("twitter.com")}static credential(e,t){return qs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return zi.credential(t,i)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(n,e){return Gl(n,"POST","/v1/accounts:signUp",is(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Jr._fromIdTokenResponse(e,i,o),u=Gv(i);return new Ws({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Gv(i);return new Ws({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Gv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends ui{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Zc(e,t,i,o)}}function dE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(n,a,e,i):a})}async function Qk(n,e,t=!1){const i=await bl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ws._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(n,e,t=!1){const{auth:i}=n;if(Tr(i.app))return Promise.reject(ei(i));const o="reauthenticate";try{const a=await bl(n,dE(i,o,e,n),t);Re(a.idToken,i,"internal-error");const u=Hp(a.idToken);Re(u,i,"internal-error");const{sub:d}=u;return Re(n.uid===d,i,"user-mismatch"),Ws._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&lr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fE(n,e,t=!1){if(Tr(n.app))return Promise.reject(ei(n));const i="signIn",o=await dE(n,i,e),a=await Ws._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function Xk(n,e){return fE(Zs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pE(n){const e=Zs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Jk(n,e,t){if(Tr(n.app))return Promise.reject(ei(n));const i=Zs(n),u=await np(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gk).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&pE(n),f}),d=await Ws._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function Zk(n,e,t){return Tr(n.app)?Promise.reject(ei(n)):Xk(ar(n),ga.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&pE(n),i})}function eb(n,e,t,i){return ar(n).onIdTokenChanged(e,t,i)}function tb(n,e,t){return ar(n).beforeAuthStateChanged(e,t)}const eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=1e3,rb=10;class gE extends mE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);Tk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,rb):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},nb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gE.type="LOCAL";const ib=gE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE extends mE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yE.type="SESSION";const vE=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new wh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async y=>y(t.origin,a)),f=await sb(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const y=Gp("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(w.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function ab(n){Sr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function lb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ub(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function cb(){return _E()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="firebaseLocalStorageDb",hb=1,th="firebaseLocalStorage",wE="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Th(n,e){return n.transaction([th],e?"readwrite":"readonly").objectStore(th)}function db(){const n=indexedDB.deleteDatabase(EE);return new Yl(n).toPromise()}function rp(){const n=indexedDB.open(EE,hb);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(th,{keyPath:wE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(th)?e(i):(i.close(),await db(),e(await rp()))})})}async function Qv(n,e,t){const i=Th(n,!0).put({[wE]:e,value:t});return new Yl(i).toPromise()}async function fb(n,e){const t=Th(n,!1).get(e),i=await new Yl(t).toPromise();return i===void 0?null:i.value}function Yv(n,e){const t=Th(n,!0).delete(e);return new Yl(t).toPromise()}const pb=800,mb=3;class TE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>mb)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _E()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(cb()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await lb(),!this.activeServiceWorker)return;this.sender=new ob(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ub()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await Qv(e,eh,"1"),await Yv(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>fb(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Th(o,!1).getAll();return new Yl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TE.type="LOCAL";const gb=TE;new Kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(n,e){return e?Zr(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vb(n){return fE(n.auth,new Qp(n),n.bypassAuthState)}function _b(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),Yk(t,new Qp(n),n.bypassAuthState)}async function Eb(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),Qk(t,new Qp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vb;case"linkViaPopup":case"linkViaRedirect":return Eb;case"reauthViaPopup":case"reauthViaRedirect":return _b;default:lr(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=new Kl(2e3,1e4);class ea extends IE{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wb.get())};e()}}ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="pendingRedirect",Vc=new Map;class Ib extends IE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Vc.get(this.auth._key());if(!e){try{const i=await Sb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Vc.set(this.auth._key(),e)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sb(n,e){const t=Cb(e),i=Rb(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function Ab(n,e){Vc.set(n._key(),e)}function Rb(n){return Zr(n._redirectPersistence)}function Cb(n){return Lc(Tb,n.config.apiKey,n.name)}async function Pb(n,e,t=!1){if(Tr(n.app))return Promise.reject(ei(n));const i=Zs(n),o=yb(i,e),u=await new Ib(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=10*60*1e3;class bb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xb(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!SE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ir(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kb&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xv(e))}saveEventToCache(e){this.cachedEventUids.add(Xv(e)),this.lastProcessedEventTime=Date.now()}}function Xv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function SE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xb(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(n,e={}){return ss(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Db=/^https?/;async function Lb(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Ob(n);for(const t of e)try{if(Vb(t))return}catch{}lr(n,"unauthorized-domain")}function Vb(n){const e=ep(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!Db.test(t))return!1;if(Nb.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=new Kl(3e4,6e4);function Jv(){const n=Sr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Fb(n){return new Promise((e,t)=>{var i,o,a;function u(){Jv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jv(),t(Ir(n,"network-request-failed"))},timeout:Mb.get()})}if(!((o=(i=Sr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Sr().gapi)===null||a===void 0)&&a.load)u();else{const d=xk("iframefcb");return Sr()[d]=()=>{gapi.load?u():t(Ir(n,"network-request-failed"))},lE(`${bk()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Mc=null,e})}let Mc=null;function Ub(n){return Mc=Mc||Fb(n),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new Kl(5e3,15e3),jb="__/auth/iframe",zb="emulator/auth/iframe",Bb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qb(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Bp(e,zb):`https://${n.config.authDomain}/${jb}`,i={apiKey:e.apiKey,appName:n.name,v:ma},o=Hb.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Wl(i).slice(1)}`}async function Wb(n){const e=await Ub(n),t=Sr().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:qb(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bb,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=Ir(n,"network-request-failed"),d=Sr().setTimeout(()=>{a(u)},$b.get());function f(){Sr().clearTimeout(d),o(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gb=500,Qb=600,Yb="_blank",Xb="http://localhost";class Zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jb(n,e,t,i=Gb,o=Qb){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},Kb),{width:i.toString(),height:o.toString(),top:a,left:u}),y=Yt().toLowerCase();t&&(d=tE(y)?Yb:t),Z0(y)&&(e=e||Xb,f.scrollbars="yes");const _=Object.entries(f).reduce((w,[k,D])=>`${w}${k}=${D},`,"");if(wk(y)&&d!=="_self")return Zb(e||"",d),new Zv(null);const T=window.open(e||"",d,_);Re(T,n,"popup-blocked");try{T.focus()}catch{}return new Zv(T)}function Zb(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="__/auth/handler",tx="emulator/auth/handler",nx=encodeURIComponent("fac");async function e_(n,e,t,i,o,a){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ma,eventId:o};if(e instanceof hE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",qC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))u[_]=T}if(e instanceof Ql){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const f=await n._getAppCheckToken(),y=f?`#${nx}=${encodeURIComponent(f)}`:"";return`${rx(n)}?${Wl(d).slice(1)}${y}`}function rx({config:n}){return n.emulator?Bp(n,tx):`https://${n.authDomain}/${ex}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="webStorageSupport";class ix{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vE,this._completeRedirectFn=Pb,this._overrideRedirectResult=Ab}async _openPopup(e,t,i,o){var a;ii((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await e_(e,t,i,ep(),o);return Jb(e,u,Gp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await e_(e,t,i,ep(),o);return ab(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ii(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Wb(e),i=new bb(e);return t.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Df,{type:Df},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Df];u!==void 0&&t(!!u),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Lb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oE()||eE()||qp()}}const sx=ix;var t_="@firebase/auth",n_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lx(n){oa(new Hs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aE(n)},y=new Ck(i,o,a,f);return Mk(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),oa(new Hs("auth-internal",e=>{const t=Zs(e.getProvider("auth").getImmediate());return(i=>new ox(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(t_,n_,ax(n)),Ki(t_,n_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=5*60,cx=M0("authIdTokenMaxAge")||ux;let r_=null;const hx=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>cx)return;const o=t==null?void 0:t.token;r_!==o&&(r_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function dx(n=j0()){const e=$p(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Vk(n,{popupRedirectResolver:sx,persistence:[gb,ib,vE]}),i=M0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=hx(a.toString());tb(t,u,()=>u(t.currentUser)),eb(t,d=>u(d))}}const o=L0("auth");return o&&Fk(t,`http://${o}`),t}function fx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Pk({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Ir("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",fx().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lx("Browser");function AE(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=AE(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function js(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=AE(n))&&(i&&(i+=" "),i+=e);return i}function px(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}px(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Xl=n=>typeof n=="number"&&!isNaN(n),Ks=n=>typeof n=="string",si=n=>typeof n=="function",mx=n=>Ks(n)||Xl(n),ip=n=>Ks(n)||si(n)?n:null,gx=(n,e)=>n===!1||Xl(n)&&n>0?n:e,sp=n=>$.isValidElement(n)||Ks(n)||si(n)||Xl(n);function yx(n,e,t=300){let{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function vx({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:a,position:u,preventExitTransition:d,done:f,nodeRef:y,isIn:_,playToast:T}){let w=t?`${n}--${u}`:n,k=t?`${e}--${u}`:e,D=$.useRef(0);return $.useLayoutEffect(()=>{let V=y.current,b=w.split(" "),x=M=>{M.target===y.current&&(T(),V.removeEventListener("animationend",x),V.removeEventListener("animationcancel",x),D.current===0&&M.type!=="animationcancel"&&V.classList.remove(...b))};V.classList.add(...b),V.addEventListener("animationend",x),V.addEventListener("animationcancel",x)},[]),$.useEffect(()=>{let V=y.current,b=()=>{V.removeEventListener("animationend",b),i?yx(V,f,o):f()};_||(d?b():(D.current=1,V.className+=` ${k}`,V.addEventListener("animationend",b)))},[_]),ot.createElement(ot.Fragment,null,a)}}function i_(n,e){return{content:RE(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function RE(n,e,t=!1){return $.isValidElement(n)&&!Ks(n.type)?$.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):si(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function _x({closeToast:n,theme:e,ariaLabel:t="close"}){return ot.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},ot.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ot.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Ex({delay:n,isRunning:e,closeToast:t,type:i="default",hide:o,className:a,controlledProgress:u,progress:d,rtl:f,isIn:y,theme:_}){let T=o||u&&d===0,w={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(w.transform=`scaleX(${d})`);let k=js("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),D=si(a)?a({rtl:f,type:i,defaultClassName:k}):js(k,a),V={[u&&d>=1?"onTransitionEnd":"onAnimationEnd"]:u&&d<1?null:()=>{y&&t()}};return ot.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":T},ot.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${i}`}),ot.createElement("div",{role:"progressbar","aria-hidden":T?"true":"false","aria-label":"notification timer",className:D,style:w,...V}))}var wx=1,CE=()=>`${wx++}`;function Tx(n,e,t){let i=1,o=0,a=[],u=[],d=e,f=new Map,y=new Set,_=M=>(y.add(M),()=>y.delete(M)),T=()=>{u=Array.from(f.values()),y.forEach(M=>M())},w=({containerId:M,toastId:q,updateId:Z})=>{let W=M?M!==n:n!==1,X=f.has(q)&&Z==null;return W||X},k=(M,q)=>{f.forEach(Z=>{var W;(q==null||q===Z.props.toastId)&&((W=Z.toggle)==null||W.call(Z,M))})},D=M=>{var q,Z;(Z=(q=M.props)==null?void 0:q.onClose)==null||Z.call(q,M.removalReason),M.isActive=!1},V=M=>{if(M==null)f.forEach(D);else{let q=f.get(M);q&&D(q)}T()},b=()=>{o-=a.length,a=[]},x=M=>{var q,Z;let{toastId:W,updateId:X}=M.props,A=X==null;M.staleId&&f.delete(M.staleId),M.isActive=!0,f.set(W,M),T(),t(i_(M,A?"added":"updated")),A&&((Z=(q=M.props).onOpen)==null||Z.call(q))};return{id:n,props:d,observe:_,toggle:k,removeToast:V,toasts:f,clearQueue:b,buildToast:(M,q)=>{if(w(q))return;let{toastId:Z,updateId:W,data:X,staleId:A,delay:S}=q,R=W==null;R&&o++;let O={...d,style:d.toastStyle,key:i++,...Object.fromEntries(Object.entries(q).filter(([U,C])=>C!=null)),toastId:Z,updateId:W,data:X,isIn:!1,className:ip(q.className||d.toastClassName),progressClassName:ip(q.progressClassName||d.progressClassName),autoClose:q.isLoading?!1:gx(q.autoClose,d.autoClose),closeToast(U){f.get(Z).removalReason=U,V(Z)},deleteToast(){let U=f.get(Z);if(U!=null){if(t(i_(U,"removed")),f.delete(Z),o--,o<0&&(o=0),a.length>0){x(a.shift());return}T()}}};O.closeButton=d.closeButton,q.closeButton===!1||sp(q.closeButton)?O.closeButton=q.closeButton:q.closeButton===!0&&(O.closeButton=sp(d.closeButton)?d.closeButton:!0);let N={content:M,props:O,staleId:A};d.limit&&d.limit>0&&o>d.limit&&R?a.push(N):Xl(S)?setTimeout(()=>{x(N)},S):x(N)},setProps(M){d=M},setToggle:(M,q)=>{let Z=f.get(M);Z&&(Z.toggle=q)},isToastActive:M=>{var q;return(q=f.get(M))==null?void 0:q.isActive},getSnapshot:()=>u}}var nn=new Map,Ol=[],op=new Set,Ix=n=>op.forEach(e=>e(n)),PE=()=>nn.size>0;function Sx(){Ol.forEach(n=>bE(n.content,n.options)),Ol=[]}var Ax=(n,{containerId:e})=>{var t;return(t=nn.get(e||1))==null?void 0:t.toasts.get(n)};function kE(n,e){var t;if(e)return!!((t=nn.get(e))!=null&&t.isToastActive(n));let i=!1;return nn.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function Rx(n){if(!PE()){Ol=Ol.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||mx(n))nn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=nn.get(n.containerId);e?e.removeToast(n.id):nn.forEach(t=>{t.removeToast(n.id)})}}var Cx=(n={})=>{nn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function bE(n,e){sp(n)&&(PE()||Ol.push({content:n,options:e}),nn.forEach(t=>{t.buildToast(n,e)}))}function Px(n){var e;(e=nn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function xE(n,e){nn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function kx(n){let e=n.containerId||1;return{subscribe(t){let i=Tx(e,n,Ix);nn.set(e,i);let o=i.observe(t);return Sx(),()=>{o(),nn.delete(e)}},setProps(t){var i;(i=nn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=nn.get(e))==null?void 0:t.getSnapshot()}}}function bx(n){return op.add(n),()=>{op.delete(n)}}function xx(n){return n&&(Ks(n.toastId)||Xl(n.toastId))?n.toastId:CE()}function Jl(n,e){return bE(n,e),e.toastId}function Ih(n,e){return{...e,type:e&&e.type||n,toastId:xx(e)}}function Sh(n){return(e,t)=>Jl(e,Ih(n,t))}function Ke(n,e){return Jl(n,Ih("default",e))}Ke.loading=(n,e)=>Jl(n,Ih("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Ox(n,{pending:e,error:t,success:i},o){let a;e&&(a=Ks(e)?Ke.loading(e,o):Ke.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(y,_,T)=>{if(_==null){Ke.dismiss(a);return}let w={type:y,...u,...o,data:T},k=Ks(_)?{render:_}:_;return a?Ke.update(a,{...w,...k}):Ke(k.render,{...w,...k}),T},f=si(n)?n():n;return f.then(y=>d("success",i,y)).catch(y=>d("error",t,y)),f}Ke.promise=Ox;Ke.success=Sh("success");Ke.info=Sh("info");Ke.error=Sh("error");Ke.warning=Sh("warning");Ke.warn=Ke.warning;Ke.dark=(n,e)=>Jl(n,Ih("default",{theme:"dark",...e}));function Nx(n){Rx(n)}Ke.dismiss=Nx;Ke.clearWaitingQueue=Cx;Ke.isActive=kE;Ke.update=(n,e={})=>{let t=Ax(n,e);if(t){let{props:i,content:o}=t,a={delay:100,...i,...e,toastId:e.toastId||n,updateId:CE()};a.toastId!==n&&(a.staleId=n);let u=a.render||o;delete a.render,Jl(u,a)}};Ke.done=n=>{Ke.update(n,{progress:1})};Ke.onChange=bx;Ke.play=n=>xE(!0,n);Ke.pause=n=>xE(!1,n);function Dx(n){var e;let{subscribe:t,getSnapshot:i,setProps:o}=$.useRef(kx(n)).current;o(n);let a=(e=$.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function u(d){if(!a)return[];let f=new Map;return n.newestOnTop&&a.reverse(),a.forEach(y=>{let{position:_}=y.props;f.has(_)||f.set(_,[]),f.get(_).push(y)}),Array.from(f,y=>d(y[0],y[1]))}return{getToastToRender:u,isToastActive:kE,count:a==null?void 0:a.length}}function Lx(n){let[e,t]=$.useState(!1),[i,o]=$.useState(!1),a=$.useRef(null),u=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:f,closeToast:y,onClick:_,closeOnClick:T}=n;Px({id:n.toastId,containerId:n.containerId,fn:t}),$.useEffect(()=>{if(n.pauseOnFocusLoss)return w(),()=>{k()}},[n.pauseOnFocusLoss]);function w(){document.hasFocus()||x(),window.addEventListener("focus",b),window.addEventListener("blur",x)}function k(){window.removeEventListener("focus",b),window.removeEventListener("blur",x)}function D(A){if(n.draggable===!0||n.draggable===A.pointerType){M();let S=a.current;u.canCloseOnClick=!0,u.canDrag=!0,S.style.transition="none",n.draggableDirection==="x"?(u.start=A.clientX,u.removalDistance=S.offsetWidth*(n.draggablePercent/100)):(u.start=A.clientY,u.removalDistance=S.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function V(A){let{top:S,bottom:R,left:O,right:N}=a.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&n.pauseOnHover&&A.clientX>=O&&A.clientX<=N&&A.clientY>=S&&A.clientY<=R?x():b()}function b(){t(!0)}function x(){t(!1)}function M(){u.didMove=!1,document.addEventListener("pointermove",Z),document.addEventListener("pointerup",W)}function q(){document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",W)}function Z(A){let S=a.current;if(u.canDrag&&S){u.didMove=!0,e&&x(),n.draggableDirection==="x"?u.delta=A.clientX-u.start:u.delta=A.clientY-u.start,u.start!==A.clientX&&(u.canCloseOnClick=!1);let R=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;S.style.transform=`translate3d(${R},0)`,S.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function W(){q();let A=a.current;if(u.canDrag&&u.didMove&&A){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let X={onPointerDown:D,onPointerUp:V};return d&&f&&(X.onMouseEnter=x,n.stacked||(X.onMouseLeave=b)),T&&(X.onClick=A=>{_&&_(A),u.canCloseOnClick&&y(!0)}),{playToast:b,pauseToast:x,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:X}}var Vx=typeof window<"u"?$.useLayoutEffect:$.useEffect,Ah=({theme:n,type:e,isLoading:t,...i})=>ot.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function Mx(n){return ot.createElement(Ah,{...n},ot.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Fx(n){return ot.createElement(Ah,{...n},ot.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Ux(n){return ot.createElement(Ah,{...n},ot.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function $x(n){return ot.createElement(Ah,{...n},ot.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function jx(){return ot.createElement("div",{className:"Toastify__spinner"})}var ap={info:Fx,warning:Mx,success:Ux,error:$x,spinner:jx},zx=n=>n in ap;function Bx({theme:n,type:e,isLoading:t,icon:i}){let o=null,a={theme:n,type:e};return i===!1||(si(i)?o=i({...a,isLoading:t}):$.isValidElement(i)?o=$.cloneElement(i,a):t?o=ap.spinner():zx(e)&&(o=ap[e](a))),o}var Hx=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:a}=Lx(n),{closeButton:u,children:d,autoClose:f,onClick:y,type:_,hideProgressBar:T,closeToast:w,transition:k,position:D,className:V,style:b,progressClassName:x,updateId:M,role:q,progress:Z,rtl:W,toastId:X,deleteToast:A,isIn:S,isLoading:R,closeOnClick:O,theme:N,ariaLabel:U}=n,C=js("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":W},{"Toastify__toast--close-on-click":O}),qe=si(V)?V({rtl:W,position:D,type:_,defaultClassName:C}):js(C,V),ft=Bx(n),gt=!!Z||!f,$e={closeToast:w,type:_,theme:N},se=null;return u===!1||(si(u)?se=u($e):$.isValidElement(u)?se=$.cloneElement(u,$e):se=_x($e)),ot.createElement(k,{isIn:S,done:A,position:D,preventExitTransition:t,nodeRef:i,playToast:a},ot.createElement("div",{id:X,tabIndex:0,onClick:y,"data-in":S,className:qe,...o,style:b,ref:i,...S&&{role:q,"aria-label":U}},ft!=null&&ot.createElement("div",{className:js("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ft),RE(d,n,!e),se,!n.customProgressBar&&ot.createElement(Ex,{...M&&!gt?{key:`p-${M}`}:{},rtl:W,theme:N,delay:f,isRunning:e,isIn:S,closeToast:w,hide:T,type:_,className:x,controlledProgress:gt,progress:Z||0})))},qx=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),Wx=vx(qx("bounce",!0)),Kx={position:"top-right",transition:Wx,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function Gx(n){let e={...Kx,...n},t=n.stacked,[i,o]=$.useState(!0),a=$.useRef(null),{getToastToRender:u,isToastActive:d,count:f}=Dx(e),{className:y,style:_,rtl:T,containerId:w,hotKeys:k}=e;function D(b){let x=js("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":T});return si(y)?y({position:b,rtl:T,defaultClassName:x}):js(x,ip(y))}function V(){t&&(o(!0),Ke.play())}return Vx(()=>{var b;if(t){let x=a.current.querySelectorAll('[data-in="true"]'),M=12,q=(b=e.position)==null?void 0:b.includes("top"),Z=0,W=0;Array.from(x).reverse().forEach((X,A)=>{let S=X;S.classList.add("Toastify__toast--stacked"),A>0&&(S.dataset.collapsed=`${i}`),S.dataset.pos||(S.dataset.pos=q?"top":"bot");let R=Z*(i?.2:1)+(i?0:M*A);S.style.setProperty("--y",`${q?R:R*-1}px`),S.style.setProperty("--g",`${M}`),S.style.setProperty("--s",`${1-(i?W:0)}`),Z+=S.offsetHeight,W+=.025})}},[i,f,t]),$.useEffect(()=>{function b(x){var M;let q=a.current;k(x)&&((M=q.querySelector('[tabIndex="0"]'))==null||M.focus(),o(!1),Ke.pause()),x.key==="Escape"&&(document.activeElement===q||q!=null&&q.contains(document.activeElement))&&(o(!0),Ke.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[k]),ot.createElement("section",{ref:a,className:"Toastify",id:w,onMouseEnter:()=>{t&&(o(!1),Ke.pause())},onMouseLeave:V,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((b,x)=>{let M=x.length?{..._}:{..._,pointerEvents:"none"};return ot.createElement("div",{tabIndex:-1,className:D(b),"data-stacked":t,style:M,key:`c-${b}`},x.map(({content:q,props:Z})=>ot.createElement(Hx,{...Z,stacked:t,collapseAll:V,isIn:d(Z.toastId,Z.containerId),key:`t-${Z.key}`},q)))}))}var Qx="firebase",Yx="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(Qx,Yx,"app");var s_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,OE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function R(){}R.prototype=S.prototype,A.D=S.prototype,A.prototype=new R,A.prototype.constructor=A,A.C=function(O,N,U){for(var C=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)C[qe-2]=arguments[qe];return S.prototype[N].apply(O,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)O[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;16>N;++N)O[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=A.g[0],R=A.g[1],N=A.g[2];var U=A.g[3],C=S+(U^R&(N^U))+O[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=U+(N^S&(R^N))+O[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=N+(R^U&(S^R))+O[2]+606105819&4294967295,N=U+(C<<17&4294967295|C>>>15),C=R+(S^N&(U^S))+O[3]+3250441966&4294967295,R=N+(C<<22&4294967295|C>>>10),C=S+(U^R&(N^U))+O[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(N^S&(R^N))+O[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=N+(R^U&(S^R))+O[6]+2821735955&4294967295,N=U+(C<<17&4294967295|C>>>15),C=R+(S^N&(U^S))+O[7]+4249261313&4294967295,R=N+(C<<22&4294967295|C>>>10),C=S+(U^R&(N^U))+O[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(N^S&(R^N))+O[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=N+(R^U&(S^R))+O[10]+4294925233&4294967295,N=U+(C<<17&4294967295|C>>>15),C=R+(S^N&(U^S))+O[11]+2304563134&4294967295,R=N+(C<<22&4294967295|C>>>10),C=S+(U^R&(N^U))+O[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=U+(N^S&(R^N))+O[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=N+(R^U&(S^R))+O[14]+2792965006&4294967295,N=U+(C<<17&4294967295|C>>>15),C=R+(S^N&(U^S))+O[15]+1236535329&4294967295,R=N+(C<<22&4294967295|C>>>10),C=S+(N^U&(R^N))+O[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^N&(S^R))+O[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=N+(S^R&(U^S))+O[11]+643717713&4294967295,N=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(N^U))+O[0]+3921069994&4294967295,R=N+(C<<20&4294967295|C>>>12),C=S+(N^U&(R^N))+O[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^N&(S^R))+O[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=N+(S^R&(U^S))+O[15]+3634488961&4294967295,N=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(N^U))+O[4]+3889429448&4294967295,R=N+(C<<20&4294967295|C>>>12),C=S+(N^U&(R^N))+O[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^N&(S^R))+O[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=N+(S^R&(U^S))+O[3]+4107603335&4294967295,N=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(N^U))+O[8]+1163531501&4294967295,R=N+(C<<20&4294967295|C>>>12),C=S+(N^U&(R^N))+O[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=U+(R^N&(S^R))+O[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=N+(S^R&(U^S))+O[7]+1735328473&4294967295,N=U+(C<<14&4294967295|C>>>18),C=R+(U^S&(N^U))+O[12]+2368359562&4294967295,R=N+(C<<20&4294967295|C>>>12),C=S+(R^N^U)+O[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^N)+O[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=N+(U^S^R)+O[11]+1839030562&4294967295,N=U+(C<<16&4294967295|C>>>16),C=R+(N^U^S)+O[14]+4259657740&4294967295,R=N+(C<<23&4294967295|C>>>9),C=S+(R^N^U)+O[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^N)+O[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=N+(U^S^R)+O[7]+4139469664&4294967295,N=U+(C<<16&4294967295|C>>>16),C=R+(N^U^S)+O[10]+3200236656&4294967295,R=N+(C<<23&4294967295|C>>>9),C=S+(R^N^U)+O[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^N)+O[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=N+(U^S^R)+O[3]+3572445317&4294967295,N=U+(C<<16&4294967295|C>>>16),C=R+(N^U^S)+O[6]+76029189&4294967295,R=N+(C<<23&4294967295|C>>>9),C=S+(R^N^U)+O[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=U+(S^R^N)+O[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=N+(U^S^R)+O[15]+530742520&4294967295,N=U+(C<<16&4294967295|C>>>16),C=R+(N^U^S)+O[2]+3299628645&4294967295,R=N+(C<<23&4294967295|C>>>9),C=S+(N^(R|~U))+O[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~N))+O[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=N+(S^(U|~R))+O[14]+2878612391&4294967295,N=U+(C<<15&4294967295|C>>>17),C=R+(U^(N|~S))+O[5]+4237533241&4294967295,R=N+(C<<21&4294967295|C>>>11),C=S+(N^(R|~U))+O[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~N))+O[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=N+(S^(U|~R))+O[10]+4293915773&4294967295,N=U+(C<<15&4294967295|C>>>17),C=R+(U^(N|~S))+O[1]+2240044497&4294967295,R=N+(C<<21&4294967295|C>>>11),C=S+(N^(R|~U))+O[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~N))+O[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=N+(S^(U|~R))+O[6]+2734768916&4294967295,N=U+(C<<15&4294967295|C>>>17),C=R+(U^(N|~S))+O[13]+1309151649&4294967295,R=N+(C<<21&4294967295|C>>>11),C=S+(N^(R|~U))+O[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=U+(R^(S|~N))+O[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=N+(S^(U|~R))+O[2]+718787259&4294967295,N=U+(C<<15&4294967295|C>>>17),C=R+(U^(N|~S))+O[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+U&4294967295}i.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var R=S-this.blockSize,O=this.B,N=this.h,U=0;U<S;){if(N==0)for(;U<=R;)o(this,A,U),U+=this.blockSize;if(typeof A=="string"){for(;U<S;)if(O[N++]=A.charCodeAt(U++),N==this.blockSize){o(this,O),N=0;break}}else for(;U<S;)if(O[N++]=A[U++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=S},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var R=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=R&255,R/=256;for(this.u(A),A=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)A[R++]=this.g[S]>>>O&255;return A};function a(A,S){var R=d;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=S(A)}function u(A,S){this.h=S;for(var R=[],O=!0,N=A.length-1;0<=N;N--){var U=A[N]|0;O&&U==S||(R[N]=U,O=!1)}this.g=R}var d={};function f(A){return-128<=A&&128>A?a(A,function(S){return new u([S|0],0>S?-1:0)}):new u([A|0],0>A?-1:0)}function y(A){if(isNaN(A)||!isFinite(A))return T;if(0>A)return b(y(-A));for(var S=[],R=1,O=0;A>=R;O++)S[O]=A/R|0,R*=4294967296;return new u(S,0)}function _(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return b(_(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),O=T,N=0;N<A.length;N+=8){var U=Math.min(8,A.length-N),C=parseInt(A.substring(N,N+U),S);8>U?(U=y(Math.pow(S,U)),O=O.j(U).add(y(C))):(O=O.j(R),O=O.add(y(C)))}return O}var T=f(0),w=f(1),k=f(16777216);n=u.prototype,n.m=function(){if(V(this))return-b(this).m();for(var A=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);A+=(0<=O?O:4294967296+O)*S,S*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D(this))return"0";if(V(this))return"-"+b(this).toString(A);for(var S=y(Math.pow(A,6)),R=this,O="";;){var N=Z(R,S).g;R=x(R,N.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(A);if(R=N,D(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function D(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function V(A){return A.h==-1}n.l=function(A){return A=x(this,A),V(A)?-1:D(A)?0:1};function b(A){for(var S=A.g.length,R=[],O=0;O<S;O++)R[O]=~A.g[O];return new u(R,~A.h).add(w)}n.abs=function(){return V(this)?b(this):this},n.add=function(A){for(var S=Math.max(this.g.length,A.g.length),R=[],O=0,N=0;N<=S;N++){var U=O+(this.i(N)&65535)+(A.i(N)&65535),C=(U>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);O=C>>>16,U&=65535,C&=65535,R[N]=C<<16|U}return new u(R,R[R.length-1]&-2147483648?-1:0)};function x(A,S){return A.add(b(S))}n.j=function(A){if(D(this)||D(A))return T;if(V(this))return V(A)?b(this).j(b(A)):b(b(this).j(A));if(V(A))return b(this.j(b(A)));if(0>this.l(k)&&0>A.l(k))return y(this.m()*A.m());for(var S=this.g.length+A.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<A.g.length;N++){var U=this.i(O)>>>16,C=this.i(O)&65535,qe=A.i(N)>>>16,ft=A.i(N)&65535;R[2*O+2*N]+=C*ft,M(R,2*O+2*N),R[2*O+2*N+1]+=U*ft,M(R,2*O+2*N+1),R[2*O+2*N+1]+=C*qe,M(R,2*O+2*N+1),R[2*O+2*N+2]+=U*qe,M(R,2*O+2*N+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new u(R,0)};function M(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function q(A,S){this.g=A,this.h=S}function Z(A,S){if(D(S))throw Error("division by zero");if(D(A))return new q(T,T);if(V(A))return S=Z(b(A),S),new q(b(S.g),b(S.h));if(V(S))return S=Z(A,b(S)),new q(b(S.g),S.h);if(30<A.g.length){if(V(A)||V(S))throw Error("slowDivide_ only works with positive integers.");for(var R=w,O=S;0>=O.l(A);)R=W(R),O=W(O);var N=X(R,1),U=X(O,1);for(O=X(O,2),R=X(R,2);!D(O);){var C=U.add(O);0>=C.l(A)&&(N=N.add(R),U=C),O=X(O,1),R=X(R,1)}return S=x(A,N.j(S)),new q(N,S)}for(N=T;0<=A.l(S);){for(R=Math.max(1,Math.floor(A.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=y(R),C=U.j(S);V(C)||0<C.l(A);)R-=O,U=y(R),C=U.j(S);D(U)&&(U=w),N=N.add(U),A=x(A,C)}return new q(N,A)}n.A=function(A){return Z(this,A).h},n.and=function(A){for(var S=Math.max(this.g.length,A.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&A.i(O);return new u(R,this.h&A.h)},n.or=function(A){for(var S=Math.max(this.g.length,A.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|A.i(O);return new u(R,this.h|A.h)},n.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^A.i(O);return new u(R,this.h^A.h)};function W(A){for(var S=A.g.length+1,R=[],O=0;O<S;O++)R[O]=A.i(O)<<1|A.i(O-1)>>>31;return new u(R,A.h)}function X(A,S){var R=S>>5;S%=32;for(var O=A.g.length-R,N=[],U=0;U<O;U++)N[U]=0<S?A.i(U+R)>>>S|A.i(U+R+1)<<32-S:A.i(U+R);return new u(N,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,OE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=_,zs=u}).apply(typeof s_<"u"?s_:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NE,gl,DE,Fc,lp,LE,VE,ME;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(c,m){if(m)e:{var v=i;c=c.split(".");for(var I=0;I<c.length-1;I++){var z=c[I];if(!(z in v))break e;v=v[z]}c=c[c.length-1],I=v[c],m=m(I),m!=I&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function a(c,m){c instanceof String&&(c+="");var v=0,I=!1,z={next:function(){if(!I&&v<c.length){var Q=v++;return{value:m(Q,c[Q]),done:!1}}return I=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function T(c,m,v){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,I),c.apply(m,z)}}return function(){return c.apply(m,arguments)}}function w(c,m,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,w.apply(null,arguments)}function k(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function D(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(I,z,Q){for(var oe=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)oe[Xe-2]=arguments[Xe];return m.prototype[z].apply(I,oe)}}function V(c){const m=c.length;if(0<m){const v=Array(m);for(let I=0;I<m;I++)v[I]=c[I];return v}return[]}function b(c,m){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(f(I)){const z=c.length||0,Q=I.length||0;c.length=z+Q;for(let oe=0;oe<Q;oe++)c[z+oe]=I[oe]}else c.push(I)}}class x{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function M(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var W=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function X(c,m,v){for(const I in c)m.call(v,c[I],I,c)}function A(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function S(c){const m={};for(const v in c)m[v]=c[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,m){let v,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(v in I)c[v]=I[v];for(let Q=0;Q<R.length;Q++)v=R[Q],Object.prototype.hasOwnProperty.call(I,v)&&(c[v]=I[v])}}function N(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function U(c){d.setTimeout(()=>{throw c},0)}function C(){var c=Ee;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class qe{constructor(){this.h=this.g=null}add(m,v){const I=ft.get();I.set(m,v),this.h?this.h.next=I:this.g=I,this.h=I}}var ft=new x(()=>new gt,c=>c.reset());class gt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,se=!1,Ee=new qe,le=()=>{const c=d.Promise.resolve(void 0);$e=()=>{c.then(j)}};var j=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){U(v)}var m=ft;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Oe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c}();function ke(c,m){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(W){e:{try{Z(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:De[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ke.aa.h.call(this)}}D(ke,ge);var De={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ye(c,m,v,I,z){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!I,this.ha=z,this.key=++je,this.da=this.fa=!1}function yt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mn(c){this.src=c,this.g={},this.h=0}mn.prototype.add=function(c,m,v,I,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=$n(c,m,I,z);return-1<oe?(m=c[oe],v||(m.fa=!1)):(m=new Ye(m,this.src,Q,!!I,z),m.fa=v,c.push(m)),m};function hi(c,m){var v=m.type;if(v in c.g){var I=c.g[v],z=Array.prototype.indexOf.call(I,m,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(I,z,1),Q&&(yt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function $n(c,m,v,I){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==m&&Q.capture==!!v&&Q.ha==I)return z}return-1}var Nr="closure_lm_"+(1e6*Math.random()|0),di={};function os(c,m,v,I,z){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)os(c,m[Q],v,I,z);return null}return v=_e(v),c&&c[Me]?c.K(m,v,y(I)?!!I.capture:!!I,z):as(c,m,v,!1,I,z)}function as(c,m,v,I,z,Q){if(!m)throw Error("Invalid event type");var oe=y(z)?!!z.capture:!!z,Xe=ae(c);if(Xe||(c[Nr]=Xe=new mn(c)),v=Xe.add(m,v,I,oe,Q),v.proxy)return v;if(I=so(),v.proxy=I,I.src=c,I.listener=v,c.addEventListener)Oe||(z=oe),z===void 0&&(z=!1),c.addEventListener(m.toString(),I,z);else if(c.attachEvent)c.attachEvent(zn(m.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function so(){function c(v){return m.call(c.src,c.listener,v)}const m=G;return c}function ur(c,m,v,I,z){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)ur(c,m[Q],v,I,z);else I=y(I)?!!I.capture:!!I,v=_e(v),c&&c[Me]?(c=c.i,m=String(m).toString(),m in c.g&&(Q=c.g[m],v=$n(Q,v,I,z),-1<v&&(yt(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[m],c.h--)))):c&&(c=ae(c))&&(m=c.g[m.toString()],c=-1,m&&(c=$n(m,v,I,z)),(v=-1<c?m[c]:null)&&jn(v))}function jn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Me])hi(m.i,c);else{var v=c.type,I=c.proxy;m.removeEventListener?m.removeEventListener(v,I,c.capture):m.detachEvent?m.detachEvent(zn(v),I):m.addListener&&m.removeListener&&m.removeListener(I),(v=ae(m))?(hi(v,c),v.h==0&&(v.src=null,m[Nr]=null)):yt(c)}}}function zn(c){return c in di?di[c]:di[c]="on"+c}function G(c,m){if(c.da)c=!0;else{m=new ke(m,this);var v=c.listener,I=c.ha||c.src;c.fa&&jn(c),c=v.call(I,m)}return c}function ae(c){return c=c[Nr],c instanceof mn?c:null}var fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(c){return typeof c=="function"?c:(c[fe]||(c[fe]=function(m){return c.handleEvent(m)}),c[fe])}function ve(){Y.call(this),this.i=new mn(this),this.M=this,this.F=null}D(ve,Y),ve.prototype[Me]=!0,ve.prototype.removeEventListener=function(c,m,v,I){ur(this,c,m,v,I)};function Ae(c,m){var v,I=c.F;if(I)for(v=[];I;I=I.F)v.push(I);if(c=c.M,I=m.type||m,typeof m=="string")m=new ge(m,c);else if(m instanceof ge)m.target=m.target||c;else{var z=m;m=new ge(I,c),O(m,z)}if(z=!0,v)for(var Q=v.length-1;0<=Q;Q--){var oe=m.g=v[Q];z=nt(oe,I,!0,m)&&z}if(oe=m.g=c,z=nt(oe,I,!0,m)&&z,z=nt(oe,I,!1,m)&&z,v)for(Q=0;Q<v.length;Q++)oe=m.g=v[Q],z=nt(oe,I,!1,m)&&z}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],I=0;I<v.length;I++)yt(v[I]);delete c.g[m],c.h--}}this.F=null},ve.prototype.K=function(c,m,v,I){return this.i.add(String(c),m,!1,v,I)},ve.prototype.L=function(c,m,v,I){return this.i.add(String(c),m,!0,v,I)};function nt(c,m,v,I){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,Q=0;Q<m.length;++Q){var oe=m[Q];if(oe&&!oe.da&&oe.capture==v){var Xe=oe.listener,St=oe.ha||oe.src;oe.fa&&hi(c.i,oe),z=Xe.call(St,I)!==!1&&z}}return z&&!I.defaultPrevented}function Xt(c,m,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(c,m||0)}function Rn(c){c.g=Xt(()=>{c.g=null,c.i&&(c.i=!1,Rn(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Bn extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Rn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(c){Y.call(this),this.h=c,this.g={}}D(Dr,Y);var fi=[];function ls(c){X(c.g,function(m,v){this.g.hasOwnProperty(v)&&jn(m)},c),c.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),ls(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ia=d.JSON.stringify,Sa=d.JSON.parse,Aa=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function us(){}us.prototype.h=null;function oo(c){return c.h||(c.h=c.i())}function ao(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){ge.call(this,"d")}D(cr,ge);function lo(){ge.call(this,"c")}D(lo,ge);var hr={},Ra=null;function cs(){return Ra=Ra||new ve}hr.La="serverreachability";function Ca(c){ge.call(this,hr.La,c)}D(Ca,ge);function Lr(c){const m=cs();Ae(m,new Ca(m))}hr.STAT_EVENT="statevent";function Pa(c,m){ge.call(this,hr.STAT_EVENT,c),this.stat=m}D(Pa,ge);function vt(c){const m=cs();Ae(m,new Pa(m,c))}hr.Ma="timingevent";function uo(c,m){ge.call(this,hr.Ma,c),this.size=m}D(uo,ge);function Hn(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function hs(){this.g=!0}hs.prototype.xa=function(){this.g=!1};function ds(c,m,v,I,z,Q){c.info(function(){if(c.g)if(Q)for(var oe="",Xe=Q.split("&"),St=0;St<Xe.length;St++){var ze=Xe[St].split("=");if(1<ze.length){var bt=ze[0];ze=ze[1];var wt=bt.split("_");oe=2<=wt.length&&wt[1]=="type"?oe+(bt+"="+ze+"&"):oe+(bt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+m+`
`+v+`
`+oe})}function co(c,m,v,I,z,Q,oe){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+m+`
`+v+`
`+Q+" "+oe})}function qn(c,m,v,I){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+$h(c,v)+(I?" "+I:"")})}function ka(c,m){c.info(function(){return"TIMEOUT: "+m})}hs.prototype.info=function(){};function $h(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var I=v[c];if(!(2>I.length)){var z=I[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<z.length;oe++)z[oe]=""}}}}return Ia(v)}catch{return m}}var ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ou={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function fs(){}D(fs,us),fs.prototype.g=function(){return new XMLHttpRequest},fs.prototype.i=function(){return{}},Wn=new fs;function Kn(c,m,v,I){this.j=c,this.i=m,this.l=v,this.R=I||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new au}function au(){this.i=null,this.g="",this.h=!1}var ba={},fo={};function po(c,m,v){c.L=1,c.v=vi(yn(m)),c.m=v,c.P=!0,xa(c,null)}function xa(c,m){c.F=Date.now(),Ze(c),c.A=yn(c.v);var v=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Ei(v.i,"t",I),c.C=0,v=c.j.J,c.h=new au,c.g=Au(c.j,v?m:null,!c.m),0<c.O&&(c.M=new Bn(w(c.Y,c,c.g),c.O)),m=c.U,v=c.g,I=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(fi[0]=z.toString()),z=fi);for(var Q=0;Q<z.length;Q++){var oe=os(v,z[Q],I||m.handleEvent,!1,m.h||m);if(!oe)break;m.g[oe.key]=oe}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Lr(),ds(c.i,c.u,c.A,c.l,c.R,c.m)}Kn.prototype.ca=function(c){c=c.target;const m=this.M;m&&sn(c)==3?m.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const wt=sn(this.g);var m=this.g.Ba();const bn=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Ma(this.g)))){this.J||wt!=4||m==7||(m==8||0>=bn?Lr(3):Lr(2)),ps(this);var v=this.g.Z();this.X=v;t:if(lu(this)){var I=Ma(this.g);c="";var z=I.length,Q=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),pi(this);var oe="";break t}this.h.i=new d.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,c+=this.h.i.decode(I[m],{stream:!(Q&&m==z-1)});I.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,co(this.i,this.u,this.A,this.l,this.R,wt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,St=this.g;if((Xe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Xe)){var ze=Xe;break t}}ze=null}if(v=ze)qn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oa(this,v);else{this.o=!1,this.s=3,vt(12),Pn(this),pi(this);break e}}if(this.P){v=!0;let _n;for(;!this.J&&this.C<oe.length;)if(_n=jh(this,oe),_n==fo){wt==4&&(this.s=4,vt(14),v=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==ba){this.s=4,vt(15),qn(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else qn(this.i,this.l,_n,null),Oa(this,_n);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||oe.length!=0||this.h.h||(this.s=1,vt(16),v=!1),this.o=this.o&&v,!v)qn(this.i,this.l,oe,"[Invalid Chunked Response]"),Pn(this),pi(this);else if(0<oe.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ua(bt),bt.M=!0,vt(11))}}else qn(this.i,this.l,oe,null),Oa(this,oe);wt==4&&Pn(this),this.o&&!this.J&&(wt==4?Ao(this.j,this):(this.o=!1,Ze(this)))}else Eo(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Pn(this),pi(this)}}}catch{}finally{}};function lu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function jh(c,m){var v=c.C,I=m.indexOf(`
`,v);return I==-1?fo:(v=Number(m.substring(v,I)),isNaN(v)?ba:(I+=1,I+v>m.length?fo:(m=m.slice(I,I+v),c.C=I+v,m)))}Kn.prototype.cancel=function(){this.J=!0,Pn(this)};function Ze(c){c.S=Date.now()+c.I,uu(c,c.I)}function uu(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Hn(w(c.ba,c),m)}function ps(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Kn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ka(this.i,this.A),this.L!=2&&(Lr(),vt(17)),Pn(this),this.s=2,pi(this)):uu(this,this.S-c)};function pi(c){c.j.G==0||c.J||Ao(c.j,c)}function Pn(c){ps(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,ls(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Oa(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||Jt(v.h,c))){if(!c.K&&Jt(v.h,c)&&v.G==3){try{var I=v.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)So(v),Jn(v);else break e;Io(v),vt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Hn(w(v.Za,v),6e3));if(1>=hu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else $r(v,11)}else if((c.K||v.g==c)&&So(v),!M(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let ze=z[m];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const bt=ze[3];bt!=null&&(v.la=bt,v.j.info("VER="+v.la));const wt=ze[4];wt!=null&&(v.Aa=wt,v.j.info("SVER="+v.Aa));const bn=ze[5];bn!=null&&typeof bn=="number"&&0<bn&&(I=1.5*bn,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const _n=c.g;if(_n){const ws=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var Q=I.h;Q.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Na(Q,Q.h),Q.h=null))}if(I.D){const Co=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(I.ya=Co,Je(I.I,I.D,Co))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var oe=c;if(I.qa=Su(I,I.J?I.ia:null,I.W),oe.K){du(I.h,oe);var Xe=oe,St=I.L;St&&(Xe.I=St),Xe.B&&(ps(Xe),Ze(Xe)),I.g=oe}else Es(I);0<v.i.length&&mr(v)}else ze[0]!="stop"&&ze[0]!="close"||$r(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?$r(v,7):Mt(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}Lr(4)}catch{}}var cu=class{constructor(c,m){this.g=c,this.map=m}};function ms(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hu(c){return c.h?1:c.g?c.g.size:0}function Jt(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Na(c,m){c.g?c.g.add(m):c.h=m}function du(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ms.prototype.cancel=function(){if(this.i=fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return V(c.i)}function mo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var m=[],v=c.length,I=0;I<v;I++)m.push(c[I]);return m}m=[],v=0;for(I in c)m[v++]=c[I];return m}function go(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const I in c)m[v++]=I;return m}}}function mi(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=go(c),I=mo(c),z=I.length,Q=0;Q<z;Q++)m.call(void 0,I[Q],v&&v[Q],c)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zh(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var I=c[v].indexOf("="),z=null;if(0<=I){var Q=c[v].substring(0,I);z=c[v].substring(I+1)}else Q=c[v];m(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Vr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vr){this.h=c.h,ys(this,c.j),this.o=c.o,this.g=c.g,gi(this,c.s),this.l=c.l;var m=c.i,v=new dr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),yi(this,v),this.m=c.m}else c&&(m=String(c).match(gs))?(this.h=!1,ys(this,m[1]||"",!0),this.o=Fe(m[2]||""),this.g=Fe(m[3]||"",!0),gi(this,m[4]),this.l=Fe(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=Fe(m[7]||"")):(this.h=!1,this.i=new dr(null,this.h))}Vr.prototype.toString=function(){var c=[],m=this.j;m&&c.push(_i(m,yo,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(_i(m,yo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(_i(v,v.charAt(0)=="/"?gu:mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",_i(v,Da)),c.join("")};function yn(c){return new Vr(c)}function ys(c,m,v){c.j=v?Fe(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function gi(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function yi(c,m,v){m instanceof dr?(c.i=m,fr(c.i,c.h)):(v||(m=_i(m,yu)),c.i=new dr(m,c.h))}function Je(c,m,v){c.i.set(m,v)}function vi(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fe(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _i(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,pu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yo=/[#\/\?@]/g,mu=/[#\?:]/g,gu=/[#\?]/g,yu=/[#\?@]/g,Da=/#/g;function dr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Vt(c){c.g||(c.g=new Map,c.h=0,c.i&&zh(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=dr.prototype,n.add=function(c,m){Vt(this),this.i=null,c=kn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Gn(c,m){Vt(c),m=kn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Qn(c,m){return Vt(c),m=kn(c,m),c.g.has(m)}n.forEach=function(c,m){Vt(this),this.g.forEach(function(v,I){v.forEach(function(z){c.call(m,z,I,this)},this)},this)},n.na=function(){Vt(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let I=0;I<m.length;I++){const z=c[I];for(let Q=0;Q<z.length;Q++)v.push(m[I])}return v},n.V=function(c){Vt(this);let m=[];if(typeof c=="string")Qn(this,c)&&(m=m.concat(this.g.get(kn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},n.set=function(c,m){return Vt(this),this.i=null,c=kn(this,c),Qn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},n.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Ei(c,m,v){Gn(c,m),0<v.length&&(c.i=null,c.g.set(kn(c,m),V(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var I=m[v];const Q=encodeURIComponent(String(I)),oe=this.V(I);for(I=0;I<oe.length;I++){var z=Q;oe[I]!==""&&(z+="="+encodeURIComponent(String(oe[I]))),c.push(z)}}return this.i=c.join("&")};function kn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function fr(c,m){m&&!c.j&&(Vt(c),c.i=null,c.g.forEach(function(v,I){var z=I.toLowerCase();I!=z&&(Gn(this,I),Ei(this,z,v))},c)),c.j=m}function Bh(c,m){const v=new hs;if(d.Image){const I=new Image;I.onload=k(rn,v,"TestLoadImage: loaded",!0,m,I),I.onerror=k(rn,v,"TestLoadImage: error",!1,m,I),I.onabort=k(rn,v,"TestLoadImage: abort",!1,m,I),I.ontimeout=k(rn,v,"TestLoadImage: timeout",!1,m,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else m(!1)}function vu(c,m){const v=new hs,I=new AbortController,z=setTimeout(()=>{I.abort(),rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:I.signal}).then(Q=>{clearTimeout(z),Q.ok?rn(v,"TestPingServer: ok",!0,m):rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),rn(v,"TestPingServer: error",!1,m)})}function rn(c,m,v,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(v)}catch{}}function Hh(){this.g=new Aa}function _u(c,m,v){const I=v||"";try{mi(c,function(z,Q){let oe=z;y(z)&&(oe=Ia(z)),m.push(I+Q+"="+encodeURIComponent(oe))})}catch(z){throw m.push(I+"type="+encodeURIComponent("_badmap")),z}}function Mr(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Mr,us),Mr.prototype.g=function(){return new vs(this.l,this.j)},Mr.prototype.i=function(c){return function(){return c}}({});function vs(c,m){ve.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(vs,ve),n=vs.prototype,n.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Xn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Yn(this):Xn(this),this.readyState==3&&Eu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},n.Qa=function(c){this.g&&(this.response=c,Yn(this))},n.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}n.setRequestHeader=function(c,m){this.u.append(c,m)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fr(c){let m="";return X(c,function(v,I){m+=I,m+=":",m+=v,m+=`\r
`}),m}function wi(c,m,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=Fr(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Je(c,m,v))}function at(c){ve.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(at,ve);var qh=/^https?$/i,La=["POST","PUT"];n=at.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,m,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?oo(this.o):oo(Wn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(Q){_s(this,Q);return}if(c=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)v.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Q of I.keys())v.set(Q,I.get(Q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(La,m,void 0))||I||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of v)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_o(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){_s(this,Q)}};function _s(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,vo(c),vn(c)}function vo(c){c.A||(c.A=!0,Ae(c,"complete"),Ae(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ae(this,"complete"),Ae(this,"abort"),vn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vn(this,!0)),at.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},n.bb=function(){Va(this)};function Va(c){if(c.h&&typeof u<"u"&&(!c.v[1]||sn(c)!=4||c.Z()!=2)){if(c.u&&sn(c)==4)Xt(c.Ea,0,c);else if(Ae(c,"readystatechange"),sn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var I;if(I=oe===0){var z=String(c.D).match(gs)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),I=!qh.test(z?z.toLowerCase():"")}v=I}if(v)Ae(c,"complete"),Ae(c,"success");else{c.m=6;try{var Q=2<sn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",vo(c)}}finally{vn(c)}}}}function vn(c,m){if(c.g){_o(c);const v=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Ae(c,"ready");try{v.onreadystatechange=I}catch{}}}function _o(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function sn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Sa(m)}};function Ma(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(c){const m={};c=(c.g&&2<=sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(M(c[I]))continue;var v=N(c[I]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=m[z]||[];m[z]=Q,Q.push(v)}A(m,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pr(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Fa(c){this.Aa=0,this.i=[],this.j=new hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pr("baseRetryDelayMs",5e3,c),this.cb=pr("retryDelaySeedMs",1e4,c),this.Wa=pr("forwardChannelMaxRetries",2,c),this.wa=pr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ms(c&&c.concurrentRequestLimit),this.Da=new Hh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fa.prototype,n.la=8,n.G=1,n.connect=function(c,m,v,I){vt(0),this.W=c,this.H=m||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=Su(this,null,this.W),mr(this)};function Mt(c){if(wo(c),c.G==3){var m=c.U++,v=yn(c.I);if(Je(v,"SID",c.K),Je(v,"RID",m),Je(v,"TYPE","terminate"),Ur(c,v),m=new Kn(c,c.j,m),m.L=2,m.v=vi(yn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ze(m)}Iu(c)}function Jn(c){c.g&&(Ua(c),c.g.cancel(),c.g=null)}function wo(c){Jn(c),c.u&&(d.clearTimeout(c.u),c.u=null),So(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function mr(c){if(!gn(c.h)&&!c.s){c.s=!0;var m=c.Ga;$e||le(),se||($e(),se=!0),Ee.add(m,c),c.B=0}}function Wh(c,m){return hu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Hn(w(c.Ga,c,m),Tu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Kn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=S(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ti(this,z,m),v=yn(this.I),Je(v,"RID",c),Je(v,"CVER",22),this.D&&Je(v,"X-HTTP-Session-Id",this.D),Ur(this,v),Q&&(this.O?m="headers="+encodeURIComponent(String(Fr(Q)))+"&"+m:this.m&&wi(v,this.m,Q)),Na(this.h,z),this.Ua&&Je(v,"TYPE","init"),this.P?(Je(v,"$req",m),Je(v,"SID","null"),z.T=!0,po(z,v,null)):po(z,v,m),this.G=2}}else this.G==3&&(c?To(this,c):this.i.length==0||gn(this.h)||To(this))};function To(c,m){var v;m?v=m.l:v=c.U++;const I=yn(c.I);Je(I,"SID",c.K),Je(I,"RID",v),Je(I,"AID",c.T),Ur(c,I),c.m&&c.o&&wi(I,c.m,c.o),v=new Kn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Ti(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Na(c.h,v),po(v,I,m)}function Ur(c,m){c.H&&X(c.H,function(v,I){Je(m,I,v)}),c.l&&mi({},function(v,I){Je(m,I,v)})}function Ti(c,m,v){v=Math.min(c.i.length,v);var I=c.l?w(c.l.Na,c.l,c):null;e:{var z=c.i;let Q=-1;for(;;){const oe=["count="+v];Q==-1?0<v?(Q=z[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let Xe=!0;for(let St=0;St<v;St++){let ze=z[St].g;const bt=z[St].map;if(ze-=Q,0>ze)Q=Math.max(0,z[St].g-100),Xe=!1;else try{_u(bt,oe,"req"+ze+"_")}catch{I&&I(bt)}}if(Xe){I=oe.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,I}function Es(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;$e||le(),se||($e(),se=!0),Ee.add(m,c),c.v=0}}function Io(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Hn(w(c.Fa,c),Tu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Hn(w(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Jn(this),wu(this))};function Ua(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function wu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=yn(c.qa);Je(m,"RID","rpc"),Je(m,"SID",c.K),Je(m,"AID",c.T),Je(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(m,"TO",c.ja),Je(m,"TYPE","xmlhttp"),Ur(c,m),c.m&&c.o&&wi(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=vi(yn(m)),v.m=null,v.P=!0,xa(v,c)}n.Za=function(){this.C!=null&&(this.C=null,Jn(this),Io(this),vt(19))};function So(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Ao(c,m){var v=null;if(c.g==m){So(c),Ua(c),c.g=null;var I=2}else if(Jt(c.h,m))v=m.D,du(c.h,m),I=1;else return;if(c.G!=0){if(m.o)if(I==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=c.B;I=cs(),Ae(I,new uo(I,v)),mr(c)}else Es(c);else if(z=m.s,z==3||z==0&&0<m.X||!(I==1&&Wh(c,m)||I==2&&Io(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),z){case 1:$r(c,5);break;case 4:$r(c,10);break;case 3:$r(c,6);break;default:$r(c,2)}}}function Tu(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function $r(c,m){if(c.j.info("Error code "+m),m==2){var v=w(c.fb,c),I=c.Xa;const z=!I;I=new Vr(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ys(I,"https"),vi(I),z?Bh(I.toString(),v):vu(I.toString(),v)}else vt(2);c.G=0,c.l&&c.l.sa(m),Iu(c),wo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Iu(c){if(c.G=0,c.ka=[],c.l){const m=fu(c.h);(m.length!=0||c.i.length!=0)&&(b(c.ka,m),b(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function Su(c,m,v){var I=v instanceof Vr?yn(v):new Vr(v);if(I.g!="")m&&(I.g=m+"."+I.g),gi(I,I.s);else{var z=d.location;I=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var Q=new Vr(null);I&&ys(Q,I),m&&(Q.g=m),z&&gi(Q,z),v&&(Q.l=v),I=Q}return v=c.D,m=c.ya,v&&m&&Je(I,v,m),Je(I,"VER",c.la),Ur(c,I),I}function Au(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new at(new Mr({eb:v})):new at(c.pa),m.Ha(c.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $a(){}n=$a.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ro(){}Ro.prototype.g=function(c,m){return new Zt(c,m)};function Zt(c,m){ve.call(this),this.g=new Fa(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!M(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!M(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new gr(this)}D(Zt,ve),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Mt(this.g)},Zt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ia(c),c=v);m.i.push(new cu(m.Ya++,c)),m.G==3&&mr(m)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,Zt.aa.N.call(this)};function Ru(c){cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}D(Ru,cr);function Cu(){lo.call(this),this.status=1}D(Cu,lo);function gr(c){this.g=c}D(gr,$a),gr.prototype.ua=function(){Ae(this.g,"a")},gr.prototype.ta=function(c){Ae(this.g,new Ru(c))},gr.prototype.sa=function(c){Ae(this.g,new Cu)},gr.prototype.ra=function(){Ae(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,ME=function(){return new Ro},VE=function(){return cs()},LE=hr,lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ho.NO_ERROR=0,ho.TIMEOUT=8,ho.HTTP_ERROR=6,Fc=ho,ou.COMPLETE="complete",DE=ou,ao.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",ve.prototype.listen=ve.prototype.K,gl=ao,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,NE=at}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const o_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Fp("@firebase/firestore");function Qo(){return Gs.logLevel}function ce(n,...e){if(Gs.logLevel<=Le.DEBUG){const t=e.map(Yp);Gs.debug(`Firestore (${ya}): ${n}`,...t)}}function oi(n,...e){if(Gs.logLevel<=Le.ERROR){const t=e.map(Yp);Gs.error(`Firestore (${ya}): ${n}`,...t)}}function aa(n,...e){if(Gs.logLevel<=Le.WARN){const t=e.map(Yp);Gs.warn(`Firestore (${ya}): ${n}`,...t)}}function Yp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n="Unexpected state"){const e=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+n;throw oi(e),new Error(e)}function Qe(n,e){n||Pe()}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class Jx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Zx{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Gi,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Gi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string"),new FE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Gt(e)}}class e2{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class t2{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new e2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const i=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new n2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=i2(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Ue(n,e){return n<e?-1:n>e?1:0}function la(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Pt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Pt(0,0))}static max(){return new be(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Pe(),i===void 0?i=e.length-t:i>e.length-t&&Pe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Nl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mt extends Nl{construct(e,t,i){return new mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ie(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new mt(t)}static emptyPath(){return new mt([])}}const s2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Nl{construct(e,t,i){return new jt(e,t,i)}static isValidIdentifier(e){return s2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Ie(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Ie(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ie(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(i+=d,o++):(a(),o++)}if(a(),u)throw new Ie(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(mt.fromString(e))}static fromName(e){return new Se(mt.fromString(e).popFirst(5))}static empty(){return new Se(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new mt(e.slice()))}}function o2(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=be.fromTimestamp(i===1e9?new Pt(t+1,0):new Pt(t,i));return new Yi(o,Se.empty(),e)}function a2(n){return new Yi(n.readTime,n.key,-1)}class Yi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Yi(be.min(),Se.empty(),-1)}static max(){return new Yi(be.max(),Se.empty(),-1)}}function l2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==u2)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,i)=>{t(e)})}static reject(e){return new J((t,i)=>{i(e)})}static waitFor(e){return new J((t,i)=>{let o=0,a=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++a,u&&a===o&&t()},f=>i(f))}),u=!0,a===o&&t()})}static or(e){let t=J.resolve(!1);for(const i of e)t=t.next(o=>o?J.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new J((i,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const y=f;t(e[y]).next(_=>{u[y]=_,++d,d===a&&i(u)},_=>o(_))}})}static doWhile(e,t){return new J((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function h2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _a(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Rh.oe=-1;function Ch(n){return n==null}function nh(n){return n===0&&1/n==-1/0}function d2(n){return typeof n=="number"&&Number.isInteger(n)&&!nh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=a_(e)),e=p2(n.get(t),e);return a_(e)}function p2(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function a_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function eo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $E(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??$t.RED,this.left=o??$t.EMPTY,this.right=a??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new $t(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,t,i,o,a){return this}insert(e,t,i){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new u_(this.data.getIterator())}getIteratorFrom(e){return new u_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class u_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new or([])}unionWith(e){let t=new kt(jt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new jE("Invalid base64 string: "+a):a}}(e);return new zt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const m2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=m2.exec(n);if(Qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ji(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Ph(n){const e=n.mapValue.fields.__previous_value__;return Xp(e)?Ph(e):e}function Dl(n){const e=Xi(n.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,t,i,o,a,u,d,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=y}}class Ll{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xp(n)?4:v2(n)?9007199254740991:y2(n)?10:11:Pe()}function Pr(n,e){if(n===e)return!0;const t=Zi(n);if(t!==Zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dl(n).isEqual(Dl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Xi(o.timestampValue),d=Xi(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ji(o.bytesValue).isEqual(Ji(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Et(o.geoPointValue.latitude)===Et(a.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Et(o.integerValue)===Et(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Et(o.doubleValue),d=Et(a.doubleValue);return u===d?nh(u)===nh(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return la(n.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(l_(u)!==l_(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Pr(u[f],d[f])))return!1;return!0}(n,e);default:return Pe()}}function Vl(n,e){return(n.values||[]).find(t=>Pr(t,e))!==void 0}function ua(n,e){if(n===e)return 0;const t=Zi(n),i=Zi(e);if(t!==i)return Ue(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=Et(a.integerValue||a.doubleValue),f=Et(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return c_(n.timestampValue,e.timestampValue);case 4:return c_(Dl(n),Dl(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(a,u){const d=Ji(a),f=Ji(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let y=0;y<d.length&&y<f.length;y++){const _=Ue(d[y],f[y]);if(_!==0)return _}return Ue(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Ue(Et(a.latitude),Et(u.latitude));return d!==0?d:Ue(Et(a.longitude),Et(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return h_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,y,_;const T=a.fields||{},w=u.fields||{},k=(d=T.value)===null||d===void 0?void 0:d.arrayValue,D=(f=w.value)===null||f===void 0?void 0:f.arrayValue,V=Ue(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0);return V!==0?V:h_(k,D)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Pc.mapValue&&u===Pc.mapValue)return 0;if(a===Pc.mapValue)return 1;if(u===Pc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),y=u.fields||{},_=Object.keys(y);f.sort(),_.sort();for(let T=0;T<f.length&&T<_.length;++T){const w=Ue(f[T],_[T]);if(w!==0)return w;const k=ua(d[f[T]],y[_[T]]);if(k!==0)return k}return Ue(f.length,_.length)}(n.mapValue,e.mapValue);default:throw Pe()}}function c_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Xi(n),i=Xi(e),o=Ue(t.seconds,i.seconds);return o!==0?o:Ue(t.nanos,i.nanos)}function h_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=ua(t[o],i[o]);if(a)return a}return Ue(t.length,i.length)}function ca(n){return up(n)}function up(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Xi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ji(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=up(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${up(t.fields[u])}`;return o+"}"}(n.mapValue):Pe()}function Uc(n){switch(Zi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(n);return e?16+Uc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ji(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Uc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return eo(i.fields,(a,u)=>{o+=a.length+Uc(u)}),o}(n.mapValue);default:throw Pe()}}function cp(n){return!!n&&"integerValue"in n}function Jp(n){return!!n&&"arrayValue"in n}function d_(n){return!!n&&"nullValue"in n}function f_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $c(n){return!!n&&"mapValue"in n}function y2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return eo(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Tl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function v2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$c(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(t)}setAll(e){let t=jt.emptyPath(),i={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=d.popLast()}u?i[d.lastSegment()]=Tl(u):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());$c(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];$c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){eo(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Fn(Tl(this.value))}}function zE(n){const e=[];return eo(n.fields,(t,i)=>{const o=new jt([t]);if($c(i)){const a=zE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,i,o,a,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Qt(e,0,be.min(),be.min(),be.min(),Fn.empty(),0)}static newFoundDocument(e,t,i,o){return new Qt(e,1,t,be.min(),i,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,be.min(),be.min(),Fn.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,be.min(),be.min(),Fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t){this.position=e,this.inclusive=t}}function p_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=Se.comparator(Se.fromName(u.referenceValue),t.key):i=ua(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function m_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t="asc"){this.field=e,this.dir=t}}function _2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{}class Ct extends BE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new w2(e,t,i):t==="array-contains"?new S2(e,i):t==="in"?new A2(e,i):t==="not-in"?new R2(e,i):t==="array-contains-any"?new C2(e,i):new Ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new T2(e,i):new I2(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ua(t,this.value)):t!==null&&Zi(this.value)===Zi(t)&&this.matchesComparison(ua(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends BE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new kr(e,t)}matches(e){return HE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function HE(n){return n.op==="and"}function qE(n){return E2(n)&&HE(n)}function E2(n){for(const e of n.filters)if(e instanceof kr)return!1;return!0}function hp(n){if(n instanceof Ct)return n.field.canonicalString()+n.op.toString()+ca(n.value);if(qE(n))return n.filters.map(e=>hp(e)).join(",");{const e=n.filters.map(t=>hp(t)).join(",");return`${n.op}(${e})`}}function WE(n,e){return n instanceof Ct?function(i,o){return o instanceof Ct&&i.op===o.op&&i.field.isEqual(o.field)&&Pr(i.value,o.value)}(n,e):n instanceof kr?function(i,o){return o instanceof kr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,d)=>a&&WE(u,o.filters[d]),!0):!1}(n,e):void Pe()}function KE(n){return n instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${ca(t.value)}`}(n):n instanceof kr?function(t){return t.op.toString()+" {"+t.getFilters().map(KE).join(" ,")+"}"}(n):"Filter"}class w2 extends Ct{constructor(e,t,i){super(e,t,i),this.key=Se.fromName(i.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class T2 extends Ct{constructor(e,t){super(e,"in",t),this.keys=GE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class I2 extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=GE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function GE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Se.fromName(i.referenceValue))}class S2 extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jp(t)&&Vl(t.arrayValue,this.value)}}class A2 extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Vl(this.value.arrayValue,t)}}class R2 extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Vl(this.value.arrayValue,t)}}class C2 extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Vl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,t=null,i=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.ue=null}}function g_(n,e=null,t=[],i=[],o=null,a=null,u=null){return new P2(n,e,t,i,o,a,u)}function Zp(n){const e=xe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>hp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ca(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ca(i)).join(",")),e.ue=t}return e.ue}function em(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!WE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!m_(n.startAt,e.startAt)&&m_(n.endAt,e.endAt)}function dp(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t=null,i=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function k2(n,e,t,i,o,a,u,d){return new kh(n,e,t,i,o,a,u,d)}function tm(n){return new kh(n)}function y_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function b2(n){return n.collectionGroup!==null}function Il(n){const e=xe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new kt(jt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new ih(a,i))}),t.has(jt.keyField().canonicalString())||e.ce.push(new ih(jt.keyField(),i))}return e.ce}function Ar(n){const e=xe(n);return e.le||(e.le=x2(e,Il(n))),e.le}function x2(n,e){if(n.limitType==="F")return g_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new ih(o.field,a)});const t=n.endAt?new rh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new rh(n.startAt.position,n.startAt.inclusive):null;return g_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function fp(n,e,t){return new kh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bh(n,e){return em(Ar(n),Ar(e))&&n.limitType===e.limitType}function QE(n){return`${Zp(Ar(n))}|lt:${n.limitType}`}function Yo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>KE(o)).join(", ")}]`),Ch(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ca(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ca(o)).join(",")),`Target(${i})`}(Ar(n))}; limitType=${n.limitType})`}function xh(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Se.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Il(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,d,f){const y=p_(u,d,f);return u.inclusive?y<=0:y<0}(i.startAt,Il(i),o)||i.endAt&&!function(u,d,f){const y=p_(u,d,f);return u.inclusive?y>=0:y>0}(i.endAt,Il(i),o))}(n,e)}function O2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YE(n){return(e,t)=>{let i=!1;for(const o of Il(n)){const a=N2(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function N2(n,e,t){const i=n.field.isKeyField()?Se.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),y=d.data.field(a);return f!==null&&y!==null?ua(f,y):Pe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return $E(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new dt(Se.comparator);function ai(){return D2}const XE=new dt(Se.comparator);function yl(...n){let e=XE;for(const t of n)e=e.insert(t.key,t);return e}function JE(n){let e=XE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Fs(){return Sl()}function ZE(){return Sl()}function Sl(){return new to(n=>n.toString(),(n,e)=>n.isEqual(e))}const L2=new dt(Se.comparator),V2=new kt(Se.comparator);function Ve(...n){let e=V2;for(const t of n)e=e.add(t);return e}const M2=new kt(Ue);function F2(){return M2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function ew(n){return{integerValue:""+n}}function U2(n,e){return d2(e)?ew(e):nm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this._=void 0}}function $2(n,e,t){return n instanceof sh?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Xp(a)&&(a=Ph(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Ml?nw(n,e):n instanceof Fl?rw(n,e):function(o,a){const u=tw(o,a),d=v_(u)+v_(o.Pe);return cp(u)&&cp(o.Pe)?ew(d):nm(o.serializer,d)}(n,e)}function j2(n,e,t){return n instanceof Ml?nw(n,e):n instanceof Fl?rw(n,e):t}function tw(n,e){return n instanceof oh?function(i){return cp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class sh extends Oh{}class Ml extends Oh{constructor(e){super(),this.elements=e}}function nw(n,e){const t=iw(e);for(const i of n.elements)t.some(o=>Pr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Fl extends Oh{constructor(e){super(),this.elements=e}}function rw(n,e){let t=iw(e);for(const i of n.elements)t=t.filter(o=>!Pr(o,i));return{arrayValue:{values:t}}}class oh extends Oh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function v_(n){return Et(n.integerValue||n.doubleValue)}function iw(n){return Jp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function z2(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Ml&&o instanceof Ml||i instanceof Fl&&o instanceof Fl?la(i.elements,o.elements,Pr):i instanceof oh&&o instanceof oh?Pr(i.Pe,o.Pe):i instanceof sh&&o instanceof sh}(n.transform,e.transform)}class B2{constructor(e,t){this.version=e,this.transformResults=t}}class ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Nh{}function sw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new aw(n.key,ti.none()):new Zl(n.key,n.data,ti.none());{const t=n.data,i=Fn.empty();let o=new kt(jt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new no(n.key,i,new or(o.toArray()),ti.none())}}function H2(n,e,t){n instanceof Zl?function(o,a,u){const d=o.value.clone(),f=E_(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof no?function(o,a,u){if(!jc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=E_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(ow(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Al(n,e,t,i){return n instanceof Zl?function(a,u,d,f){if(!jc(a.precondition,u))return d;const y=a.value.clone(),_=w_(a.fieldTransforms,f,u);return y.setAll(_),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof no?function(a,u,d,f){if(!jc(a.precondition,u))return d;const y=w_(a.fieldTransforms,f,u),_=u.data;return _.setAll(ow(a)),_.setAll(y),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(a,u,d){return jc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function q2(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=tw(i.transform,o||null);a!=null&&(t===null&&(t=Fn.empty()),t.set(i.field,a))}return t||null}function __(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&la(i,o,(a,u)=>z2(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Zl extends Nh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class no extends Nh{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ow(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function E_(n,e,t){const i=new Map;Qe(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);i.set(a.field,j2(u,d,t[o]))}return i}function w_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,$2(a,u,e))}return i}class aw extends Nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W2 extends Nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&H2(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Al(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Al(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ZE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=sw(u,d);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(be.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(t,i)=>__(t,i))&&la(this.baseMutations,e.baseMutations,(t,i)=>__(t,i))}}class rm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Qe(e.mutations.length===i.length);let o=function(){return L2}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new rm(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Be;function Y2(n){switch(n){default:return Pe();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function lw(n){if(n===void 0)return oi("GRPC error has no .code"),re.UNKNOWN;switch(n){case It.OK:return re.OK;case It.CANCELLED:return re.CANCELLED;case It.UNKNOWN:return re.UNKNOWN;case It.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case It.INTERNAL:return re.INTERNAL;case It.UNAVAILABLE:return re.UNAVAILABLE;case It.UNAUTHENTICATED:return re.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case It.NOT_FOUND:return re.NOT_FOUND;case It.ALREADY_EXISTS:return re.ALREADY_EXISTS;case It.PERMISSION_DENIED:return re.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case It.ABORTED:return re.ABORTED;case It.OUT_OF_RANGE:return re.OUT_OF_RANGE;case It.UNIMPLEMENTED:return re.UNIMPLEMENTED;case It.DATA_LOSS:return re.DATA_LOSS;default:return Pe()}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new zs([4294967295,4294967295],0);function T_(n){const e=X2().encode(n),t=new OE;return t.update(e),new Uint8Array(t.digest())}function I_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new zs([t,i],0),new zs([o,a],0)]}class im{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new vl(`Invalid padding: ${t}`);if(i<0)throw new vl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new vl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=zs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(zs.fromNumber(i)));return o.compare(J2)===1&&(o=new zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=T_(e),[i,o]=I_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);if(!this.de(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new im(a,o,t);return i.forEach(d=>u.insert(d)),u}insert(e){if(this.Te===0)return;const t=T_(e),[i,o]=I_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Dh(be.min(),o,new dt(Ue),ai(),Ve())}}class eu{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new eu(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class uw{constructor(e,t){this.targetId=e,this.me=t}}class cw{constructor(e,t,i=zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class S_{constructor(){this.fe=0,this.ge=A_(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),t=Ve(),i=Ve();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Pe()}}),new eu(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=A_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Z2{constructor(e){this.Le=e,this.Be=new Map,this.ke=ai(),this.qe=kc(),this.Qe=kc(),this.Ke=new dt(Ue)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Pe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(dp(a))if(i===0){const u=new Se(a.path);this.We(t,u,Qt.newNoDocument(u,be.min()))}else Qe(i===1);else{const u=this.Ze(t);if(u!==i){const d=this.Xe(e),f=d?this.et(d,e,u):1;if(f!==0){this.He(t);const y=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=Ji(i).toUint8Array()}catch(f){if(f instanceof jE)return aa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new im(u,o,a)}catch(f){return aa(f instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.Le.nt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,u)=>{const d=this.Ye(u);if(d){if(a.current&&dp(d.target)){const f=new Se(d.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,Qt.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let i=Ve();this.Qe.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const y=this.Ye(f);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new Dh(e,t,this.Ke,this.ke,i);return this.ke=ai(),this.qe=kc(),this.Qe=kc(),this.Ke=new dt(Ue),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new S_,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new kt(Ue),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new kt(Ue),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new S_),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function kc(){return new dt(Se.comparator)}function A_(){return new dt(Se.comparator)}const eO={asc:"ASCENDING",desc:"DESCENDING"},tO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nO={and:"AND",or:"OR"};class rO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pp(n,e){return n.useProto3Json||Ch(e)?e:{value:e}}function ah(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function iO(n,e){return ah(n,e.toTimestamp())}function Rr(n){return Qe(!!n),be.fromTimestamp(function(t){const i=Xi(t);return new Pt(i.seconds,i.nanos)}(n))}function sm(n,e){return mp(n,e).canonicalString()}function mp(n,e){const t=function(o){return new mt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function dw(n){const e=mt.fromString(n);return Qe(yw(e)),e}function gp(n,e){return sm(n.databaseId,e.path)}function Lf(n,e){const t=dw(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(pw(t))}function fw(n,e){return sm(n.databaseId,e)}function sO(n){const e=dw(n);return e.length===4?mt.emptyPath():pw(e)}function yp(n){return new mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pw(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function R_(n,e,t){return{name:gp(n,e),fields:t.value.mapValue.fields}}function oO(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,_){return y.useProto3Json?(Qe(_===void 0||typeof _=="string"),zt.fromBase64String(_||"")):(Qe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),zt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(y){const _=y.code===void 0?re.UNKNOWN:lw(y.code);return new Ie(_,y.message||"")}(u);t=new cw(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Lf(n,i.document.name),a=Rr(i.document.updateTime),u=i.document.createTime?Rr(i.document.createTime):be.min(),d=new Fn({mapValue:{fields:i.document.fields}}),f=Qt.newFoundDocument(o,a,u,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new zc(y,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Lf(n,i.document),a=i.readTime?Rr(i.readTime):be.min(),u=Qt.newNoDocument(o,a),d=i.removedTargetIds||[];t=new zc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Lf(n,i.document),a=i.removedTargetIds||[];t=new zc([],a,o,null)}else{if(!("filter"in e))return Pe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new Q2(o,a),d=i.targetId;t=new uw(d,u)}}return t}function aO(n,e){let t;if(e instanceof Zl)t={update:R_(n,e.key,e.value)};else if(e instanceof aw)t={delete:gp(n,e.key)};else if(e instanceof no)t={update:R_(n,e.key,e.data),updateMask:gO(e.fieldMask)};else{if(!(e instanceof W2))return Pe();t={verify:gp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const d=u.transform;if(d instanceof sh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ml)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Fl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof oh)return{fieldPath:u.field.canonicalString(),increment:d.Pe};throw Pe()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:iO(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe()}(n,e.precondition)),t}function lO(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Rr(o.updateTime):Rr(a);return u.isEqual(be.min())&&(u=Rr(a)),new B2(u,o.transformResults||[])}(t,e))):[]}function uO(n,e){return{documents:[fw(n,e.path)]}}function cO(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=fw(n,o);const a=function(y){if(y.length!==0)return gw(kr.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(y){if(y.length!==0)return y.map(_=>function(w){return{field:Xo(w.field),direction:fO(w.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=pp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function hO(n){let e=sO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Qe(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(T){const w=mw(T);return w instanceof kr&&qE(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(T){return T.map(w=>function(D){return new ih(Jo(D.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(T){let w;return w=typeof T=="object"?T.value:T,Ch(w)?null:w}(t.limit));let f=null;t.startAt&&(f=function(T){const w=!!T.before,k=T.values||[];return new rh(k,w)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const w=!T.before,k=T.values||[];return new rh(k,w)}(t.endAt)),k2(e,o,u,a,d,"F",f,y)}function dO(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Jo(t.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Jo(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Jo(t.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Jo(t.unaryFilter.field);return Ct.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(n):n.fieldFilter!==void 0?function(t){return Ct.create(Jo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return kr.create(t.compositeFilter.filters.map(i=>mw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe()}}(t.compositeFilter.op))}(n):Pe()}function fO(n){return eO[n]}function pO(n){return tO[n]}function mO(n){return nO[n]}function Xo(n){return{fieldPath:n.canonicalString()}}function Jo(n){return jt.fromServerFormat(n.fieldPath)}function gw(n){return n instanceof Ct?function(t){if(t.op==="=="){if(f_(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NAN"}};if(d_(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(f_(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NAN"}};if(d_(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(t.field),op:pO(t.op),value:t.value}}}(n):n instanceof kr?function(t){const i=t.getFilters().map(o=>gw(o));return i.length===1?i[0]:{compositeFilter:{op:mO(t.op),filters:i}}}(n):Pe()}function gO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,t,i,o,a=be.min(),u=be.min(),d=zt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.ht=e}}function vO(n){const e=hO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?fp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.ln=new EO}addToCollectionParentIndex(e,t){return this.ln.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Yi.min())}updateCollectionGroup(e,t,i){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class EO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new kt(mt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new kt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ha(0)}static Qn(){return new ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_([n,e],[t,i]){const o=Ue(n,t);return o===0?Ue(e,i):o}class wO{constructor(e){this.Gn=e,this.buffer=new kt(P_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();P_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class TO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_a(t)?ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await va(t)}await this.Yn(3e5)})}}class IO{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Rh.oe);const i=new wO(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(C_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,u,d,f,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,u=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(a=T,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),Qo()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${T} documents in `+(y-f)+`ms
Total Duration: ${y-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:T})))}}function SO(n,e){return new IO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.changes=new to(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?J.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Al(i.mutation,o,or.empty(),Pt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ve()){const o=Fs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=yl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Fs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ve()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,i,o){let a=ai();const u=Sl(),d=function(){return Sl()}();return t.forEach((f,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof no)?a=a.insert(y.key,y):_!==void 0?(u.set(y.key,_.mutation.getFieldMask()),Al(_.mutation,y,_.mutation.getFieldMask(),Pt.now())):u.set(y.key,or.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((y,_)=>u.set(y,_)),t.forEach((y,_)=>{var T;return d.set(y,new RO(_,(T=u.get(y))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Sl();let o=new dt((u,d)=>u-d),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const y=t.get(f);if(y===null)return;let _=i.get(f)||or.empty();_=d.applyToLocalView(y,_),i.set(f,_);const T=(o.get(d.batchId)||Ve()).add(f);o=o.insert(d.batchId,T)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),y=f.key,_=f.value,T=ZE();_.forEach(w=>{if(!a.has(w)){const k=sw(t.get(w),i.get(w));k!==null&&T.set(w,k),a=a.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,T))}return J.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return Se.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):b2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):J.resolve(Fs());let d=-1,f=a;return u.next(y=>J.forEach(y,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),a.get(_)?J.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{f=f.insert(_,w)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,f,y,Ve())).next(_=>({batchId:d,changes:JE(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(i=>{let o=yl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=yl();return this.indexManager.getCollectionParents(e,a).next(d=>J.forEach(d,f=>{const y=function(T,w){return new kh(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((T,w)=>{u=u.insert(T,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((f,y)=>{const _=y.getKey();u.get(_)===null&&(u=u.insert(_,Qt.newInvalidDocument(_)))});let d=yl();return u.forEach((f,y)=>{const _=a.get(f);_!==void 0&&Al(_.mutation,y,or.empty(),Pt.now()),xh(t,y)&&(d=d.insert(f,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return J.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Rr(o.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:vO(o.bundledQuery),readTime:Rr(o.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.overlays=new dt(Se.comparator),this.Er=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Fs();return J.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),J.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),J.resolve()}getOverlaysForCollection(e,t,i){const o=Fs(),a=t.length+1,u=new Se(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,y=f.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new dt((y,_)=>y-_);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=a.get(y.largestBatchId);_===null&&(_=Fs(),a=a.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=Fs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return J.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new G2(t,i));let a=this.Er.get(t);a===void 0&&(a=Ve(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.dr=new kt(Lt.Ar),this.Rr=new kt(Lt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Lt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Lt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Se(new mt([])),i=new Lt(t,e),o=new Lt(t,e+1),a=[];return this.Rr.forEachInRange([i,o],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Se(new mt([])),i=new Lt(t,e),o=new Lt(t,e+1);let a=Ve();return this.Rr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Lt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Lt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Se.comparator(e.key,t.key)||Ue(e.br,t.br)}static Vr(e,t){return Ue(e.br,t.br)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new kt(Lt.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new K2(a,t,i,o);this.mutationQueue.push(u);for(const d of o)this.vr=this.vr.add(new Lt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(u)}lookupMutationBatch(e,t){return J.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Lt(t,0),o=new Lt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],u=>{const d=this.Cr(u.br);a.push(d)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new kt(Ue);return t.forEach(o=>{const a=new Lt(o,0),u=new Lt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],d=>{i=i.add(d.br)})}),J.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Se.isDocumentKey(a)||(a=a.child(""));const u=new Lt(new Se(a),0);let d=new kt(Ue);return this.vr.forEachWhile(f=>{const y=f.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(f.br)),!0)},u),J.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Qe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return J.forEach(t.mutations,o=>{const a=new Lt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Lt(t,0),o=this.vr.firstAfterOrEqual(i);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.Nr=e,this.docs=function(){return new dt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return J.resolve(i?i.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let i=ai();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Qt.newInvalidDocument(o))}),J.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=ai();const u=t.path,d=new Se(u.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:y,value:{document:_}}=f.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||l2(a2(_),i)<=0||(o.has(_.key)||xh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Pe()}Lr(e,t){return J.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new NO(this)}getSize(e){return J.resolve(this.size)}}class NO extends AO{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),J.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.persistence=e,this.Br=new to(t=>Zp(t),em),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.kr=0,this.qr=new om,this.targetCount=0,this.Qr=ha.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),J.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ha(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Un(t),J.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),J.waitFor(a).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return J.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),J.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return J.resolve(i)}containsKey(e,t){return J.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Rh(0),this.Ur=!1,this.Ur=!0,this.Wr=new bO,this.referenceDelegate=e(this),this.Gr=new DO(this),this.indexManager=new _O,this.remoteDocumentCache=function(o){return new OO(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new yO(t),this.jr=new PO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new xO(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const o=new LO(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return J.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class LO extends c2{constructor(e){super(),this.currentSequenceNumber=e}}class am{constructor(e){this.persistence=e,this.Zr=new om,this.Xr=null}static ei(e){return new am(e)}get ti(){if(this.Xr)return this.Xr;throw Pe()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),J.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),J.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,i=>{const o=Se.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,be.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return J.or([()=>J.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class lh{constructor(e,t){this.persistence=e,this.ri=new to(i=>f2(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=SO(this,t)}static ei(e,t){return new lh(e,t)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return J.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?J.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,u=>this.ir(e,u,t).next(d=>{d||(i++,a.removeEntry(u,be.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),J.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Uc(e.data.value)),t}ir(e,t,i){return J.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return J.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Ve(),o=Ve();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new lm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return UC()?8:h2(Yt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new VO;return this.ts(e,t,u).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,u,d.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Qo()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):(Qo()<=Le.DEBUG&&ce("QueryEngine","Query:",Yo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Qo()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):J.resolve())}Xi(e,t){if(y_(t))return J.resolve(null);let i=Ar(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=fp(t,null,"F"),i=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Ve(...a);return this.Zi.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const y=this.rs(t,d);return this.ss(t,y,u,f.readTime)?this.Xi(e,fp(t,null,"F")):this.os(e,y,t,f)}))})))}es(e,t,i,o){return y_(t)||o.isEqual(be.min())?J.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const u=this.rs(t,a);return this.ss(t,u,i,o)?J.resolve(null):(Qo()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Yo(t)),this.os(e,u,t,o2(o,-1)).next(d=>d))})}rs(e,t){let i=new kt(YE(e));return t.forEach((o,a)=>{xh(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return Qo()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Yo(t)),this.Zi.getDocumentsMatchingQuery(e,t,Yi.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new dt(Ue),this.cs=new to(a=>Zp(a),em),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CO(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function UO(n,e,t,i){return new FO(n,e,t,i)}async function _w(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],d=[];let f=Ve();for(const y of o){u.push(y.batchId);for(const _ of y.mutations)f=f.add(_.key)}for(const y of a){d.push(y.batchId);for(const _ of y.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(i,f).next(y=>({Ts:y,removedBatchIds:u,addedBatchIds:d}))})})}function $O(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,f,y,_){const T=y.batch,w=T.keys();let k=J.resolve();return w.forEach(D=>{k=k.next(()=>_.getEntry(f,D)).next(V=>{const b=y.docVersions.get(D);Qe(b!==null),V.version.compareTo(b)<0&&(T.applyToRemoteDocument(V,y),V.isValidDocument()&&(V.setReadTime(y.commitVersion),_.addEntry(V)))})}),k.next(()=>d.mutationQueue.removeMutationBatch(f,T))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let f=Ve();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(f=f.add(d.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function Ew(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function jO(n,e){const t=xe(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((_,T)=>{const w=o.get(T);if(!w)return;d.push(t.Gr.removeMatchingKeys(a,_.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(a,_.addedDocuments,T)));let k=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(zt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(_.resumeToken,i)),o=o.insert(T,k),function(V,b,x){return V.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(w,k,_)&&d.push(t.Gr.updateTargetData(a,k))});let f=ai(),y=Ve();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(zO(a,u,e.documentUpdates).next(_=>{f=_.Is,y=_.Es})),!i.isEqual(be.min())){const _=t.Gr.getLastRemoteSnapshotVersion(a).next(T=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(_)}return J.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,y)).next(()=>f)}).then(a=>(t.us=o,a))}function zO(n,e,t){let i=Ve(),o=Ve();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=ai();return t.forEach((d,f)=>{const y=a.get(d);f.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(be.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||f.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ce("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",f.version)}),{Is:u,Es:o}})}function BO(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function HO(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,J.resolve(o)):t.Gr.allocateTargetId(i).next(u=>(o=new Bi(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function vp(n,e,t){const i=xe(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!_a(u))throw u;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function k_(n,e,t){const i=xe(n);let o=be.min(),a=Ve();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,y,_){const T=xe(f),w=T.cs.get(_);return w!==void 0?J.resolve(T.us.get(w)):T.Gr.getTargetData(y,_)}(i,u,Ar(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>i._s.getDocumentsMatchingQuery(u,e,t?o:be.min(),t?a:Ve())).next(d=>(qO(i,O2(e),d),{documents:d,ds:a})))}function qO(n,e,t){let i=n.ls.get(e)||be.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class b_{constructor(){this.activeTargetIds=F2()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WO{constructor(){this._o=new b_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new b_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function Vf(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class YO extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,u){const d=Vf(),f=this.No(t,i.toUriEncodedString());ce("RestConnection",`Sending RPC '${t}' ${d}:`,f,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,a,u),this.Bo(t,f,y,o).then(_=>(ce("RestConnection",`Received RPC '${t}' ${d}: `,_),_),_=>{throw aa("RestConnection",`RPC '${t}' ${d} failed with error: `,_,"url: ",f,"request:",o),_})}ko(t,i,o,a,u,d){return this.Oo(t,i,o,a,u)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}No(t,i){const o=GO[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=Vf();return new Promise((u,d)=>{const f=new NE;f.setWithCredentials(!0),f.listenOnce(DE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Fc.NO_ERROR:const _=f.getResponseJson();ce(Kt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),u(_);break;case Fc.TIMEOUT:ce(Kt,`RPC '${e}' ${a} timed out`),d(new Ie(re.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const T=f.getStatus();if(ce(Kt,`RPC '${e}' ${a} failed with status:`,T,"response text:",f.getResponseText()),T>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const k=w==null?void 0:w.error;if(k&&k.status&&k.message){const D=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(x)>=0?x:re.UNKNOWN}(k.status);d(new Ie(D,k.message))}else d(new Ie(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ie(re.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{ce(Kt,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);ce(Kt,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Vf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ME(),d=VE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=a.join("");ce(Kt,`Creating RPC '${e}' stream ${o}: ${_}`,f);const T=u.createWebChannel(_,f);let w=!1,k=!1;const D=new QO({Eo:b=>{k?ce(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(w||(ce(Kt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ce(Kt,`RPC '${e}' stream ${o} sending:`,b),T.send(b))},Ao:()=>T.close()}),V=(b,x,M)=>{b.listen(x,q=>{try{M(q)}catch(Z){setTimeout(()=>{throw Z},0)}})};return V(T,gl.EventType.OPEN,()=>{k||(ce(Kt,`RPC '${e}' stream ${o} transport opened.`),D.So())}),V(T,gl.EventType.CLOSE,()=>{k||(k=!0,ce(Kt,`RPC '${e}' stream ${o} transport closed`),D.Do())}),V(T,gl.EventType.ERROR,b=>{k||(k=!0,aa(Kt,`RPC '${e}' stream ${o} transport errored:`,b),D.Do(new Ie(re.UNAVAILABLE,"The operation could not be completed")))}),V(T,gl.EventType.MESSAGE,b=>{var x;if(!k){const M=b.data[0];Qe(!!M);const q=M,Z=(q==null?void 0:q.error)||((x=q[0])===null||x===void 0?void 0:x.error);if(Z){ce(Kt,`RPC '${e}' stream ${o} received error:`,Z);const W=Z.status;let X=function(R){const O=It[R];if(O!==void 0)return lw(O)}(W),A=Z.message;X===void 0&&(X=re.INTERNAL,A="Unknown error status: "+W+" with message "+Z.message),k=!0,D.Do(new Ie(X,A)),T.close()}else ce(Kt,`RPC '${e}' stream ${o} received:`,M),D.vo(M)}}),V(d,LE.STAT_EVENT,b=>{b.stat===lp.PROXY?ce(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===lp.NOPROXY&&ce(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.bo()},0),D}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(n){return new rO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t,i,o,a,u,d,f){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ww(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new Ie(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XO extends Tw{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=oO(this.serializer,e),i=function(a){if(!("targetChange"in a))return be.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?be.min():u.readTime?Rr(u.readTime):be.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=yp(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=dp(f)?{documents:uO(a,f)}:{query:cO(a,f).ct},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=hw(a,u.resumeToken);const y=pp(a,u.expectedCount);y!==null&&(d.expectedCount=y)}else if(u.snapshotVersion.compareTo(be.min())>0){d.readTime=ah(a,u.snapshotVersion.toTimestamp());const y=pp(a,u.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=dO(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=yp(this.serializer),t.removeTarget=e,this.c_(t)}}class JO extends Tw{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=lO(e.writeResults,e.commitTime),i=Rr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=yp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>aO(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Ie(re.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,mp(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(re.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ko(e,mp(t,i),o,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(re.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class eN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(oi(t),this.C_=!1):ce("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{i.enqueueAndForget(async()=>{ro(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(f){const y=xe(f);y.k_.add(4),await tu(y),y.K_.set("Unknown"),y.k_.delete(4),await Vh(y)}(this))})}),this.K_=new eN(i,o)}}async function Vh(n){if(ro(n))for(const e of n.q_)await e(!0)}async function tu(n){for(const e of n.q_)await e(!1)}function Iw(n,e){const t=xe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),dm(t)?hm(t):Ea(t).s_()&&cm(t,e))}function um(n,e){const t=xe(n),i=Ea(t);t.B_.delete(e),i.s_()&&Sw(t,e),t.B_.size===0&&(i.s_()?i.a_():ro(t)&&t.K_.set("Unknown"))}function cm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ea(n).V_(e)}function Sw(n,e){n.U_.xe(e),Ea(n).m_(e)}function hm(n){n.U_=new Z2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ea(n).start(),n.K_.F_()}function dm(n){return ro(n)&&!Ea(n).i_()&&n.B_.size>0}function ro(n){return xe(n).k_.size===0}function Aw(n){n.U_=void 0}async function nN(n){n.K_.set("Online")}async function rN(n){n.B_.forEach((e,t)=>{cm(n,e)})}async function iN(n,e){Aw(n),dm(n)?(n.K_.O_(e),hm(n)):n.K_.set("Unknown")}async function sN(n,e,t){if(n.K_.set("Online"),e instanceof cw&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const d of a.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await uh(n,i)}else if(e instanceof zc?n.U_.$e(e):e instanceof uw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(be.min()))try{const i=await Ew(n.localStore);t.compareTo(i)>=0&&await function(a,u){const d=a.U_.it(u);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.B_.get(y);_&&a.B_.set(y,_.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,y)=>{const _=a.B_.get(f);if(!_)return;a.B_.set(f,_.withResumeToken(zt.EMPTY_BYTE_STRING,_.snapshotVersion)),Sw(a,f);const T=new Bi(_.target,f,y,_.sequenceNumber);cm(a,T)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ce("RemoteStore","Failed to raise snapshot:",i),await uh(n,i)}}async function uh(n,e,t){if(!_a(e))throw e;n.k_.add(1),await tu(n),n.K_.set("Offline"),t||(t=()=>Ew(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Vh(n)})}function Rw(n,e){return e().catch(t=>uh(n,t,e))}async function Mh(n){const e=xe(n),t=es(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;oN(e);)try{const o=await BO(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,aN(e,o)}catch(o){await uh(e,o)}Cw(e)&&Pw(e)}function oN(n){return ro(n)&&n.L_.length<10}function aN(n,e){n.L_.push(e);const t=es(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Cw(n){return ro(n)&&!es(n).i_()&&n.L_.length>0}function Pw(n){es(n).start()}async function lN(n){es(n).w_()}async function uN(n){const e=es(n);for(const t of n.L_)e.g_(t.mutations)}async function cN(n,e,t){const i=n.L_.shift(),o=rm.from(i,e,t);await Rw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Mh(n)}async function hN(n,e){e&&es(n).f_&&await async function(i,o){if(function(u){return Y2(u)&&u!==re.ABORTED}(o.code)){const a=i.L_.shift();es(i).__(),await Rw(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Mh(i)}}(n,e),Cw(n)&&Pw(n)}async function O_(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const i=ro(t);t.k_.add(3),await tu(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Vh(t)}async function dN(n,e){const t=xe(n);e?(t.k_.delete(2),await Vh(t)):e||(t.k_.add(2),await tu(t),t.K_.set("Unknown"))}function Ea(n){return n.W_||(n.W_=function(t,i,o){const a=xe(t);return a.b_(),new XO(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:nN.bind(null,n),mo:rN.bind(null,n),po:iN.bind(null,n),R_:sN.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),dm(n)?hm(n):n.K_.set("Unknown")):(await n.W_.stop(),Aw(n))})),n.W_}function es(n){return n.G_||(n.G_=function(t,i,o){const a=xe(t);return a.b_(),new JO(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:lN.bind(null,n),po:hN.bind(null,n),p_:uN.bind(null,n),y_:cN.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Mh(n)):(await n.G_.stop(),n.L_.length>0&&(ce("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,d=new fm(e,t,u,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(n,e){if(oi("AsyncQueue",`${e}: ${n}`),_a(n))return new Ie(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{static emptySet(e){return new ia(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Se.comparator(t.key,i.key):(t,i)=>Se.comparator(t.key,i.key),this.keyedMap=yl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ia)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ia;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.z_=new dt(Se.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Pe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class da{constructor(e,t,i,o,a,u,d,f,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new da(e,t,ia.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class pN{constructor(){this.queries=D_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=xe(t),a=o.queries;o.queries=D_(),a.forEach((u,d)=>{for(const f of d.J_)f.onError(i)})})(this,new Ie(re.ABORTED,"Firestore shutting down"))}}function D_(){return new to(n=>QE(n),bh)}async function mN(n,e){const t=xe(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new fN,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=pm(u,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&mm(t)}async function gN(n,e){const t=xe(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function yN(n,e){const t=xe(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.J_)d.ta(o)&&(i=!0);u.H_=o}}i&&mm(t)}function vN(n,e,t){const i=xe(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function mm(n){n.X_.forEach(e=>{e.next()})}var _p,L_;(L_=_p||(_p={})).na="default",L_.Cache="cache";class _N{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new da(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==_p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.key=e}}class bw{constructor(e){this.key=e}}class EN{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=YE(e),this.ma=new ia(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new N_,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const w=o.get(_),k=xh(this.query,T)?T:null,D=!!w&&this.mutatedKeys.has(w.key),V=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let b=!1;w&&k?w.data.isEqual(k.data)?D!==V&&(i.track({type:3,doc:k}),b=!0):this.ya(w,k)||(i.track({type:2,doc:k}),b=!0,(f&&this.Va(k,f)>0||y&&this.Va(k,y)<0)&&(d=!0)):!w&&k?(i.track({type:0,doc:k}),b=!0):w&&!k&&(i.track({type:1,doc:w}),b=!0,(f||y)&&(d=!0)),b&&(k?(u=u.add(k),a=V?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{ma:u,pa:i,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((_,T)=>function(k,D){const V=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return V(k)-V(D)}(_.type,T.type)||this.Va(_.doc,T.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],f=this.Ra.size===0&&this.current&&!o?1:0,y=f!==this.Aa;return this.Aa=f,u.length!==0||y?{snapshot:new da(this.query,e.ma,a,u,e.mutatedKeys,f===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new N_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ve(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new bw(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new kw(i))}),t}va(e){this.da=e.ds,this.Ra=Ve();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return da.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class wN{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class TN{constructor(e){this.key=e,this.Fa=!1}}class IN{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new to(d=>QE(d),bh),this.Oa=new Map,this.Na=new Set,this.La=new dt(Se.comparator),this.Ba=new Map,this.ka=new om,this.qa={},this.Qa=new Map,this.Ka=ha.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function SN(n,e,t=!0){const i=Vw(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await xw(i,e,t,!0),o}async function AN(n,e){const t=Vw(n);await xw(t,e,!0,!1)}async function xw(n,e,t,i){const o=await HO(n.localStore,Ar(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await RN(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&Iw(n.remoteStore,o),d}async function RN(n,e,t,i,o){n.Ua=(T,w,k)=>async function(V,b,x,M){let q=b.view.ga(x);q.ss&&(q=await k_(V.localStore,b.query,!1).then(({documents:A})=>b.view.ga(A,q)));const Z=M&&M.targetChanges.get(b.targetId),W=M&&M.targetMismatches.get(b.targetId)!=null,X=b.view.applyChanges(q,V.isPrimaryClient,Z,W);return M_(V,b.targetId,X.ba),X.snapshot}(n,T,w,k);const a=await k_(n.localStore,e,!0),u=new EN(e,a.ds),d=u.ga(a.documents),f=eu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=u.applyChanges(d,n.isPrimaryClient,f);M_(n,t,y.ba);const _=new wN(e,t,u);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function CN(n,e,t){const i=xe(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(u=>!bh(u,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await vp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&um(i.remoteStore,o.targetId),Ep(i,o.targetId)}).catch(va)):(Ep(i,o.targetId),await vp(i.localStore,o.targetId,!0))}async function PN(n,e){const t=xe(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),um(t.remoteStore,i.targetId))}async function kN(n,e,t){const i=VN(n);try{const o=await function(u,d){const f=xe(u),y=Pt.now(),_=d.reduce((k,D)=>k.add(D.key),Ve());let T,w;return f.persistence.runTransaction("Locally write mutations","readwrite",k=>{let D=ai(),V=Ve();return f.hs.getEntries(k,_).next(b=>{D=b,D.forEach((x,M)=>{M.isValidDocument()||(V=V.add(x))})}).next(()=>f.localDocuments.getOverlayedDocuments(k,D)).next(b=>{T=b;const x=[];for(const M of d){const q=q2(M,T.get(M.key).overlayedDocument);q!=null&&x.push(new no(M.key,q,zE(q.value.mapValue),ti.exists(!0)))}return f.mutationQueue.addMutationBatch(k,y,x,d)}).next(b=>{w=b;const x=b.applyToLocalDocumentSet(T,V);return f.documentOverlayCache.saveOverlays(k,b.batchId,x)})}).then(()=>({batchId:w.batchId,changes:JE(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,d,f){let y=u.qa[u.currentUser.toKey()];y||(y=new dt(Ue)),y=y.insert(d,f),u.qa[u.currentUser.toKey()]=y}(i,o.batchId,t),await nu(i,o.changes),await Mh(i.remoteStore)}catch(o){const a=pm(o,"Failed to persist write");t.reject(a)}}async function Ow(n,e){const t=xe(n);try{const i=await jO(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ba.get(a);u&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?Qe(u.Fa):o.removedDocuments.size>0&&(Qe(u.Fa),u.Fa=!1))}),await nu(t,i,e)}catch(i){await va(i)}}function V_(n,e,t){const i=xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,u)=>{const d=u.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const f=xe(u);f.onlineState=d;let y=!1;f.queries.forEach((_,T)=>{for(const w of T.J_)w.ea(d)&&(y=!0)}),y&&mm(f)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function bN(n,e,t){const i=xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let u=new dt(Se.comparator);u=u.insert(a,Qt.newNoDocument(a,be.min()));const d=Ve().add(a),f=new Dh(be.min(),new Map,new dt(Ue),u,d);await Ow(i,f),i.La=i.La.remove(a),i.Ba.delete(e),gm(i)}else await vp(i.localStore,e,!1).then(()=>Ep(i,e,t)).catch(va)}async function xN(n,e){const t=xe(n),i=e.batch.batchId;try{const o=await $O(t.localStore,e);Dw(t,i,null),Nw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await nu(t,o)}catch(o){await va(o)}}async function ON(n,e,t){const i=xe(n);try{const o=await function(u,d){const f=xe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return f.mutationQueue.lookupMutationBatch(y,d).next(T=>(Qe(T!==null),_=T.keys(),f.mutationQueue.removeMutationBatch(y,T))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,_,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>f.localDocuments.getDocuments(y,_))})}(i.localStore,e);Dw(i,e,t),Nw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await nu(i,o)}catch(o){await va(o)}}function Nw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function Dw(n,e,t){const i=xe(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Ep(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||Lw(n,i)})}function Lw(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(um(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),gm(n))}function M_(n,e,t){for(const i of t)i instanceof kw?(n.ka.addReference(i.key,e),NN(n,i)):i instanceof bw?(ce("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||Lw(n,i.key)):Pe()}function NN(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ce("SyncEngine","New document in limbo: "+t),n.Na.add(i),gm(n))}function gm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Se(mt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new TN(t)),n.La=n.La.insert(t,i),Iw(n.remoteStore,new Bi(Ar(tm(t.path)),i,"TargetPurposeLimboResolution",Rh.oe))}}async function nu(n,e,t){const i=xe(n),o=[],a=[],u=[];i.xa.isEmpty()||(i.xa.forEach((d,f)=>{u.push(i.Ua(f,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,T?"current":"not-current")}if(y){o.push(y);const T=lm.zi(f.targetId,y);a.push(T)}}))}),await Promise.all(u),i.Ma.R_(o),await async function(f,y){const _=xe(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>J.forEach(y,w=>J.forEach(w.Wi,k=>_.persistence.referenceDelegate.addReference(T,w.targetId,k)).next(()=>J.forEach(w.Gi,k=>_.persistence.referenceDelegate.removeReference(T,w.targetId,k)))))}catch(T){if(!_a(T))throw T;ce("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const k=_.us.get(w),D=k.snapshotVersion,V=k.withLastLimboFreeSnapshotVersion(D);_.us=_.us.insert(w,V)}}}(i.localStore,a))}async function DN(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const i=await _w(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(d=>{d.forEach(f=>{f.reject(new Ie(re.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await nu(t,i.Ts)}}function LN(n,e){const t=xe(n),i=t.Ba.get(e);if(i&&i.Fa)return Ve().add(i.key);{let o=Ve();const a=t.Oa.get(e);if(!a)return o;for(const u of a){const d=t.xa.get(u);o=o.unionWith(d.view.fa)}return o}}function Vw(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ow.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bN.bind(null,e),e.Ma.R_=yN.bind(null,e.eventManager),e.Ma.Wa=vN.bind(null,e.eventManager),e}function VN(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ON.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return UO(this.persistence,new MO,e.initialUser,this.serializer)}ja(e){return new vw(am.ei,this.serializer)}za(e){return new WO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class MN extends ch{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Qe(this.persistence.referenceDelegate instanceof lh);const i=this.persistence.referenceDelegate.garbageCollector;return new TO(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new vw(i=>lh.ei(i,t),this.serializer)}}class wp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>V_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DN.bind(null,this.syncEngine),await dN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pN}()}createDatastore(e){const t=Lh(e.databaseInfo.databaseId),i=function(a){return new YO(a)}(e.databaseInfo);return function(a,u,d,f){return new ZO(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,d){return new tN(i,o,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>V_(this.syncEngine,t,0),function(){return x_.p()?new x_:new KO}())}createSyncEngine(e,t){return function(o,a,u,d,f,y,_){const T=new IN(o,a,u,d,f,y);return _&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=xe(o);ce("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await tu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Gt.UNAUTHENTICATED,this.clientId=UE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{ce("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ce("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=pm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ff(n,e){n.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await _w(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function F_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $N(n);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>O_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>O_(e.remoteStore,o)),n._onlineComponents=e}async function $N(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ff(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;aa("Error using user provided cache. Falling back to memory cache: "+t),await Ff(n,new ch)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Ff(n,new MN(void 0));return n._offlineComponents}async function Mw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await F_(n,n._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await F_(n,new wp))),n._onlineComponents}function jN(n){return Mw(n).then(e=>e.syncEngine)}async function zN(n){const e=await Mw(n),t=e.eventManager;return t.onListen=SN.bind(null,e.syncEngine),t.onUnlisten=CN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=AN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=PN.bind(null,e.syncEngine),t}function BN(n,e,t={}){const i=new Gi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,y){const _=new FN({next:w=>{_.eu(),u.enqueueAndForget(()=>gN(a,T));const k=w.docs.has(d);!k&&w.fromCache?y.reject(new Ie(re.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&f&&f.source==="server"?y.reject(new Ie(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new _N(tm(d.path),_,{includeMetadataChanges:!0,ua:!0});return mN(a,T)}(await zN(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(n,e,t){if(!t)throw new Ie(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qN(n,e,t,i){if(e===!0&&i===!0)throw new Ie(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $_(n){if(!Se.isDocumentKey(n))throw new Ie(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ym(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe()}function Ul(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ym(n);throw new Ie(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ie(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ie(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ie(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ie(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vm{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Xx;switch(i.type){case"firstParty":return new t2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ie(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=U_.get(t);i&&(ce("ComponentProvider","Removing Datastore"),U_.delete(t),i.terminate())}(this),Promise.resolve()}}function WN(n,e,t,i={}){var o;const a=(n=Ul(n,vm))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let d,f;if(typeof i.mockUserToken=="string")d=i.mockUserToken,f=Gt.MOCK_USER;else{d=OC(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Ie(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Gt(y)}n._authCredentials=new Jx(new FE(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _m(this.firestore,e,this._query)}}class Un{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class $l extends _m{constructor(e,t,i){super(e,t,tm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new Se(e))}withConverter(e){return new $l(this.firestore,e,this._path)}}function Uw(n,e,...t){if(n=ar(n),arguments.length===1&&(e=UE.newId()),HN("doc","path",e),n instanceof vm){const i=mt.fromString(e,...t);return $_(i),new Un(n,null,new Se(i))}{if(!(n instanceof Un||n instanceof $l))throw new Ie(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(e,...t));return $_(i),new Un(n.firestore,n instanceof $l?n.converter:null,new Se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ww(this,"async_queue_retry"),this.fu=()=>{const i=Mf();i&&ce("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Mf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Gi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!_a(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(i);throw oi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=fm.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Pe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Em extends vm{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new z_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function KN(n,e){const t=typeof n=="object"?n:j0(),i=typeof n=="string"?n:"(default)",o=$p(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=bC("firestore");a&&WN(o,...a)}return o}function $w(n){if(n._terminated)throw new Ie(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||GN(n),n._firestoreClient}function GN(n){var e,t,i;const o=n._freezeSettings(),a=function(d,f,y,_){return new g2(d,f,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Fw(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new UN(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(zt.fromBase64String(e))}catch(t){throw new Ie(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fa(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^__.*__$/;class YN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zl(e,this.data,t,this.fieldTransforms)}}function zw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class Sm{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Sm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return hh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(zw(this.Mu)&&QN.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class XN{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Lh(e)}$u(e,t,i,o=!1){return new Sm({Mu:e,methodName:t,Ku:i,path:jt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JN(n){const e=n._freezeSettings(),t=Lh(n._databaseId);return new XN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZN(n,e,t,i,o,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,o);Ww("Data must be an object, but it was:",u,i);const d=Hw(i,u);let f,y;if(a.merge)f=new or(u.fieldMask),y=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const T of a.mergeFields){const w=eD(e,T,t);if(!u.contains(w))throw new Ie(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);nD(_,w)||_.push(w)}f=new or(_),y=u.fieldTransforms.filter(T=>f.covers(T.field))}else f=null,y=u.fieldTransforms;return new YN(new Fn(d),f,y)}function Bw(n,e){if(qw(n=ar(n)))return Ww("Unsupported field value:",e,n),Hw(n,e);if(n instanceof jw)return function(i,o){if(!zw(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const d of i){let f=Bw(d,o.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=ar(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return U2(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Pt.fromDate(i);return{timestampValue:ah(o.serializer,a)}}if(i instanceof Pt){const a=new Pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ah(o.serializer,a)}}if(i instanceof Tm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fa)return{bytesValue:hw(o.serializer,i._byteString)};if(i instanceof Un){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:sm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Im)return function(u,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw d.qu("VectorValues must only contain numeric values.");return nm(d.serializer,f)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${ym(i)}`)}(n,e)}function Hw(n,e){const t={};return $E(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(n,(i,o)=>{const a=Bw(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function qw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof Tm||n instanceof fa||n instanceof Un||n instanceof jw||n instanceof Im)}function Ww(n,e,t){if(!qw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=ym(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function eD(n,e,t){if((e=ar(e))instanceof wm)return e._internalPath;if(typeof e=="string")return Kw(n,e);throw hh("Field path arguments must be of type string or ",n,!1,void 0,t)}const tD=new RegExp("[~\\*/\\[\\]]");function Kw(n,e,t){if(e.search(tD)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wm(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hh(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new Ie(re.INVALID_ARGUMENT,d+n+f)}function nD(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rD extends Gw{data(){return super.data()}}function Qw(n,e){return typeof e=="string"?Kw(n,e):e instanceof wm?e._internalPath:e._delegate._internalPath}class iD{convertValue(e,t="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return eo(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>Et(u.doubleValue));return new Im(a)}convertGeoPoint(e){return new Tm(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ph(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const t=Xi(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mt.fromString(e);Qe(yw(i));const o=new Ll(i.get(1),i.get(3)),a=new Se(i.popFirst(5));return o.isEqual(t)||oi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yw extends Gw{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new aD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Qw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class aD extends Yw{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(n){n=Ul(n,Un);const e=Ul(n.firestore,Em);return BN($w(e),n._key).then(t=>dD(e,n,t))}class uD extends iD{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,t)}}function cD(n,e,t){n=Ul(n,Un);const i=Ul(n.firestore,Em),o=sD(n.converter,e);return hD(i,[ZN(JN(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,ti.none())])}function hD(n,e){return function(i,o){const a=new Gi;return i.asyncQueue.enqueueAndForget(async()=>kN(await jN(i),o,a)),a.promise}($w(n),e)}function dD(n,e,t){const i=t.docs.get(e._key),o=new uD(n);return new Yw(n,o,e._key,i,new oD(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ya=o})(ma),oa(new Hs("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),d=new Em(new Zx(i.getProvider("auth-internal")),new r2(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ie(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(y.options.projectId,_)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Ki(o_,"4.7.5",e),Ki(o_,"4.7.5","esm2017")})();const fD={apiKey:"AIzaSyDBADI91f5NpD-iWs1SH2x_iM-k5SwG4Nk",authDomain:"loginandregister-4aa12.firebaseapp.com",projectId:"loginandregister-4aa12",storageBucket:"loginandregister-4aa12.firebasestorage.app",messagingSenderId:"116158849866",appId:"1:116158849866:web:66b5c4e12c824a51e417b3"},pD=$0(fD),jl=dx(),Xw=KN(pD),mD={email:"",password:""};function gD({setIsLogin:n}){const{values:e,handleBlur:t,handleChange:i,errors:o,touched:a}=S0({initialValues:mD,validationSchema:TC,onSubmit:(d,f)=>{console.log(d),f.resetForm()}}),u=async d=>{d.preventDefault();try{await Zk(jl,e.email,e.password),window.location.href="/Login-Register/profile",console.log("user login sucess")}catch(f){console.log(f),Ke.error(f.message,{position:"bottom-center"})}};return ye.jsxs("form",{action:"",className:"form",onSubmit:u,children:[ye.jsx("h2",{children:"Enter Login Details"}),ye.jsx("div",{className:"error_container",children:o.email&&a.email&&ye.jsx("p",{className:"form_error",children:o.email})}),ye.jsx("input",{type:"email",placeholder:"Email",name:"email",value:e.email,onChange:i,onBlur:t}),ye.jsx("div",{className:"error_container",children:o.password&&a.password&&ye.jsx("p",{className:"form_error",children:o.password})}),ye.jsx("input",{type:"password",placeholder:"Password",name:"password",value:e.password,onChange:i,onBlur:t}),ye.jsx("a",{href:"#",children:"Forget Password?"}),ye.jsx("button",{type:"submit",children:"Login"}),ye.jsxs("p",{children:["Not have an account?",ye.jsx("a",{href:"#",onClick:()=>n(!1),children:"Register"})]})]})}const yD=Mp().shape({name:Fi().required("required field"),mobile:Fi().required("required field"),email:Fi().email().required("required field"),password:Fi().min(6,"Password must be at least 6 characters").required("required field"),confirm_password:Fi().oneOf([rC("password")],"Password must match").required("required field")}),vD={name:"",mobile:"",email:"",password:"",confirmPassword:""};function _D({setIsLogin:n}){const{values:e,handleBlur:t,handleChange:i,errors:o,touched:a}=S0({initialValues:vD,validationSchema:yD,onSubmit:(d,f)=>{console.log(d),f.resetForm()}}),u=async d=>{d.preventDefault();try{await Jk(jl,e.email,e.password);const f=jl.currentUser;console.log(f),f&&await cD(Uw(Xw,"users",f.uid),{email:f.email,name:e.name,mobile:e.mobile,password:e.password}),Ke.success("User registered successfully",{position:"top-center"}),console.log("user registered success")}catch(f){console.log(f),Ke.error(f.message,{position:"bottom-center"})}};return ye.jsx(ye.Fragment,{children:ye.jsxs("form",{className:"form",onSubmit:u,children:[ye.jsx("h2",{children:"Register here"}),ye.jsx("div",{className:"error_container",children:o.name&&a.name&&ye.jsx("p",{className:"form_error",children:o.name})}),ye.jsx("input",{type:"text",placeholder:"Name",name:"name",value:e.name,onChange:i,onBlur:t}),ye.jsx("div",{className:"error_container",children:o.mobile&&a.mobile&&ye.jsx("p",{className:"form_error",children:o.mobile})}),ye.jsx("input",{type:"number",placeholder:"Mobile No.",name:"mobile",value:e.mobile,onChange:i,onBlur:t}),ye.jsx("div",{className:"error_container",children:o.email&&a.email&&ye.jsx("p",{className:"form_error",children:o.email})}),ye.jsx("input",{type:"email",placeholder:"Email",name:"email",value:e.email,onChange:i,onBlur:t}),ye.jsx("div",{className:"error_container",children:o.password&&a.password&&ye.jsx("p",{className:"form_error",children:o.password})}),ye.jsx("input",{type:"password",placeholder:"Password",name:"password",value:e.password,onChange:i,onBlur:t,autoComplete:"current-password"}),ye.jsx("div",{className:"error_container",children:o.confirmPassword&&a.confirmPassword&&ye.jsx("p",{className:"form_error",children:o.confirmPassword})}),ye.jsx("input",{type:"password",placeholder:"Confirm Password",name:"confirmPassword",value:e.confirmPassword,onChange:i,onBlur:t,autoComplete:"current-password"}),ye.jsx("button",{type:"submit",children:"Register"}),ye.jsxs("p",{children:["Already have an account?",ye.jsx("a",{href:"#",onClick:()=>n(!0),children:"Login"})]})]})})}const ED=()=>{const[n,e]=$.useState(!0);return ye.jsx("div",{className:"container",children:ye.jsxs("div",{className:"form-container",children:[ye.jsxs("div",{className:"form-toggle",children:[ye.jsx("button",{className:n?"active":"",onClick:()=>e(!0),children:"Login"}),ye.jsx("button",{className:n?"":"active",onClick:()=>e(!1),children:"Register"})]}),n?ye.jsx(gD,{setIsLogin:e}):ye.jsx(_D,{setIsLogin:e})]})})};var dl={},B_;function wD(){if(B_)return dl;B_=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.parse=u,dl.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,k){const D=new a,V=w.length;if(V<2)return D;const b=(k==null?void 0:k.decode)||_;let x=0;do{const M=w.indexOf("=",x);if(M===-1)break;const q=w.indexOf(";",x),Z=q===-1?V:q;if(M>Z){x=w.lastIndexOf(";",M-1)+1;continue}const W=d(w,x,M),X=f(w,M,W),A=w.slice(W,X);if(D[A]===void 0){let S=d(w,M+1,Z),R=f(w,Z,S);const O=b(w.slice(S,R));D[A]=O}x=Z+1}while(x<V);return D}function d(w,k,D){do{const V=w.charCodeAt(k);if(V!==32&&V!==9)return k}while(++k<D);return D}function f(w,k,D){for(;k>D;){const V=w.charCodeAt(--k);if(V!==32&&V!==9)return k+1}return D}function y(w,k,D){const V=(D==null?void 0:D.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const b=V(k);if(!e.test(b))throw new TypeError(`argument val is invalid: ${k}`);let x=w+"="+b;if(!D)return x;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);x+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);x+="; Domain="+D.domain}if(D.path){if(!i.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);x+="; Path="+D.path}if(D.expires){if(!T(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);x+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(x+="; HttpOnly"),D.secure&&(x+="; Secure"),D.partitioned&&(x+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return x}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function T(w){return o.call(w)==="[object Date]"}return dl}wD();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var H_="popstate";function TD(n={}){function e(i,o){let{pathname:a,search:u,hash:d}=i.location;return Tp("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:zl(o)}return SD(e,t,null,n)}function ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function br(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ID(){return Math.random().toString(36).substring(2,10)}function q_(n,e){return{usr:n.state,key:n.key,idx:e}}function Tp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?wa(e):e,state:t,key:e&&e.key||i||ID()}}function zl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function wa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function SD(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,d="POP",f=null,y=_();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function _(){return(u.state||{idx:null}).idx}function T(){d="POP";let b=_(),x=b==null?null:b-y;y=b,f&&f({action:d,location:V.location,delta:x})}function w(b,x){d="PUSH";let M=Tp(V.location,b,x);y=_()+1;let q=q_(M,y),Z=V.createHref(M);try{u.pushState(q,"",Z)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(Z)}a&&f&&f({action:d,location:V.location,delta:1})}function k(b,x){d="REPLACE";let M=Tp(V.location,b,x);y=_();let q=q_(M,y),Z=V.createHref(M);u.replaceState(q,"",Z),a&&f&&f({action:d,location:V.location,delta:0})}function D(b){let x=o.location.origin!=="null"?o.location.origin:o.location.href,M=typeof b=="string"?b:zl(b);return M=M.replace(/ $/,"%20"),ht(x,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,x)}let V={get action(){return d},get location(){return n(o,u)},listen(b){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(H_,T),f=b,()=>{o.removeEventListener(H_,T),f=null}},createHref(b){return e(o,b)},createURL:D,encodeLocation(b){let x=D(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:w,replace:k,go(b){return u.go(b)}};return V}function Jw(n,e,t="/"){return AD(n,e,t,!1)}function AD(n,e,t,i){let o=typeof e=="string"?wa(e):e,a=ts(o.pathname||"/",t);if(a==null)return null;let u=Zw(n);RD(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let y=MD(a);d=LD(u[f],y,i)}return d}function Zw(n,e=[],t=[],i=""){let o=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(ht(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let y=ni([i,f.relativePath]),_=t.concat(f);a.children&&a.children.length>0&&(ht(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Zw(a.children,e,_,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:ND(y,a.index),routesMeta:_})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let f of eT(a.path))o(a,u,f)}),e}function eT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=eT(i.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function RD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:DD(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var CD=/^:[\w-]+$/,PD=3,kD=2,bD=1,xD=10,OD=-2,W_=n=>n==="*";function ND(n,e){let t=n.split("/"),i=t.length;return t.some(W_)&&(i+=OD),e&&(i+=kD),t.filter(o=>!W_(o)).reduce((o,a)=>o+(CD.test(a)?PD:a===""?bD:xD),i)}function DD(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function LD(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],y=d===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",T=dh({path:f.relativePath,caseSensitive:f.caseSensitive,end:y},_),w=f.route;if(!T&&y&&t&&!i[i.length-1].route.index&&(T=dh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),u.push({params:o,pathname:ni([a,T.pathname]),pathnameBase:jD(ni([a,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(a=ni([a,T.pathnameBase]))}return u}function dh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=VD(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:T},w)=>{if(_==="*"){let D=d[w]||"";u=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const k=d[w];return T&&!k?y[_]=void 0:y[_]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:u,pattern:n}}function VD(n,e=!1,t=!0){br(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function MD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return br(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ts(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function FD(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?wa(n):n;return{pathname:t?t.startsWith("/")?t:UD(t,e):e,search:zD(i),hash:BD(o)}}function UD(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Uf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $D(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tT(n){let e=$D(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function nT(n,e,t,i=!1){let o;typeof n=="string"?o=wa(n):(o={...n},ht(!o.pathname||!o.pathname.includes("?"),Uf("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Uf("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Uf("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let T=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}d=T>=0?e[T]:"/"}let f=FD(o,d),y=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(y||_)&&(f.pathname+="/"),f}var ni=n=>n.join("/").replace(/\/\/+/g,"/"),jD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,BD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function HD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rT=["POST","PUT","PATCH","DELETE"];new Set(rT);var qD=["GET",...rT];new Set(qD);var Ta=$.createContext(null);Ta.displayName="DataRouter";var Fh=$.createContext(null);Fh.displayName="DataRouterState";var iT=$.createContext({isTransitioning:!1});iT.displayName="ViewTransition";var WD=$.createContext(new Map);WD.displayName="Fetchers";var KD=$.createContext(null);KD.displayName="Await";var Or=$.createContext(null);Or.displayName="Navigation";var ru=$.createContext(null);ru.displayName="Location";var ci=$.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var Am=$.createContext(null);Am.displayName="RouteError";function GD(n,{relative:e}={}){ht(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=$.useContext(Or),{hash:o,pathname:a,search:u}=su(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:ni([t,a])),i.createHref({pathname:d,search:u,hash:o})}function iu(){return $.useContext(ru)!=null}function io(){return ht(iu(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(ru).location}var sT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oT(n){$.useContext(Or).static||$.useLayoutEffect(n)}function QD(){let{isDataRoute:n}=$.useContext(ci);return n?lL():YD()}function YD(){ht(iu(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(Ta),{basename:e,navigator:t}=$.useContext(Or),{matches:i}=$.useContext(ci),{pathname:o}=io(),a=JSON.stringify(tT(i)),u=$.useRef(!1);return oT(()=>{u.current=!0}),$.useCallback((f,y={})=>{if(br(u.current,sT),!u.current)return;if(typeof f=="number"){t.go(f);return}let _=nT(f,JSON.parse(a),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ni([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,a,o,n])}$.createContext(null);function su(n,{relative:e}={}){let{matches:t}=$.useContext(ci),{pathname:i}=io(),o=JSON.stringify(tT(t));return $.useMemo(()=>nT(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function XD(n,e){return aT(n,e)}function aT(n,e,t,i){var x;ht(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(Or),{matches:a}=$.useContext(ci),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",y=u?u.pathnameBase:"/",_=u&&u.route;{let M=_&&_.path||"";lT(f,!_||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let T=io(),w;if(e){let M=typeof e=="string"?wa(e):e;ht(y==="/"||((x=M.pathname)==null?void 0:x.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${M.pathname}" was given in the \`location\` prop.`),w=M}else w=T;let k=w.pathname||"/",D=k;if(y!=="/"){let M=y.replace(/^\//,"").split("/");D="/"+k.replace(/^\//,"").split("/").slice(M.length).join("/")}let V=Jw(n,{pathname:D});br(_||V!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),br(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=nL(V&&V.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:ni([y,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?y:ni([y,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),a,t,i);return e&&b?$.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},b):b}function JD(){let n=aL(),e=HD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:a},"ErrorBoundary")," or"," ",$.createElement("code",{style:a},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,u)}var ZD=$.createElement(JD,null),eL=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(ci.Provider,{value:this.props.routeContext},$.createElement(Am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tL({routeContext:n,match:e,children:t}){let i=$.useContext(Ta);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(ci.Provider,{value:n},t)}function nL(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id])!==void 0);ht(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<o.length;f++){let y=o[f];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=f),y.route.id){let{loaderData:_,errors:T}=t,w=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||w){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,y,_)=>{let T,w=!1,k=null,D=null;t&&(T=a&&y.route.id?a[y.route.id]:void 0,k=y.route.errorElement||ZD,u&&(d<0&&_===0?(lT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,D=null):d===_&&(w=!0,D=y.route.hydrateFallbackElement||null)));let V=e.concat(o.slice(0,_+1)),b=()=>{let x;return T?x=k:w?x=D:y.route.Component?x=$.createElement(y.route.Component,null):y.route.element?x=y.route.element:x=f,$.createElement(tL,{match:y,routeContext:{outlet:f,matches:V,isDataRoute:t!=null},children:x})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?$.createElement(eL,{location:t.location,revalidation:t.revalidation,component:k,error:T,children:b(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):b()},null)}function Rm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rL(n){let e=$.useContext(Ta);return ht(e,Rm(n)),e}function iL(n){let e=$.useContext(Fh);return ht(e,Rm(n)),e}function sL(n){let e=$.useContext(ci);return ht(e,Rm(n)),e}function Cm(n){let e=sL(n),t=e.matches[e.matches.length-1];return ht(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oL(){return Cm("useRouteId")}function aL(){var i;let n=$.useContext(Am),e=iL("useRouteError"),t=Cm("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function lL(){let{router:n}=rL("useNavigate"),e=Cm("useNavigate"),t=$.useRef(!1);return oT(()=>{t.current=!0}),$.useCallback(async(o,a={})=>{br(t.current,sT),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var K_={};function lT(n,e,t){!e&&!K_[n]&&(K_[n]=!0,br(!1,t))}$.memo(uL);function uL({routes:n,future:e,state:t}){return aT(n,void 0,t,e)}function Ip(n){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cL({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){ht(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=wa(t));let{pathname:f="/",search:y="",hash:_="",state:T=null,key:w="default"}=t,k=$.useMemo(()=>{let D=ts(f,u);return D==null?null:{location:{pathname:D,search:y,hash:_,state:T,key:w},navigationType:i}},[u,f,y,_,T,w,i]);return br(k!=null,`<Router basename="${u}"> is not able to match the URL "${f}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:$.createElement(Or.Provider,{value:d},$.createElement(ru.Provider,{children:e,value:k}))}function hL({children:n,location:e}){return XD(Sp(n),e)}function Sp(n,e=[]){let t=[];return $.Children.forEach(n,(i,o)=>{if(!$.isValidElement(i))return;let a=[...e,o];if(i.type===$.Fragment){t.push.apply(t,Sp(i.props.children,a));return}ht(i.type===Ip,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Sp(i.props.children,a)),t.push(u)}),t}var Bc="get",Hc="application/x-www-form-urlencoded";function Uh(n){return n!=null&&typeof n.tagName=="string"}function dL(n){return Uh(n)&&n.tagName.toLowerCase()==="button"}function fL(n){return Uh(n)&&n.tagName.toLowerCase()==="form"}function pL(n){return Uh(n)&&n.tagName.toLowerCase()==="input"}function mL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gL(n,e){return n.button===0&&(!e||e==="_self")&&!mL(n)}var xc=null;function yL(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var vL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $f(n){return n!=null&&!vL.has(n)?(br(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):n}function _L(n,e){let t,i,o,a,u;if(fL(n)){let d=n.getAttribute("action");i=d?ts(d,e):null,t=n.getAttribute("method")||Bc,o=$f(n.getAttribute("enctype"))||Hc,a=new FormData(n)}else if(dL(n)||pL(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(i=f?ts(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Bc,o=$f(n.getAttribute("formenctype"))||$f(d.getAttribute("enctype"))||Hc,a=new FormData(d,n),!yL()){let{name:y,type:_,value:T}=n;if(_==="image"){let w=y?`${y}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else y&&a.append(y,T)}}else{if(Uh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Bc,i=null,o=Hc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:u}}function Pm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function EL(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wL(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function TL(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await EL(a,t);return u.links?u.links():[]}return[]}));return RL(i.flat(1).filter(wL).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function G_(n,e,t,i,o,a){let u=(f,y)=>t[y]?f.route.id!==t[y].route.id:!0,d=(f,y)=>{var _;return t[y].pathname!==f.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,y)=>u(f,y)||d(f,y)):a==="data"?e.filter((f,y)=>{var T;let _=i.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(u(f,y)||d(f,y))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function IL(n,e){return SL(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function SL(n){return[...new Set(n)]}function AL(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function RL(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(AL(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function CL(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function PL(){let n=$.useContext(Ta);return Pm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function kL(){let n=$.useContext(Fh);return Pm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var km=$.createContext(void 0);km.displayName="FrameworkContext";function uT(){let n=$.useContext(km);return Pm(n,"You must render this element inside a <HydratedRouter> element"),n}function bL(n,e){let t=$.useContext(km),[i,o]=$.useState(!1),[a,u]=$.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:y,onMouseLeave:_,onTouchStart:T}=e,w=$.useRef(null);$.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let V=x=>{x.forEach(M=>{u(M.isIntersecting)})},b=new IntersectionObserver(V,{threshold:.5});return w.current&&b.observe(w.current),()=>{b.disconnect()}}},[n]),$.useEffect(()=>{if(i){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[i]);let k=()=>{o(!0)},D=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,w,{}]:[a,w,{onFocus:fl(d,k),onBlur:fl(f,D),onMouseEnter:fl(y,k),onMouseLeave:fl(_,D),onTouchStart:fl(T,k)}]:[!1,w,{}]}function fl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xL({page:n,...e}){let{router:t}=PL(),i=$.useMemo(()=>Jw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?$.createElement(NL,{page:n,matches:i,...e}):null}function OL(n){let{manifest:e,routeModules:t}=uT(),[i,o]=$.useState([]);return $.useEffect(()=>{let a=!1;return TL(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),i}function NL({page:n,matches:e,...t}){let i=io(),{manifest:o,routeModules:a}=uT(),{loaderData:u,matches:d}=kL(),f=$.useMemo(()=>G_(n,e,d,o,i,"data"),[n,e,d,o,i]),y=$.useMemo(()=>G_(n,e,d,o,i,"assets"),[n,e,d,o,i]),_=$.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let k=new Set,D=!1;if(e.forEach(b=>{var M;let x=o.routes[b.route.id];!x||!x.hasLoader||(!f.some(q=>q.route.id===b.route.id)&&b.route.id in u&&((M=a[b.route.id])!=null&&M.shouldRevalidate)||x.hasClientLoader?D=!0:k.add(b.route.id))}),k.size===0)return[];let V=CL(n);return D&&k.size>0&&V.searchParams.set("_routes",e.filter(b=>k.has(b.route.id)).map(b=>b.route.id).join(",")),[V.pathname+V.search]},[u,i,o,f,e,n,a]),T=$.useMemo(()=>IL(y,o),[y,o]),w=OL(y);return $.createElement($.Fragment,null,_.map(k=>$.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),T.map(k=>$.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),w.map(({key:k,link:D})=>$.createElement("link",{key:k,...D})))}function DL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var cT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cT&&(window.__reactRouterVersion="7.1.1")}catch{}function LL({basename:n,children:e,window:t}){let i=$.useRef();i.current==null&&(i.current=TD({window:t,v5Compat:!0}));let o=i.current,[a,u]=$.useState({action:o.action,location:o.location}),d=$.useCallback(f=>{$.startTransition(()=>u(f))},[u]);return $.useLayoutEffect(()=>o.listen(d),[o,d]),$.createElement(cL,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dT=$.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:d,target:f,to:y,preventScrollReset:_,viewTransition:T,...w},k){let{basename:D}=$.useContext(Or),V=typeof y=="string"&&hT.test(y),b,x=!1;if(typeof y=="string"&&V&&(b=y,cT))try{let R=new URL(window.location.href),O=y.startsWith("//")?new URL(R.protocol+y):new URL(y),N=ts(O.pathname,D);O.origin===R.origin&&N!=null?y=N+O.search+O.hash:x=!0}catch{br(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=GD(y,{relative:o}),[q,Z,W]=bL(i,w),X=UL(y,{replace:u,state:d,target:f,preventScrollReset:_,relative:o,viewTransition:T});function A(R){e&&e(R),R.defaultPrevented||X(R)}let S=$.createElement("a",{...w,...W,href:b||M,onClick:x||a?e:A,ref:DL(k,Z),target:f,"data-discover":!V&&t==="render"?"true":void 0});return q&&!V?$.createElement($.Fragment,null,S,$.createElement(xL,{page:M})):S});dT.displayName="Link";var VL=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:d,children:f,...y},_){let T=su(u,{relative:y.relative}),w=io(),k=$.useContext(Fh),{navigator:D,basename:V}=$.useContext(Or),b=k!=null&&HL(T)&&d===!0,x=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,M=w.pathname,q=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(M=M.toLowerCase(),q=q?q.toLowerCase():null,x=x.toLowerCase()),q&&V&&(q=ts(q,V)||q);const Z=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let W=M===x||!o&&M.startsWith(x)&&M.charAt(Z)==="/",X=q!=null&&(q===x||!o&&q.startsWith(x)&&q.charAt(x.length)==="/"),A={isActive:W,isPending:X,isTransitioning:b},S=W?e:void 0,R;typeof i=="function"?R=i(A):R=[i,W?"active":null,X?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(A):a;return $.createElement(dT,{...y,"aria-current":S,className:R,ref:_,style:O,to:u,viewTransition:d},typeof f=="function"?f(A):f)});VL.displayName="NavLink";var ML=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:u=Bc,action:d,onSubmit:f,relative:y,preventScrollReset:_,viewTransition:T,...w},k)=>{let D=zL(),V=BL(d,{relative:y}),b=u.toLowerCase()==="get"?"get":"post",x=typeof d=="string"&&hT.test(d),M=q=>{if(f&&f(q),q.defaultPrevented)return;q.preventDefault();let Z=q.nativeEvent.submitter,W=(Z==null?void 0:Z.getAttribute("formmethod"))||u;D(Z||q.currentTarget,{fetcherKey:e,method:W,navigate:t,replace:o,state:a,relative:y,preventScrollReset:_,viewTransition:T})};return $.createElement("form",{ref:k,method:b,action:V,onSubmit:i?f:M,...w,"data-discover":!x&&n==="render"?"true":void 0})});ML.displayName="Form";function FL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fT(n){let e=$.useContext(Ta);return ht(e,FL(n)),e}function UL(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let d=QD(),f=io(),y=su(n,{relative:a});return $.useCallback(_=>{if(gL(_,e)){_.preventDefault();let T=t!==void 0?t:zl(f)===zl(y);d(n,{replace:T,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[f,d,y,t,i,e,n,o,a,u])}var $L=0,jL=()=>`__${String(++$L)}__`;function zL(){let{router:n}=fT("useSubmit"),{basename:e}=$.useContext(Or),t=oL();return $.useCallback(async(i,o={})=>{let{action:a,method:u,encType:d,formData:f,body:y}=_L(i,e);if(o.navigate===!1){let _=o.fetcherKey||jL();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:y,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function BL(n,{relative:e}={}){let{basename:t}=$.useContext(Or),i=$.useContext(ci);ht(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...su(n||".",{relative:e})},u=io();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(_=>_==="")){d.delete("index"),f.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ni([t,a.pathname])),zl(a)}function HL(n,e={}){let t=$.useContext(iT);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=fT("useViewTransitionState"),o=su(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ts(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=ts(t.nextLocation.pathname,i)||t.nextLocation.pathname;return dh(o.pathname,u)!=null||dh(o.pathname,a)!=null}new TextEncoder;function qL(){const[n,e]=$.useState(null),t=async o=>{jl.onAuthStateChanged(async a=>{console.log(a);const u=Uw(Xw,"users",a.uid),d=await lD(u);d.exists()&&e(d.data())})};$.useEffect(()=>{t()},[]);async function i(){try{await jl.signOut(),Ke.warn("Logout Successfully",{position:"top-center"})}catch{console.log("Error logOut")}}return ye.jsx("div",{children:n?ye.jsxs(ye.Fragment,{children:[ye.jsxs("h3",{children:["Welcome ",n.name]}),ye.jsxs("div",{children:[ye.jsxs("p",{children:["Email: ",n.email]}),ye.jsxs("p",{children:["Mobile: ",n.mobile]})]}),ye.jsx("button",{onClick:i,children:"Logout"})]}):ye.jsx("p",{children:"Loading..."})})}function WL(){return ye.jsxs(LL,{children:[ye.jsxs(hL,{children:[ye.jsx(Ip,{path:"/Login-Register/",element:ye.jsx(ED,{})}),ye.jsx(Ip,{path:"/profile/",element:ye.jsx(qL,{})})]}),ye.jsx(Gx,{})]})}A1.createRoot(document.getElementById("root")).render(ye.jsx($.StrictMode,{children:ye.jsx(WL,{})}))});export default KL();
